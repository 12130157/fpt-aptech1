<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><meta name="keywords" content="L&#7853;p trình J2ME trên Eclipse, Vietnamese IT, dien dan tin hoc, Vietnamese IT, tin hoc, thu thuat tin hoc , ho tro tin hoc, so hoa, hoa hoc, computer"><meta name="description" content="[Archive] L&#7853;p trình J2ME trên Eclipse Programming"><title>L&#7853;p trình J2ME trên Eclipse [Archive]  - VocViTinh.com : Information Technology Community &amp; Resource</title></head><body><div style="text-align: center;"><table align="center" border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">


<iframe src="t-2070_files/vocvitinh_728top.htm" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="728" frameborder="0" height="90"></iframe>


</td>
</tr>
<tr>
<td align="left">
<font size="-3"><a href="http://www.vocvitinh.com/archive/index.php/payments.php"><b>join V.I.P and remove this ads</b></a></font></td>
<td align="right"><font size="-3"><a href="http://www.vocvitinh.com/archive/index.php/payments.php"><b>gia nh&#7853;p V.I.P s&#7869; không th&#7845;y qu&#7843;ng cáo
</b></a></font>
</td>
</tr>
</tbody></table></div><br>


	
	
	
	
	
	<link rel="stylesheet" type="text/css" href="t-2070_files/archive.css">

<div class="pagebody">
<div id="navbar"><a href="http://www.vocvitinh.com/archive/index.php/">VocViTinh.com : Information Technology Community &amp; Resource</a> &gt; <a href="http://www.vocvitinh.com/archive/index.php/f-5.html">PROGRAMMING - DEVELOPMENT - DESIGN</a> &gt; <a href="http://www.vocvitinh.com/archive/index.php/f-6.html">Programming</a> &gt; L&#7853;p trình J2ME trên Eclipse</div>
<hr>
<div class="pda"><a href="http://www.vocvitinh.com/archive/index.php/t-2070.html?pda=1" rel="nofollow">PDA</a></div>
<p class="largefont">View Full Version : <a href="http://www.vocvitinh.com/showthread.php?t=2070">L&#7853;p trình J2ME trên Eclipse</a></p>
<hr>

<div class="post"><div class="posttop"><div class="username">anhcakho</div><div class="date">09-01-2007, 05:03 PM</div></div><div class="posttext">L&#7853;p
trình J2ME trên Eclipse [Only registered and activated users can see
links] I.Gi&#7899;i thi&#7879;u Eclipse<br>
Nh&#7919;ng ai &#273;ã t&#7915;ng l&#7853;p trình Java trên Eclipse th&#432;&#7901;ng ch&#7881; có m&#7897;t nh&#7853;n
xét: hài lòng. Th&#7853;t v&#7853;y, công c&#7909; mã ngu&#7891;n m&#7903; &#273;&#432;&#7907;c vi&#7871;t b&#7857;ng Java c&#7911;a
anh c&#7843; IBM là m&#7897;t công c&#7909; phát tri&#7875;n ph&#7847;n m&#7873;m m&#7841;nh m&#7869;. Eclipse &#273;&#432;&#7907;c
phát tri&#7875;n theo mô hình n&#7873;n (platform), t&#7921; nó không cung c&#7845;p các ch&#7913;c
n&#259;ng cho ng&#432;&#7901;i dùng cu&#7889;i mà ch&#7881; cung c&#7845;p m&#7897;t ki&#7871;n trúc m&#7903; &#273;&#7875; các plugin
g&#7855;n vào nó làm vi&#7879;c &#273;ó. Chính vì v&#7853;y Eclipse gi&#7889;ng nh&#432; m&#7897;t h&#7879; &#273;i&#7873;u hành
&#273;&#7875; chúng ta cài &#273;&#7863;t các công c&#7909; c&#7847;n thi&#7871;t cho quá trình phát tri&#7875;n &#7913;ng
d&#7909;ng. Nó làm hài lòng gi&#7899;i l&#7853;p trình viên Java vì có khá nhi&#7873;u plugin
mã ngu&#7891;n m&#7903; ph&#7909;c v&#7909; công vi&#7879;c. H&#417;n n&#7919;a, n&#7871;u thích, b&#7841;n còn d&#7877; dàng phát
tri&#7875;n m&#7897;t plugin ph&#7909;c v&#7909; m&#7909;c &#273;ích c&#7911;a mình.<br>
<br>
II. EclipseME<br>
EclipseME là m&#7897;t Eclipse plugin dành riêng cho phát tri&#7875;n &#7913;ng d&#7909;ng J2ME
&#273;&#432;&#7907;c phát tri&#7875;n b&#7903;i Craig Setera. EclipseME có &#273;&#7847;y &#273;&#7911; các ch&#7913;c n&#259;ng c&#7911;a
m&#7897;t J2ME IDE nh&#432;: t&#7841;o J2ME project, t&#7841;o MIDlet, so&#7841;n th&#7843;o file jad,
ch&#7841;y &#7913;ng d&#7909;ng MIDlet? &#272;i&#7873;u &#273;&#7863;c bi&#7879;t h&#417;n c&#7843; là EclipseME th&#7915;a h&#432;&#7903;ng các
tính n&#259;ng Java IDE tuy&#7879;t v&#7901;i t&#7915; Eclipse.<br>
<br>
III. Cài &#273;&#7863;t<br>
1. Download: Xem &#273;&#7883;a ch&#7881; download mi&#7877;n phí &#7903; cu&#7889;i bài vi&#7871;t.<br>
2. Yêu c&#7847;u:<br>
3. Cài &#273;&#7863;t EclipseME:<br>
<br>
&#272;&#7875; cài &#273;&#7863;t EclipseME, b&#7841;n ch&#7881; c&#7847;n gi&#7843;i nén file zip &#273;&#7871;n th&#432; m&#7909;c plugins
c&#7911;a Eclipse. Ví d&#7909;, n&#7871;u b&#7841;n &#273;ã cài Eclipse trên C:\eclipse, b&#7841;n s&#7869; cài
EclipseME trên C:\eclipse\plugins. Kh&#7903;i &#273;&#7897;ng l&#7841;i Eclipse n&#7871;u nó &#273;ang
ch&#7841;y &#273;&#7875; EclipseME &#273;u&#7907;c kh&#7903;i &#273;&#7897;ng.<br>
<br>
4. C&#7845;u hình:<br>
<br>
[Only registered and activated users can see links]<br>
Text Box: Hình 1 - C&#7845;u hình WTKEclipseME &#273;òi h&#7887;i c&#7847;n ph&#7843;i c&#7845;u hình ít
nh&#7845;t m&#7897;t WTK cho nó. &#272;&#7875; c&#7845;u hình WTK, b&#7841;n hãy th&#7921;c hi&#7879;n theo các b&#432;&#7899;c
sau &#273;ây:<br>
- Kh&#7903;i &#273;&#7897;ng Eclipse<br>
- Vào menu Window -&gt; Preferences. M&#7903; r&#7897;ng m&#7909;c J2ME, ch&#7885;n m&#7909;c Platform Components. Màn hình xu&#7845;t hi&#7879;n nh&#432; trên hình 1.<br>
- Trong khung bên ph&#7843;i, kích chu&#7897;t ph&#7843;i vào m&#7909;c Wireless Toolkits, kích vào Add Wireless Toolkit.<br>
- C&#7917;a s&#7893; hi&#7879;n ra yêu c&#7847;u b&#7841;n ch&#7885;n th&#432; m&#7909;c cài &#273;&#7863;t WTK. Nh&#7845;n nút Browse và ch&#7885;n th&#432; m&#7909;c WTK b&#7841;n &#273;ã cài &#273;&#7863;t, ví d&#7909;: C:\WTK1.0<br>
- Nh&#7845;n Finish r&#7891;i nh&#7845;n OK. Quá trình cài &#273;&#7863;t và c&#7845;u hình &#273;ã hoàn t&#7845;t.<br>
<br>
IV.T&#7841;o và ch&#7841;y &#7913;ng d&#7909;ng<br>
1. T&#7841;o J2ME project<br>
&#272;&#7875; t&#7841;o m&#7897;t J2ME project, b&#7841;n hãy làm theo các b&#432;&#7899;c sau &#273;ây:<br>
<br>
- Vào menu File -&gt; New -&gt; Project<br>
<br>
- C&#7917;a s&#7893; New Project hi&#7879;n ra. Hãy m&#7903; r&#7897;ng m&#7909;c J2ME, ch&#7885;n J2ME MIDlet Suite. Kích Next.<br>
<br>
- Trong c&#7917;a s&#7893; k&#7871; ti&#7871;p, hãy gõ tên project (ví d&#7909; HelloWorld) và ch&#7885;n th&#432; m&#7909;c ch&#7913;a project (ví d&#7909; C:\projects\J2ME). Kích Next.<br>
<br>
- B&#432;&#7899;c k&#7871; ti&#7871;p n&#7847;y cho phép b&#7841;n ch&#7885;n n&#7873;n WTK mà b&#7841;n &#273;ã c&#7845;u hình.
EclipseME cho phép c&#7845;u hình nhi&#7873;u n&#7873;n J2ME (WTK1.0, WTK2.1?) nên b&#7841;n
c&#7847;n ph&#7843;i ch&#7885;n m&#7897;t n&#7873;n J2ME b&#7841;n mu&#7889;n, ch&#7859;ng h&#7841;n: J2ME Wireless Toolkit
1.0.4 Platform. Kích Next.<br>
<br>
- Cu&#7889;i cùng, b&#7841;n có th&#7875; thêm các th&#432; vi&#7879;n c&#7847;n dùng, thêm th&#432; m&#7909;c ch&#7913;a
source v.v? C&#361;ng có th&#7875; &#273;&#7875; m&#7885;i th&#7913; theo m&#7863;c &#273;&#7883;nh. Kích Finish &#273;&#7875; k&#7871;t
thúc quá trình t&#7841;o J2ME project. Bây gi&#7901; b&#7841;n &#273;ã có m&#7897;t J2ME project
hoàn ch&#7881;nh trong workspace s&#7859;n sàng &#273;&#7875; th&#7921;c hi&#7879;n m&#7885;i cái b&#7841;n mu&#7889;n v&#7899;i
J2ME.<br>
<br>
2. T&#7841;o MIDlet<br>
MIDlet là l&#7899;p chính c&#7911;a toàn b&#7897; &#7913;ng d&#7909;ng J2ME. Có th&#7875; so sánh nó nh&#432;
m&#7897;t l&#7899;p có hàm main c&#7911;a J2SE, m&#7897;t Servlet c&#7911;a J2EE hay m&#7897;t Applet c&#7911;a
&#7913;ng d&#7909;ng applet. &#272;&#7875; t&#7841;o m&#7899;i m&#7897;t MIDlet, b&#7841;n hãy th&#7921;c hi&#7879;n theo các b&#432;&#7899;c
sau &#273;ây:<br>
- Trong khung Navigator, kích chu&#7897;t ph&#7843;i trên J2ME project (theo ví d&#7909; &#7903; trên là HelloWorld).<br>
- Trong popup menu hi&#7879;n ra, ch&#7885;n New -&gt; Other.<br>
<br>
- M&#7903; r&#7897;ng m&#7909;c J2ME, ch&#7885;n J2ME Midlet. Kích Next.<br>
<br>
- Nh&#7853;p tên gói ch&#7913;a MIDlet trong m&#7909;c package, ví d&#7909;: edu.eclipseme.helloworld<br>
<br>
- Nh&#7853;p tên l&#7899;p MIDlet trong m&#7909;c Name, ví d&#7909;: HelloWorldMIDlet.<br>
<br>
- Nh&#7845;n nút Finish &#273;&#7875; k&#7871;t thúc quá trình t&#7841;o MIDlet. B&#7841;n &#273;ã có m&#7897;t
MIDlet v&#7899;i &#273;&#7847;y &#273;&#7911; các ph&#432;&#417;ng th&#7913;c chính (constructor, startApp,
pauseApp, destroyApp) trong J2ME project c&#7911;a mình.<br>
Sau &#273;ây là ví d&#7909; v&#7873; ch&#432;&#417;ng trình HelloWorldMIDlet. Ch&#432;&#417;ng trình c&#7911;a
chúng ta s&#7869; v&#7869; m&#7897;t dòng ch&#7919; Hello World in &#273;&#7853;m màu &#273;&#7887; &#7903; gi&#7919;a màn hình
&#273;i&#7879;n tho&#7841;i. Tr&#432;&#7899;c khi in dòng ch&#7919;, ch&#432;&#417;ng trình hi&#7875;n th&#7883; m&#7897;t màn hình
intro trong 30 giây v&#7899;i m&#7897;t hình &#7843;nh d&#7841;ng png làm logo. B&#7841;n có th&#7875; ch&#7885;n
b&#7845;t k&#7923; hình nào b&#7841;n mu&#7889;n. &#7902; &#273;ây, chúng tôi ch&#7885;n logo c&#7911;a
JavaVietnam.org.<br>
<br>
a)HelloCanvas.java: L&#7899;p v&#7869; dòng ch&#7919; Hello World<br>
<br>
package edu.eclipseme.helloworld;<br>
<br>
import javax.microedition.lcdui.Canvas;<br>
<br>
import javax.microedition.lcdui.Font;<br>
<br>
import javax.microedition.lcdui.Graphics;<br>
/**<br>
<br>
* Canvas v&#7869; chu&#7895;i HelloWorld<br>
<br>
*/<br>
public class HelloCanvas extends Canvas{<br>
<br>
/**<br>
* B&#7841;n hãy v&#7869; nh&#7919;ng gì b&#7841;n mu&#7889;n &#7903; &#273;ây<br>
*/<br>
<br>
protected void paint(Graphics g) {<br>
clearScreen(g);<br>
paintHello(g);<br>
}<br>
<br>
//Xoá màn hình (bôi màu tr&#7855;ng).<br>
private void clearScreen(Graphics g){<br>
g.setColor(0xFFFFFF);<br>
g.fillRect(0, 0, getWidth(), getHeight());<br>
}<br>
<br>
<br>
<br>
//V&#7869; chu&#7895;i Hello World<br>
<br>
private void paintHello(Graphics g){<br>
//Chu&#7895;i c&#7847;n v&#7869;<br>
String hello = "Hello World";<br>
//Màu c&#7847;n v&#7869; (&#273;&#7887;)<br>
g.setColor(0xFF0000);<br>
//Font c&#7847;n v&#7869;<br>
Font font = Font.getFont(Font.FACE_SYSTEM, Font.STYLE_BOLD, Font.SIZE_MEDIUM);<br>
g.setFont(font);<br>
<br>
//V&#7883; trí v&#7869; (gi&#7919;a màn hình)<br>
<br>
int x = (getWidth() - font.stringWidth(hello)) / 2;<br>
int y = (getHeight() - font.getHeight()) / 2;<br>
<br>
//V&#7869; chu&#7895;i<br>
g.drawString(hello, x, y, Graphics.TOP | Graphics.LEFT);<br>
}<br>
<br>
}<br>
<br>
b) IntroCanvas.java: L&#7899;p hi&#7875;n th&#7883; màn hình intro.<br>
package edu.eclipseme.helloworld;<br>
import java.io.IOException;<br>
import java.util.Timer;<br>
import java.util.TimerTask;<br>
import javax.microedition.lcdui.Canvas;<br>
import javax.microedition.lcdui.Display;<br>
import javax.microedition.lcdui.Displayable;<br>
import javax.microedition.lcdui.Graphics;<br>
import javax.microedition.lcdui.Image;<br>
/**<br>
* Hi&#7875;n th&#7883; màn hình intro<br>
*/<br>
<br>
public class IntroCanvas extends Canvas{<br>
//B&#7841;n có th&#7875; thay b&#7857;ng logo b&#7841;n thích.<br>
private static final String logoName = "javavietnam_logo.png";<br>
private Display display;<br>
private Displayable nextScreen;<br>
private int timeout;<br>
private Timer timer = new Timer();<br>
<br>
public IntroCanvas(Display display, Displayable nextScreen, int timeout){<br>
this.display = display;<br>
this.nextScreen = nextScreen;<br>
this.timeout = timeout;<br>
}<br>
<br>
<br>
<br>
/**<br>
* B&#7855;t &#273;&#7847;u màn hình intro.<br>
*/<br>
public void startIntro(){<br>
display.setCurrent(this);<br>
}<br>
<br>
<br>
<br>
/**<br>
* K&#7871;t thúc màn hình intro<br>
*/<br>
public void endIntro(){<br>
display.setCurrent(nextScreen);<br>
}<br>
<br>
<br>
<br>
protected void paint(Graphics g) {<br>
try {<br>
Image logo = Image.createImage(logoName);<br>
g.drawImage(logo, 0, 0, Graphics.TOP | Graphics.LEFT);<br>
}<br>
<br>
catch (IOException e) {<br>
g.drawString(?Logo Error?, 0, 0, Graphics.TOP | Graphics.LEFT);<br>
}<br>
<br>
}<br>
<br>
<br>
<br>
/**<br>
* Thi&#7871;t l&#7853;p b&#7897; &#273;&#7871;m th&#7901;i gian.<br>
*/<br>
<br>
protected void showNotify() {<br>
timer.schedule(new CountDown(), timeout);<br>
}<br>
<br>
<br>
<br>
/**<br>
* K&#7871;t thúc intro n&#7871;u b&#7845;t k&#7923; phím nào &#273;&#432;&#7907;c nh&#7845;n.<br>
*/<br>
<br>
protected void keyPressed(int keyCode) {<br>
endIntro();<br>
}<br>
<br>
<br>
<br>
/**<br>
* K&#7871;t thúc intro n&#7871;u h&#7871;t th&#7901;i gian.<br>
*/<br>
<br>
private class CountDown extends TimerTask {<br>
public void run() {<br>
endIntro();<br>
}<br>
<br>
    }<br>
<br>
}<br>
<br>
c) HelloWorldMIDlet.java: L&#7899;p chính<br>
package edu.eclipseme.helloworld;<br>
import javax.microedition.lcdui.Canvas;<br>
import javax.microedition.lcdui.Display;<br>
import javax.microedition.midlet.MIDlet;<br>
import javax.microedition.midlet.MIDletStateChangeExcepti  on;<br>
<br>
<br>
<br>
/**<br>
* Day la lop chinh cua ung dung thua ke tu lop MIDlet.<br>
*/<br>
<br>
public class HelloWorldMIDlet extends MIDlet {<br>
private Display display;<br>
private IntroCanvas introCanvas;<br>
private HelloCanvas helloCanvas;<br>
<br>
/**<br>
* Phuong thuc thiet lap.<br>
*/<br>
<br>
public HelloWorldMIDlet() {<br>
super();<br>
}<br>
<br>
<br>
<br>
/**<br>
* Phuong thuc nay thuc nay se duoc goi boi KVM khi nguoi<br>
* dung nhan phim Launch tren dien thoai di dong.<br>
* @see javax.microedition.midlet.MIDlet#startApp()<br>
*/<br>
protected void startApp() throws MIDletStateChangeException {<br>
display = Display.getDisplay(this);<br>
helloCanvas = new HelloCanvas();<br>
introCanvas = new IntroCanvas (display, helloCanvas, 30000);<br>
introCanvas.startIntro();<br>
}<br>
<br>
<br>
<br>
protected void pauseApp() {<br>
<br>
}<br>
<br>
<br>
<br>
protected void destroyApp(boolean arg0) throws MIDletStateChangeException {<br>
<br>
}<br>
<br>
}<br>
<br>
<br>
<br>
3. &#272;óng gói<br>
&#272;&#7875; &#7913;ng d&#7909;ng J2ME ch&#7841;y &#273;&#432;&#7907;c trên thi&#7871;t b&#7883; th&#7853;t, b&#7841;n c&#7847;n ph&#7843;i &#273;óng gói toàn b&#7897; &#7913;ng d&#7909;ng vào file jar và file jad.<br>
N&#7871;u b&#7841;n phát tri&#7875;n &#7913;ng d&#7909;ng c&#7911;a mình trên ch&#7871; &#273;&#7897; command line thì &#273;ây
qu&#7843; là m&#7897;t công vi&#7879;c nhi&#7873;u r&#7855;c r&#7889;i. V&#7899;i EclipseME, vi&#7879;c &#273;óng gói tr&#7903;
nên r&#7845;t d&#7877; dàng. B&#7841;n hãy th&#7921;c hi&#7879;n theo các b&#432;&#7899;c sau &#273;ây:<br>
- Kích chu&#7897;t ph&#7843;i trên J2ME project c&#7911;a b&#7841;n.<br>
- Trên menu hi&#7879;n ra, ch&#7885;n J2ME -&gt; Create Package.<br>
Hãy m&#7903; r&#7897;ng m&#7909;c deployed, b&#7841;n &#273;ã có file .jad và .jar cho &#7913;ng d&#7909;ng c&#7911;a mình.<br>
<br>
4. Ch&#7841;y &#7913;ng d&#7909;ng<br>
Ch&#7841;y m&#7897;t &#7913;ng d&#7909;ng J2ME c&#361;ng &#273;&#417;n gi&#7843;n nh&#432; vi&#7879;c ch&#7841;y m&#7897;t &#7913;ng d&#7909;ng Java
khác trong Eclipse. Sau &#273;ây là các b&#432;&#7899;c &#273;&#7875; ch&#7841;y m&#7897;t &#7913;ng d&#7909;ng J2ME:<br>
<br>
- Vào menu Run -&gt; Run<br>
<br>
- Trong khung bên trái, ch&#7885;n Wireless Toolkit Emulator<br>
<br>
- Nh&#7845;n nút New.<br>
<br>
- B&#7841;n có th&#7875; ch&#7885;n thêm các tu&#7923; ch&#7885;n khác. Trong khung Excutable, ch&#7885;n
Midlet và nh&#7845;n nút Search &#273;&#7875; EclipseME t&#7921; tìm l&#7899;p MIDlet cho b&#7841;n. N&#7871;u
b&#7841;n ch&#7885;n Over the Air, EclipseME s&#7869; th&#7921;c thi file jad.<br>
<br>
[Only registered and activated users can see links]<br>
Text Box: Hình 2 - màn hình intro<br>
<br>
M&#7885;i ng&#432;&#7901;ii có th&#7875; download EclipseME &#7903; &#273;ây [Only registered and
activated users can see links] ([Only registered and activated users
can see links])<br>
V. K&#7870;T LU&#7852;N<br>
<br>
Trên &#273;ây chúng tôi &#273;ã gi&#7899;i thi&#7879;u các ch&#7913;c n&#259;ng chính c&#7911;a EclipseME. N&#7871;u
b&#7841;n &#273;ã t&#7915;ng l&#7853;p trình trên Eclipse, thì b&#7841;n ch&#7881; c&#7847;n bi&#7871;t ch&#7913;c n&#259;ng và
&#273;&#7883;a ch&#7881; download c&#7911;a EclipseME là &#273;&#7911;. Ng&#432;&#7907;c l&#7841;i, n&#7871;u b&#7841;n ch&#432;a bao gi&#7901;
dùng &#273;&#7871;n Eclipse, &#273;ây s&#7869; là m&#7897;t d&#7883;p &#273;&#7875; b&#7841;n làm quen v&#7899;i nó. Và ch&#7881; c&#7847;n
m&#7897;t l&#7847;n làm quen thôi, chúng tôi tin t&#432;&#7903;ng r&#7857;ng b&#7841;n s&#7869; khó r&#7901;i xa nó
:-).<br>
<br>
<br>
                                                            (JavaVietnam.org)</div></div><hr>

<br><div style="text-align: center;"><table align="center" border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">


<iframe src="t-2070_files/vocvitinh_728bottom.htm" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="728" frameborder="0" height="90"></iframe>


</td>
</tr>
<tr>
<td align="left">
<font size="-3"><a href="http://www.vocvitinh.com/archive/index.php/payments.php"><b>join V.I.P and remove this ads</b></a></font></td>
<td align="right"><font size="-3"><a href="http://www.vocvitinh.com/archive/index.php/payments.php"><b>gia nh&#7853;p V.I.P s&#7869; không th&#7845;y qu&#7843;ng cáo
</b></a></font>
</td>
</tr>
</tbody></table></div><br>
<div id="copyright">vBulletin v3.6.2, Copyright ©2000-2009, Jelsoft Enterprises Ltd.</div>
</div>
</body></html>