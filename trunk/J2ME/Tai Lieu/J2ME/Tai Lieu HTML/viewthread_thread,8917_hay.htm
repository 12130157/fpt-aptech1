<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>










































 













  <title>JavaVietnam.org - Xem luồng - Lập trình trên thiết bị di động với J2ME</title>
<script type="text/javascript" src="viewthread_thread,8917_files/domLib.js"></script>
<script type="text/javascript" src="viewthread_thread,8917_files/domMenu.js"></script>
<script type="text/javascript" src="viewthread_thread,8917_files/prettify.js"></script>
<script language="JavaScript1.2" src="viewthread_thread,8917_files/vietuni.js" type="text/javascript"></script>
<script type="text/javascript" src="viewthread_thread,8917_files/searchhi.js" language="JavaScript"></script>


<meta name="copyright" content="This software is copyrighted by MyVietnam.net and released under the terms of the GNU General Public License GPL license. All rights reserved.">
<meta name="Keywords" content="mvnForum, vietnam, jsp, servlet, java, j2se, j2ee, database">
<meta name="Description" content="Organization and forum for Java/J2SE/J2EE programmer in Vietnam">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link href="viewthread_thread,8917_files/logo.gif" rel="SHORTCUT ICON">

<meta http-equiv="Expires" content="-1">

<link href="viewthread_thread,8917_files/style.css" rel="stylesheet" type="text/css">
<link href="viewthread_thread,8917_files/menu.css" rel="stylesheet" type="text/css">
<link href="viewthread_thread,8917_files/prettify.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
//<![CDATA[
function SubmitForm() {
  if (ValidateForm()) {
    
    document.mvnform.submitbutton.disabled=true;
    document.mvnform.previewbutton.disabled=true;
    
    document.mvnform.submit();
  }
}

function ValidateForm() {
  document.mvnform.message.value = document.mvnform.input.value;
  if (isBlank(document.mvnform.input, "Nội dung")) return false;
  return true;
}

function PreviewForm() {
  if (ValidateForm()) {
    document.mvnform.preview.value='true';
    document.mvnform.action=document.getElementById('previewUrl').value;
    
    
    document.mvnform.submitbutton.disabled=true;
    document.mvnform.previewbutton.disabled=true;
    
    document.mvnform.submit();
  }
}

function QuickReply(parentId) {
  var topic = document.getElementById("posttopic_" + parentId).innerHTML;
  if (document.getElementById("input")) {
    document.getElementById("input").focus();
    document.getElementById("quickreplymessage").innerHTML = "Trả lời nhanh cho bài [" + parentId + ", " + topic + "]";
  }
  if (topic.indexOf("Re: ") == -1) {
    topic = "Re: " + topic;
  }
  document.mvnform.parent.value=parentId;
  document.mvnform.PostTopic.value=topic;
}


//handle vote poll form
function SubmitPollVoteForm() {
  if (ValidatePollVoteForm()) {
    
      document.pollvoteform.pollvotebutton.disabled=true;
      
    document.pollvoteform.submit();
  }
}

function ValidatePollVoteForm() {
  document.getElementById("pollvotebutton").disabled = true;
  var params = "";
  
  var inputArray = document.getElementsByTagName("input");
  
  if (inputArray != null) {
    var youhaschecked = false;
    for (var i = 0; i < inputArray.length; i++) {
      if ((inputArray[i] != null) && (inputArray[i].getAttribute("name") != null )) {
        if (inputArray[i].getAttribute("name").indexOf("option_") != -1) {
          if (inputArray[i].checked) {
            youhaschecked = true;
            //inputArray[i].getAttribute("name"): option_{0,1,2,...} 
            //inputArray[i].getAttribute("value"): ${pollanswerid}
            //your_opinion_${pollanswerid}
            
            pollanswerid = inputArray[i].getAttribute("value");
            if (document.getElementById("your_opinion_" + pollanswerid) != null) {
              youropinion = trim(document.getElementById("your_opinion_" + pollanswerid).value);
              if (youropinion.length == 0) {
                alert("Bạn phải nhập vào thông tin ý kiến của bạn.");
                document.getElementById("pollvotebutton").disabled = false;
                return false;
              }  
            }            
          }
        }
      }
    }
  }
  if (youhaschecked == true) {
    return true;
  } else {
    alert("Bạn phải chọn ít nhất một lựa chọn.");
    document.getElementById("pollvotebutton").disabled = false;
    return false;
  }  
}

function ViewPollResult(viewresulturl) {
  showDialog(viewresulturl, 450, 170);
}

function showDialog(url, width, height) {
  return showWindow(url, false, false, true, false, false, false, true, true, width, height, 0, 0);
}
function showWindow(url, isStatus, isResizeable, isScrollbars, isToolbar, isLocation, isFullscreen, isTitlebar, isCentered, width, height, top, left) {
  if (isCentered) {
    top = (screen.height - height) / 2;
    left = (screen.width - width) / 2;
  }

  open(url, 'Result', 'status=' + (isStatus ? 'yes' : 'no') + ','
  + 'resizable=' + (isResizeable ? 'yes' : 'no') + ','
  + 'scrollbars=' + (isScrollbars ? 'yes' : 'no') + ','
  + 'toolbar=' + (isToolbar ? 'yes' : 'no') + ','
  + 'location=' + (isLocation ? 'yes' : 'no') + ','
  + 'fullscreen=' + (isFullscreen ? 'yes' : 'no') + ','
  + 'titlebar=' + (isTitlebar ? 'yes' : 'no') + ','
  + 'height=' + height + ',' + 'width=' + width + ','
  + 'top=' + top + ',' + 'left=' + left);
}

  

function handleUnload() {
  if (document.mvnform) {
    if (document.mvnform.submitbutton) {
      document.mvnform.submitbutton.disabled=false;
    }
    if (document.mvnform.previewbutton) {
      document.mvnform.previewbutton.disabled=false;
    }
  }    

  if (document.pollvoteform && document.pollvoteform.pollvotebutton) {
    document.pollvoteform.pollvotebutton.disabled=false;
  }    
  
}
//]]>
</script>
</head><body onload="prettyPrint()" onunload="handleUnload()">


<script type="text/javascript" language="JavaScript" src="viewthread_thread,8917_files/myvietnam.js"></script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function isBlank(field, strBodyHeader) {
    strTrimmed = trim(field.value);
    if (strTrimmed.length > 0) return false;
    alert("\"" + strBodyHeader + "\" là một giá trị bắt buộc.");
    field.focus();
    return true;
}
function isEmail(field, strBodyHeader) {
    emailStr = field.value;
    if (emailStr.length == 0) return true;
    if (!complexEmailCheck(emailStr)) {
        alert(strBodyHeader + " là một địa chỉ email không hợp lệ.");
        field.focus();
        return false;
    }
    return true;
}
function isUnsignedInteger(obj, message) {
    if (isBlank(obj, message)) {
      return false;
    }
    var  val = obj.value;
    for (var i=0;i<val.length;i++) {
        if (!isDigit(val.charAt(i))) {
            alert(message + " phải là một con số không dấu.");
            obj.focus();
            return false;
        }
    }
    obj.value = parseInt(val,10);
    return true;
}
function checkGoodName(str, desc) {
    s = trim(str);
    len = s.length; 
    for (i = 0; i < len; i++) {
        b = s.charCodeAt(i);
        if ((b >= toInt('a')) && (b <= toInt('z'))) { // not a cast, it's a function.
            // low chars
        } else if ((b >= toInt('A')) && (b <= toInt('Z'))) {
            // up chars
        } else if ((b >= toInt('0')) && (b <= toInt('9'))) {
            // numbers 
        } else if (( (b==toInt('_')) || (b==toInt('.')) || (b==toInt('@')) ) && (i != 0)) {
            // very litte special chars
        } else {
            alert(desc + " \"" + s +  "\" " + "không phải là một tên hợp lệ. Ký tự không hợp lệ là \"" + s.charAt(i) + "\""); 
            return false;
            // not good name error
        }
    }
    return true;
}

function toInt(c) {
  return c.charCodeAt(0);
}
//]]>
</script>



<script type="text/javascript">
//<![CDATA[
function SubmitFormSearch() {
  if (ValidateFormSearch()) {
    // uncomment when we find a way to enable the button
    //document.submitformsearch.submitbutton.disabled = true;
    document.submitformsearch.submit();
  }
}

function ValidateFormSearch() {
  if (isBlank(document.submitformsearch.key, "Tìm kiếm")) return false;
  return true;
}
//]]>
</script>
<table align="center" border="0" cellpadding="0" cellspacing="0" width="95%">
  <tbody><tr>
    <td height="60">
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td rowspan="2">
            <a href="http://www.javavietnam.org/"><img src="viewthread_thread,8917_files/logo.gif" alt="Trang chủ JavaVietnam.org" title="Trang chủ JavaVietnam.org" border="0" height="50"></a>
          </td>
          <td rowspan="2" align="center" valign="top">
            


<br>
<table class="noborder" align="center" cellpadding="3" cellspacing="0" width="95%">
   <tbody><tr>
     <td align="center"><script type="text/javascript" language="JavaScript" src="viewthread_thread,8917_files/getparam.js"></script>
<script type="text/javascript" language="JavaScript">
<!--
document.write("<"+"script language='JavaScript' type='text/javascript' src='http://www.JavaVietnam.org/javavn/delivery/getad?zoneID=67"+mvnadparam+"'><"+"/script>");
//-->
</script><script language="JavaScript" type="text/javascript" src="viewthread_thread,8917_files/getad.js"></script><table class="noborder" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="370" height="55"><a href="http://www.javavietnam.org/javavn/delivery/clickad?bannerID=28&amp;zoneID=67&amp;screen=1024x768" target="_blank"><img src="viewthread_thread,8917_files/Java_Recruitment_banner_VN.gif" alt="" border="0" width="370" height="55"></a></td></tr></tbody></table>
</td>
   </tr>
</tbody></table>
<br>


          </td>
          <td class="portlet-font" align="right" valign="top" width="100%" height="25" nowrap="nowrap">
            <span class="welcomeHeader">Xin chào</span>
            
              <font color="#ff0000">rongcon8x</font>
              
              
              
              &nbsp;|&nbsp;<a class="command" href="http://www.javavietnam.org/javavn/mvnforum/logout"> Đăng xuất</a>
              
              <br>
              
                Đăng nhập cuối:&nbsp;16:48:06 26-10-2008
                Từ IP&nbsp;58.187.238.37
              
            
          </td>
        </tr>
        <tr>
          <td valign="top" height="35">
          
            <form action="search" id="submitformsearch" name="submitformsearch" method="get">
            
            <table class="tborder" style="width: 0%;" align="right" cellpadding="2" cellspacing="0">
              <tbody><tr class="topmenu">
                <td align="left" valign="top" nowrap="nowrap">&nbsp;
                
                  <a href="http://www.javavietnam.org/javavn/mvnforum/myprofile" class="topmenu">Hồ sơ cá nhân</a>
                
                
                
                
                  <a href="http://www.javavietnam.org/javavn/mvnforum/search" class="topmenu"><img src="viewthread_thread,8917_files/search.gif" alt="Tìm kiếm" title="Tìm kiếm" align="bottom" border="0" vspace="0" hspace="0"></a>
                  <input size="10" name="key" type="text">
                  <input name="submitbutton" value="Tìm kiếm" onclick="javascript:SubmitFormSearch();" class="portlet-form-button" type="button">&nbsp;
                </td>
              </tr>
            </tbody></table>
            </form>
          
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>

<table class="tborder" align="center" cellpadding="2" cellspacing="0" width="95%">
  <tbody><tr class="topmenu">
    <td nowrap="nowrap">&nbsp;
      <a href="http://www.javavietnam.org/javavn/mvnforum/index" class="topmenu">Trang chủ</a>
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listrecentthreads" class="topmenu">Những luồng mới</a>
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listunansweredthreads" class="topmenu">Luồng chưa trả lời</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listattachments" class="topmenu">Tập tin đính kèm</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listpolls" class="topmenu">Các bầu chọn</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listpublicalbums" class="topmenu">Tập ảnh chung</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listonlineusers" class="topmenu">Người dùng trực tuyến</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listmembers" class="topmenu">Thành viên</a>
      
      
      &nbsp;|&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/help" class="topmenu">Giúp đỡ</a>
      
      
    </td>
  </tr>
</tbody></table>




<br>
  
<table class="tborder-no_need" align="center" cellpadding="3" cellspacing="0" width="95%">
   <tbody><tr class="portlet-section-body">
   
     <td align="center"><script type="text/javascript" language="JavaScript" src="viewthread_thread,8917_files/getparam.js"></script>
<script type="text/javascript" language="JavaScript">
<!--
document.write("<"+"script language='JavaScript' type='text/javascript' src='http://www.JavaVietnam.org/javavn/delivery/getad?zoneID=68"+mvnadparam+"'><"+"/script>");
//-->
</script><script language="JavaScript" type="text/javascript" src="viewthread_thread,8917_files/getad_002.js"></script><table class="noborder" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="140" height="50"><a href="http://www.javavietnam.org/javavn/delivery/clickad?bannerID=30&amp;zoneID=68&amp;screen=1024x768" target="_blank"><img src="viewthread_thread,8917_files/webtamsu.gif" alt="" border="0" width="140" height="50"></a></td></tr></tbody></table>
</td>
   
     <td align="center"><script type="text/javascript" language="JavaScript" src="viewthread_thread,8917_files/getparam.js"></script>
<script type="text/javascript" language="JavaScript">
<!--
document.write("<"+"script language='JavaScript' type='text/javascript' src='http://www.JavaVietnam.org/javavn/delivery/getad?zoneID=69"+mvnadparam+"'><"+"/script>");
//-->
</script><script language="JavaScript" type="text/javascript" src="viewthread_thread,8917_files/getad_003.js"></script><table class="noborder" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td width="140" height="50"><a href="http://www.javavietnam.org/javavn/delivery/clickad?bannerID=31&amp;zoneID=69&amp;screen=1024x768" target="_blank"><img src="viewthread_thread,8917_files/anhso_24.gif" alt="" border="0" width="140" height="50"></a></td></tr></tbody></table>
</td>
   
   </tr>
</tbody></table>










<table align="center" border="0" cellpadding="0" cellspacing="0" width="95%">
  <tbody><tr>
    <td>
      
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <br>
            









<link type="text/css" rel="stylesheet" href="viewthread_thread,8917_files/listview.css">
<table class="newstbl" align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr>
  
    <td class="col" valign="top" width="20%">
      <div class="line"><a href="http://www.javavietnam.org/javavn/cms/vi/mbl2007/index.html" class="newstitle">Mobile Labs 2008</a>
        <a href="#">
          <img src="viewthread_thread,8917_files/arrow_right.gif" alt="" border="0" width="4" height="7">
        </a>
      </div>
      <ul class="news">
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/mbl2007/15_sp_lot_vao_chung_khao.html" class="itemlink">Mobile Labs 2007: 15 sản phẩm lọt vào...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/mbl2007/Cac_buoc_phat_trien_cho_mot_games_hoan_chinh.html" class="itemlink">Các bước phát triển cho một games hoàn...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/mbl2007/Cac_cong_cu_va_huong_dan.html" class="itemlink">Các công cụ và hướng dẫn...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/mbl2007/Lap_trinh_cho_thiet_bi_di_dong.html" class="itemlink">Lập trình cho thiết bị di động...</a>
        </li>
      
      </ul>
    </td>
    
  
    <td class="col" valign="top" width="20%">
      <div class="line"><a href="http://www.javavietnam.org/javavn/cms/vi/news/index.html" class="newstitle">Tin Tức</a>
        <a href="#">
          <img src="viewthread_thread,8917_files/arrow_right.gif" alt="" border="0" width="4" height="7">
        </a>
      </div>
      <ul class="news">
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/news/vi_pham_ban_quyen_phan_mem.html" class="itemlink">Vi phạm bản quyền phần mềm có thể bị xử...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/news/Google_va_Microsoft.html" class="itemlink">Google suy nghĩ về động thái mới của...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/news/website_no_1.html" class="itemlink">Google đoạt ngôi website No 1 tại Mỹ...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/news/quang_cao_tuong_tac_la_mo_vang_cho_mang_xa_hoi_vn.html" class="itemlink">Quảng cáo tương tác là ‘mỏ vàng’ cho...</a>
        </li>
      
      </ul>
    </td>
    
  
    <td class="col" valign="top" width="20%">
      <div class="line"><a href="http://www.javavietnam.org/javavn/cms/vi/developer_of_the_year/index.html" class="newstitle">Developer of the Year</a>
        <a href="#">
          <img src="viewthread_thread,8917_files/arrow_right.gif" alt="" border="0" width="4" height="7">
        </a>
      </div>
      <ul class="news">
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/developer_of_the_year/SWT.html" class="itemlink">SWT – Một hướng tiếp cận trong Lập...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/developer_of_the_year/Xu_ly_tai_lieu_XML_voi_XStream.html" class="itemlink">Xử lý tài liệu XML với XStream...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/developer_of_the_year/SWT_Layout.html" class="itemlink">SWT – Layout...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/developer_of_the_year/JAVA_DESKTOP2.html" class="itemlink">JAVA DESKTOP TỪ A ------...------&gt; Z -...</a>
        </li>
      
      </ul>
    </td>
    
  
    <td class="col" valign="top" width="20%">
      <div class="line"><a href="http://www.javavietnam.org/javavn/cms/vi/javavietnam_training_activities/index.html" class="newstitle">JavaVietnam Training</a>
        <a href="#">
          <img src="viewthread_thread,8917_files/arrow_right.gif" alt="" border="0" width="4" height="7">
        </a>
      </div>
      <ul class="news">
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/javavietnam_training_activities/javavietnam_training_hue_24_9_2005.html" class="itemlink">Java training tại Huế 24/9/2005...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/javavietnam_training_activities/Hoi_thao_Portal_Portlet_Cac_buoc_lam_quen_va_kinh_nghiem_chuyen_doi.html" class="itemlink">Hội thảo "Portal/Portlet Development -...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/javavietnam_training_activities/Hinh_anh_buoi_hoc_J2ME_ha_noi.html" class="itemlink">Hình ảnh về buổi học J2ME đầu tiên tại...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/javavietnam_training_activities/HaNoi_J2ME.html" class="itemlink">Hình ảnh về buổi học J2ME đầu tiên tại...</a>
        </li>
      
      </ul>
    </td>
    
  
    <td class="col" valign="top" width="20%">
      <div class="line"><a href="http://www.javavietnam.org/javavn/cms/vi/java_tutorials/index.html" class="newstitle">Bài học Java</a>
        <a href="#">
          <img src="viewthread_thread,8917_files/arrow_right.gif" alt="" border="0" width="4" height="7">
        </a>
      </div>
      <ul class="news">
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/java_tutorials/lap_trinh_j2me_co_ban_bai_14.html" class="itemlink">Bài 14: Lập trình giao diện cấp cao với...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/java_tutorials/lap_trinh_j2me_co_ban_bai_13.html" class="itemlink">Bài 13: Lập trình giao diện cấp cao với...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/java_tutorials/lap_trinh_j2me_co_ban_bai_12.html" class="itemlink">Bài 12: Lập trình giao diện cấp cao với...</a>
        </li>
      
        <li>
          <span>•</span>&nbsp;<a href="http://www.javavietnam.org/javavn/cms/vi/java_tutorials/lap_trinh_j2me_co_ban_bai_11.html" class="itemlink">Bài 11: Lập trình giao diện cấp cao với...</a>
        </li>
      
      </ul>
    </td>
    
    
  </tr>
</tbody></table>


          </td>
        </tr>
      </tbody></table>
      
    </td>
  </tr>
</tbody></table>


<br>










<table align="center" width="95%">
  <tbody><tr class="nav">
    <td width="100%" nowrap="nowrap">
        <img src="viewthread_thread,8917_files/nav2.gif" alt="" border="0" width="15" height="15">&nbsp;
  <a href="http://www.javavietnam.org/javavn/mvnforum/index" class="nav1">JavaVietnam.org</a>
  <br>


    <img src="viewthread_thread,8917_files/icon_bar.gif" alt="" border="0" width="15" height="15">
    <img src="viewthread_thread,8917_files/icon_folder_open.gif" alt="" border="0" width="15" height="15">&nbsp;  
    <span class="nav1">Nhóm diễn đàn:</span>&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listforums?category=3&amp;other_category_invisible=true" class="nav1">Java ME</a><br>



      <img src="viewthread_thread,8917_files/icon_blank.gif" alt="" border="0" width="15" height="15">
    <img src="viewthread_thread,8917_files/icon_bar.gif" alt="" border="0" width="15" height="15">
    <img src="viewthread_thread,8917_files/icon_folder_open_topic.gif" alt="" border="0" width="15" height="15">&nbsp;
    <span class="nav1">Diễn đàn:</span>&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/listthreads?forum=42" class="nav1">Các bài hướng dẫn về Java ME</a>
    <br>



        <img src="viewthread_thread,8917_files/icon_blank.gif" alt="" border="0" width="15" height="15">
        <img src="viewthread_thread,8917_files/icon_blank.gif" alt="" border="0" width="15" height="15">
    <img src="viewthread_thread,8917_files/icon_bar.gif" alt="" border="0" width="15" height="15">
    <img src="viewthread_thread,8917_files/icon_thread_topic.gif" alt="" border="0" width="15" height="15">&nbsp;
    <span class="rowcurrent">Luồng: Lập trình trên thiết bị di động với J2ME</span>

    </td>
  </tr>
</tbody></table>
<br>

<table align="center" width="95%">
  <tbody><tr class="portlet-font"><td>
    <form action="">
      Chuyển nhanh tới »
              <select name="FastGoForum" onchange="gotoPage(this.options[this.selectedIndex].value)">
            <option value="">Chọn diễn đàn</option>
            <option value=""></option>
                  <option value="listforums?category=4&amp;other_category_invisible=true">
      
        ----&gt;JavaVietnam.org 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=1">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thông báo</option>
                    <option value="listthreads?forum=2">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Góp ý xây dựng diễn đàn</option>
                    <option value="listthreads?forum=24">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Box dành cho dự án Hỗ trợ Tiếng việt Unicode trong J2SDK</option>
            <option value=""></option>
                  <option value="listforums?category=6&amp;other_category_invisible=true">
      
        ----&gt;Tutorial - Bài viết hướng dẫn hoàn chỉnh 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=28">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My Java Tutor</option>
                    <option value="listthreads?forum=31">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Các vấn đề khác</option>
                    <option value="listthreads?forum=33">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Box dành cho dự án</option>
            <option value=""></option>
                  <option value="listforums?category=8&amp;other_category_invisible=true">
      
        ----&gt;Cuộc thi Developer of the Year - 2006 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=43">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kỳ 4: Lập trình Java Desktop</option>
                    <option value="listthreads?forum=40">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kỳ 3: Web Service</option>
                    <option value="listthreads?forum=39">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kỳ 2: Tiếp cận Portal</option>
                    <option value="listthreads?forum=38">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kỳ 1: Những Kỹ thuật lập trình trong Mobile Games 2005</option>
            <option value=""></option>
                  <option value="listforums?category=1&amp;other_category_invisible=true">
      
        ----&gt;Java SE 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=17">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Core Java - Java nền tảng</option>
                    <option value="listthreads?forum=27">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java Bugs và Java Request to Enhances</option>
                    <option value="listthreads?forum=20">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Advanced  Java - Java nâng cao</option>
                    <option value="listthreads?forum=4">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applets</option>
                    <option value="listthreads?forum=8">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lập trình cơ sở dữ liệu với JDBC</option>
                    <option value="listthreads?forum=25">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lập trình tiếng Việt và lập trình đa ngôn ngữ trong Java</option>
                    <option value="listthreads?forum=3">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Swing / JFC / AWT / SWT</option>
                    <option value="listthreads?forum=5">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Xuất nhập (I/O) và lập trình mạng</option>
                    <option value="listthreads?forum=7">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tăng hiệu suất và tốc độ cho các chương trình Java</option>
                    <option value="listthreads?forum=6">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lập trình đa luồng và đồng bộ hoá trong Java</option>
                    <option value="listthreads?forum=21">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java Certificate - Luyện thi chứng chỉ Java</option>
                    <option value="listthreads?forum=9">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Những vấn đề khác trong J2SE</option>
            <option value=""></option>
                  <option value="listforums?category=2&amp;other_category_invisible=true">
      
        ----&gt;Java EE 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=10">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSP, Servlet, JavaServer Faces</option>
                    <option value="listthreads?forum=11">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EJB và các công nghệ khác trong J2EE</option>
                    <option value="listthreads?forum=12">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Các dịch vụ Web (Web Services) và XML</option>
                    <option value="listthreads?forum=26">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portal trong Java</option>
            <option value=""></option>
                  <option value="listforums?category=3&amp;other_category_invisible=true">
      
        ----&gt;Java ME 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=13">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lập trình thiết bị di động với công nghệ Java ME</option>
                    <option value="listthreads?forum=42" selected="selected">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Các bài hướng dẫn về Java ME</option>
                    <option value="listthreads?forum=34">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java Mobile Games 2004</option>
                    <option value="listthreads?forum=36">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java Mobile Games 2005</option>
            <option value=""></option>
                  <option value="listforums?category=9&amp;other_category_invisible=true">
      
        ----&gt;Mobile Labs 2008 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=44">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mobile Labs 2008 - JAVA MIDP 2.0</option>
            <option value=""></option>
                  <option value="listforums?category=5&amp;other_category_invisible=true">
      
        ----&gt;Các thảo luận khác 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=16">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tin tức về Java</option>
                    <option value="listthreads?forum=32">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Các kỹ thuật lập trình, thiết kế phần mềm, phân tích và thiết kế hệ thống</option>
                    <option value="listthreads?forum=35">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Việc Làm-Tuyển Dụng ngành phần mềm</option>
                    <option value="listthreads?forum=18">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tài nguyên cho người sử dụng Java</option>
                    <option value="listthreads?forum=15">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Công cụ và môi trường phát triển Java</option>
                    <option value="listthreads?forum=23">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mã nguồn mẫu - Dự án lập trình - Ý tưởng thiết kế của bạn</option>
                    <option value="listthreads?forum=22">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Trao đổi - Thảo luận - ChitChat</option>
            <option value=""></option>
                  <option value="listforums?category=7&amp;other_category_invisible=true">
      
        ----&gt;Garbage Collection 
        </option>   
                <option value="">--------------------------------</option>
                    <option value="listthreads?forum=41">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thùng rác</option>
       </select>
        
    </form>
  </td></tr>
</tbody></table>
<br>

  
<br>



<table align="center" width="95%">
  <tbody><tr>
    <td class="portlet-font">
      
          Thành viên đang xem:    
      
              <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=rongcon8x" class="memberName">rongcon8x</a>
      
    </td>
  </tr>
</tbody></table>


<table align="center" width="95%">
  <tbody><tr>
    <td valign="bottom">
      <span class="portlet-font">Trạng thái luồng: <span class="">Bình thường</span></span><br>
      
      
      <span class="highlight">Tổng số bài viết trong luồng này: 69</span>
      


<table cellpadding="0" cellspacing="0">
  <tbody><tr class="pager">
    <td align="right" nowrap="nowrap">
      Số bài viết: 69&nbsp;&nbsp;&nbsp;Số trang: 2&nbsp;&nbsp;&nbsp;[
      
      
        
          <span class="pagerCurrent">1</span>
        
      
        
          <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,8917_offset,50" class="pager">2</a>
        
      
      | <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,8917_offset,50" class="pager">Trang kế tiếp</a> ]
    </td>
  </tr>
</tbody></table>


    </td>

    <td align="right" valign="bottom">
    
      
                
      
        



 
      <span class="portlet-font">Bạn đang KHÔNG đăng ký nhận mail khi có bài mới trong luồng này</span> <a class="command" href="http://www.javavietnam.org/javavn/mvnforum/addwatchprocess?thread=8917&amp;WatchSelector=3&amp;WatchType=0"><img src="viewthread_thread,8917_files/button_watch.gif" alt="Đăng ký nhận mail khi có bài mới trong luồng này" title="Đăng ký nhận mail khi có bài mới trong luồng này" border="0"></a>&nbsp;
 
    <a class="command" href="http://www.javavietnam.org/javavn/mvnforum/addfavoritethreadprocess?thread=8917"><img src="viewthread_thread,8917_files/button_add_favorites.gif" alt="Thêm vào luồng yêu thích" title="Thêm vào luồng yêu thích" border="0"></a>&nbsp;

    
    <a class="command" href="http://www.javavietnam.org/javavn/mvnforum/addpost?forum=42"><img src="viewthread_thread,8917_files/button_new_thread.gif" alt="Tạo luồng mới" title="Tạo luồng mới" border="0"></a>
    
    </td>

  </tr>
</tbody></table>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-header">
    <td align="center" width="155" nowrap="nowrap">Tác giả</td>
    <td align="center">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td nowrap="nowrap">
            
            <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,7324"><img src="viewthread_thread,8917_files/left.gif" alt="Luồng trước đó" title="Luồng trước đó" border="0"></a>
            
          </td>
          <td class="portlet-section-header" align="center" width="100%">
            Luồng này đã được xem <font color="Aqua">26998</font> lần và có <font color="Yellow">68</font>
            bài trả lời
          </td>
          <td nowrap="nowrap">
            
            <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,13752"><img src="viewthread_thread,8917_files/right.gif" alt="Luồng kế tiếp" title="Luồng kế tiếp" border="0"></a>
            
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>





<a name="41506"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="trow0">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41506);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41506"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41506&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41506">
              Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>I.Giới thiệu về J2ME<br>1.Lịch sử</b><br>J2ME
được phát triển từ kiến trúc Java Card, Embeded Java và Personal Java
của phiên bản Java 1.1. Đến sự ra đời của Java 2 thì Sun quyết định
thay thế Personal Java và đươc gọi với tên mới là Java 2 Micro Edition,
hay viết tắt là J2ME. Đúng với tên gọi, J2ME là nền tảng cho các thiết
bị có tính chất nhỏ, gọn:<br><img src="viewthread_thread,8917_files/clip_image001.jpg" border="0"> <br><br><b>2.Lý do chọn J2ME</b><br>a)Java ban đầu được thiết kế dành cho các máy với tài nguyên bộ nhớ hạn chế.<br>b)Thị trường của J2ME được mở rộng ra cho nhiều chủng loại thiết bị như: <br>•Các lọai thẻ cá nhân như Java Card<br>•Máy điện thoại di động<br>•Máy PDA (Personal Digital Assistant - thiết bị trợ giúp cá nhân)<br>•Các hộp điều khiển dành cho tivi, thiết bị giải trí gia dụng …<br><br><b>3.Kiến trúc của J2ME</b><br>Phần này sẽ trình bày kiến trúc tổng quát của nền tảng Java<br><img src="viewthread_thread,8917_files/clip_image002.gif" border="0">  <br><br>a)Giới thiệu các thành phần trong nền tảng J2ME:<br><u>Định nghĩa về Configuration (Cấu hình):</u> là đặc tả định nghĩa một môi trường phần mềm cho một dòng các thiết bị được phân loại bởi tập hợp các đặc tính, ví dụ như:<br>•Kiểu và số lượng bộ nhớ<br>•Kiểu và tốc độ bộ vi xử lý<br>•Kiểu mạng kết nối<br>Do
đây là đặc tả nên các nhà sản xuất thiết bị như Samsung, Nokia …bắt
buộc phải thực thi đầy đủ các đặc tả do Sun qui định để các lập trình
viên có thể dựa vào môi trường lập trình nhất quán và thông qua sự nhất
quán này, các ứng dụng được tạo ra có thể mang tính độc lập thiết bị
cao nhất có thể. Ví dụ như một lập trình viên viết chương trình game
cho điện thoại Samsung thì có thể sửa đổi chương trình của mình một
cách tối thiểu nhất để có thể chạy trên điện thọai Nokia.. Hiện nay Sun
đã đưa ra 2 dạng Configuration:<br><br>•<u>CLDC (Connected Limited Device Configuration-Cấu hình thiết bị kết nối giới hạn):</u>
được thiết kế để nhắm vào thị trường các thiết bị cấp thấp (low-end),
các thiết bị này thông thường là máy điện thọai di động và PDA với
khoảng 512 KB bộ nhớ. Vì tài nguyên bộ nhớ hạn chế nên CLDC được gắn
với Java không dây (Java Wireless ), dạng như cho phép người sử dụng
mua và tải về các ứng dụng Java, ví dụ như là Midlet.<br><br>•<u>CDC- Connected Device Configuration (Cấu hình thiết bị kết nối):</u>
CDC được đưa ra nhắm đến các thiết bị có tính năng mạnh hơn dòng thiết
bị thuộc CLDC nhưng vẫn yếu hơn các hệ thống máy để bàn sử dụng J2SE.
Những thiết bị này có nhiều bộ nhớ hơn (thông thường là trên 2Mb) và có
bộ xử lý mạnh hơn. Các sản phẩm này có thể kể đến như các máy PDA cấp
cao, điện thoại web, các thiết bị gia dụng trong gia đình …<br><br>Cả 2
dạng Cấu hình kể trên đều chứa máy ảo Java (Java Virtual Machine) và
tập hợp các lớp (class) Java cơ bản để cung cấp một môi trường cho các
ứng dụng J2ME. Tuy nhiên, bạn chú ý rằng đối với các thiết bị cấp thấp,
do hạn chế về tài nguyên như bộ nhớ và bộ xử lý nên không thể yêu cầu
máy ảo hổ trợ tất cả các tính năng như với máy ảo của J2SE, ví dụ, các
thiết bị thuộc CLDC không có phần cứng yêu cầu các phép tính toán dấu
phẩy động, nên máy ảo thuộc CLDC không được yêu cầu hỗ trợ kiểu float
và double.<br><img src="viewthread_thread,8917_files/clip_image003_003.jpg" border="0"> <br><br><u>Định nghĩa về Profile:  </u>
Profile mở rộng Configuration bằng cách thêm vào các class để bổ trợ
các tính năng cho từng thiết bị chuyên biệt. Cả 2 Configuration đều có
những profile liên quan và từ những profile này có thể dùng các class
lẫn nhau. Đến đây ta có thể nhận thấy do mỗi profile định nghĩa một tập
hợp các class khác nhau, nên thường ta không thể chuyển một ứng dụng
Java viết cho một profile này và chạy trên một máy hỗ trợ một profile
khác. Cũng với lý do đó, bạn không thể lấy một ứng dụng viết trên J2SE
hay J2EE và chạy trên các máy hỗ trợ J2ME. Sau đây là các profile tiêu
biểu:<br>•<u>Mobile Information Device Profile (MIDP): </u> profile này
sẽ bổ sung các tính năng như hỗ trợ kết nối, các thành phần hỗ trợ giao
diện người dùng … vào CLDC. Profile này được thiết kế chủ yếu để nhắm
vào điện thọai di động với đặc tính là màn hình hiển thị hạn chế, dung
lượng chứa có hạn. Do đó MIDP sẽ cung cấp một giao diện người dùng đơn
giản và các tính năng mạng đơn giản dựa trên HTTP. Có thể nói MIDP là
profile nổi tiếng nhất bởi vì nó là kiến thức cơ bản cho lập trình Java
trên các máy di động (Wireless Java)<br>•<u>PDA Profile: </u> tương tự MIDP, nhưng với thị trường là các máy PDA với màn hình và bộ nhớ lớn hơn<br>•<u>Foundation Profile: </u> cho phép mở rộng các tính năng của CDC với phần lớn các thư viện của bộ Core Java2 1.3<br>Ngoài ra còn có Personal Basis Profile, Personal Profile, RMI Profile, Game Profile.<br><img src="viewthread_thread,8917_files/clip_image004_003.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
        <br>
        
      
      
      
    </td>
  </tr>
  <tr class="trow0">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="trow0">
          <td nowrap="nowrap">
          [22:56:29 09-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41506"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41506">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041506%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41510"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41510);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41510"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41510&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41510">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>4.Giới thiệu MIDP<br>a)Định nghĩa: </b> <br>Đây
là Profile được định nghĩa dành riêng cho các thiết bị di động và là
thành phần chính trong J2ME. MIDP cung cấp các chức năng cơ bản cho hầu
hết các dòng thiêt bị di động phổ biến nhất như các máy điện thoạI di
động và các máy PDA. Tuy nhiên MIDP không phải là cây đũa thần cho mọi
lập trình viên vì như chúng ta đã biết, MIDP được thiết kế cho các máy
di động có cấu hình rất thấp. Trong phần sau tôi sẽ liệt kê qua các
tính năng mà MIDP cung cấp và những giới hạn của nó.<br><br><b>b)Những chức năng MIDP không thực hiện được:</b><br>•Phép
tính dấu phẩy động (floating point): Phép tính này đòi hỏi rất nhiều
tài nguyên CPU và phần lớn các CPU cho các thiết bị di động không hỗ
trợ phép tính này, do đó MIDP cũng không có.<br>•Bộ nạp lớp (Class Loader).<br>•Hỗ trợ  từ khóa finalize() như trong J2SE: Việc “dọn dẹp“ tài nguyên trước khi nó bị xóa được đẩy về phía các lập trình viên.<br>•Không hỗ trợ JNI<br>•Hỗ trợ hạn chế thao tác bắt lỗi. <br>•Phần lớn các thư viện API cho Swing và AWT không thể sử dụng được trong MIDP.<br>•Không
hỗ trợ các tính năng quản lý file và thư mục: Đây có thể làm bạn ngạc
nhiên nhưng thực tế là các thiết bị J2ME không có hỗ trợ các thiết bị
lưu trữ thông thường như ổ cứng v.v. Tuy nhiên, điều đó không có nghĩa
là bạn phải mất đi mọi dữ liệu quan trọng mỗi khi tắt máy, Sun đã cung
cấp một chức năng khác tương đương gọi là Record Management system
(RMS) để cung cấp khả năng lưu trữ cho các thiết bị này.<br><br><b>c)Những chức năng MIDP cung cấp</b><br>•Các
lớp và kiểu dữ liệu: Phần lớn các lớp mà các lập trình viên Java quen
thuộc vẫn còn được giữ lại ví dụ như các lớp trong gói java.util như
Stack, Vector và Hastable cũng như Enumeration. <br>•Hỗ trợ đối tượng
Display: Đúng như tên gọi một chương trình MIDP sẽ hỗ trợ duy nhất một
đối tượng Display là đối tượng quản lý việc hiển thị dữ liệu trên màn
hình điện thoại.<br>•Hỗ trợ Form và các giao diện người dùng.<br>•Hỗ trợ Timer và Alert<br>•Cung cấp tính năng Record Management System (RMS) cho việc lưu trữ dữ liệu<br><br>Ngoài
ra vào tháng 11 năm 2003 Sun đã tung ra MIDP 2.0 với hàng loạt tính
năng khác được cung cấp thêm so với bản 1.0. Những cải tiến nổi bật so
với MIDP 1.0<br>•Nâng cấp các tính năng bảo mật như:<br>oDownload qua mạng an toàn hơn qua việc hỗ trợ giao thức HTTPS.<br>oKiểm
soát việc kết nối giữa máy di động và server: ví dụ như các chương
trình không thể kết nối tới server nếu thiếu sự chấp thuận của người sử
dụng.<br>•Thêm các API hỗ trợ Multimedia. Một trong nhưng cải tiến hấp
dẫn nhất của MIDP 2.0 là tập các API media của nó. Các API này là một
tập con chỉ hỗ trợ âm thanh của Mobile Media API (MMAPI).<br>•Mở rộng
các tính năng của Form. Nhiều cải tiến đã được đưa vào API
javax.microedition.lcdui trong MIDP 2.0, nhưng các thay đổi lớn nhất
(ngoài API cho game) là trong Form và Item. <br>•<u>Hỗ trợ các lập trình viên Game bằng cách tung ra Game API:</u>
Có lẽ Sun đã kịp nhận ra thị trường đầy tiềm năng của các thiết bị di
động trong lĩnh vực Game. Với MIDP 1.0 thì các lập trình viên phải tự
mình viết code để quản lý các hành động của nhân vật cũng như quản lý
đồ họa. Việc này sẽ làm tăng kích thước file của sản phẩm cũng như việc
xuất hiện các đoạn mã bị lỗi. Được hưởng lợi nhất từ Game API trong
MIDP 2.0 không chỉ là các lập trình viên Game mà còn là các lập trình
viên cần sử dụng các tính năng đồ họa cao cấp. Ý tưởng cơ bản của Game
API là việc giả định rằng một màn hình game là tập hợp các layer (lớp).
Ví dụ như: trong một game đua xe thì màn hình nền là một layer, con
đường là một layer và chiếc xe được xem như đang nằm trên layer khác.
Với Game API nhà phát triển còn được cung cấp các tính năng như quản lý
các thao tác bàn phím. <br>•<u>Hỗ trợ kiểu ảnh RGB:</u> một trong
những cải tiến hấp dẫn cho các nhà phát triển MIDP là việc biểu diễn
hình ảnh dưới dạng các mảng số nguyên, cho phép MIDlet thao tác với dữ
liệu hình ảnh một cách trực tiếp.<br><br><b>5.Môi trường phát triển J2ME</b><br>Có
nhiều môi trường phát triển ứng dụng J2ME và mỗi hãng điện thoại cũng
đưa ra những môi trường phát triển cho riêng mình. Ở đây tôi sẽ giới
thiệu toolkit của Sun: J2ME Wireless Toolkit.<br>Địa chỉ download chương trình: <a href="http://java.sun.com/j2me/download.html" target="_blank">http://java.sun.com/j2me/download.html</a> . Ngoài ra bạn cần phải có J2SDK 1.4 trở lên.<br><br>Sau khi cài đặt bạn chạy chương trình tại:<br><img src="viewthread_thread,8917_files/clip_image005.jpg" border="0"> <br><br>Giao diện của chương trình:<br><img src="viewthread_thread,8917_files/clip_image006.jpg" border="0"> <br><br>Sau
khi hoàn thành các các bước ở trên, đây là lúc bắt đầu viết những dòng
code đầu tiên. Bạn nhấp chuột vào nút bấm New Project và nhập vào tên
Project và Class mà bạn muốn tạo, ví dụ TestMidlet. <br><br><img src="viewthread_thread,8917_files/clip_image007.jpg" border="0"> <br><br>Chú
ý là bạn không nhất thiết phải tạo trùng tên class với tên Project.
Trên cửa sổ chương trình sẽ hiển thị các thông báo về việc tạo các thư
mục phục vụ cho việc xây dựng và thực thi mã chương trình<br><br><img src="viewthread_thread,8917_files/clip_image008.jpg" border="0"> <br><br>Hãy để ý thư mục : “E:\WTK22\apps\Example\src”, đây sẽ là nơi chứa source của ứng dụng.<br>Bạn có thể dùng bất kỳ chương trình soạn thảo văn bản nào để soạn code:<br><br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TestMidlet</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> mMainForm</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">TestMidlet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; mMainForm </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Lap trinh voi J2ME"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; mMainForm</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Hello world!, MIDP!"</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; mMainForm</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; mMainForm</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">mMainForm</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Sau đó copy source này vào thư muc nói trên. Rồi tiến hành build và run chương trình<br><img src="viewthread_thread,8917_files/clip_image009.jpg" border="0"> <br><br><b>6. Vòng đời của một MIDlet</b><br>Giống
như dạng chương trình Applet trên J2SE, một Midlet luôn luôn kế thừa
javax.microedition.midlet Hàm cơ bản nhất trong mọi Midlet là
startApp(), hàm này sẽ khởi tạo Midlet cũng như vận hành các thành phần
hoặc đối tượng khác, ngoài startApp(), mỗi Midlet còn có pauseApp() và
destroyApp(), mỗi hàm này sẽ đựợc gọi thực thi tương ứng khi user chọn
dừng hoặc thoát chương trình.<br><br><img src="viewthread_thread,8917_files/clip_image010.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [23:03:52 09-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41510"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41510">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041510%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41519"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/female.gif" alt="Nữ" title="Nữ" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=redmoon" class="memberName">redmoon</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>24-05-2005</b><br>
        
             
        Tổng số bài đã viết: <b>4</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41519);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41519"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41519&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41519">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Bạn có tài liệu nào về J2ME không? Nếu có, bạn chỉ cho mình địa chỉ
trang web đó nghe, hay là có cuốn sách nào thì chop mình biết vói. cảm
ơn trước!!!!!!!!!!!!!!!!<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [08:33:57 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41519"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=redmoon"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=redmoon"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41519">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041519%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41537"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lms" class="memberName">lms</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>10-07-2005</b><br>
        
             
        Tổng số bài đã viết: <b>11</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41537);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41537"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41537&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41537">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      mình là thành viên mới nhưng mình cũng đang nghiên cứu về Java<br>và mình cũng muốn tìm hiểu và học về cách lập trình java trên dtdd<br>bạn nào có share mình vớil<br>thanks<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [15:39:10 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41537"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lms"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=lms"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:ghost@mailinator.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="ghost@mailinator.com" title="ghost@mailinator.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41537">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041537%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41558"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41558);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41558"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41558&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41558">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Chào bạn,<br>Mình sẽ cố gắng đi xuyên suốt toàn bộ các vấn đề của J2ME. Mình sẽ cố gắng mỗi ngày có một bài viết<br>Còn
tài liệu thì ở trên diễn đàn đã có một địa chỉ để download hay bạn có
thể xem trong mục Samsung Mobile 2004 hay Samsung Mobile 2005 để có các
tài liệu lập trình trên J2ME<br>Chúc thành công,<br>Trần Đức Minh<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [20:30:43 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41558"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41558">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041558%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41561"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41561);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41561"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41561&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41561">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>II.Các thành phần giao diện ở mức cao của ứng dụng MIDP<br>1.Đối tượng Display, Displayable và Screens </b> <br>Một
ứng dụng MIDlet chỉ có 1 đối tượng thể hiện Display. Đối tượng này dùng
để lấy thông tin về đối tượng trình bày, ví dụ màu được hỗ trợ, và bao
gồm các phương thức để yêu cầu các đối tượng được trình bày. Đối tượng
Display cần thiết cho bộ quản lý việc trình bày trên thiết bị điều
khiển thành phần nào sẽ được hiển thị lên trên thiết bị<br>Mặc dù chỉ
có một đối tượng Display ứng với mỗi MIDlet, nhưng nhiều đối tượng
trong một MIDlet có thể được hiển thị ra trên thiết bị như Forms,
TextBoxes, ChoiceGroups, ..<br>Một đối tượng Displayable là một thành
phần được hiển thị trên một thiết bị. MIDP chứa 2 lớp con của lớp
Displayable là Screen và Canvas. Hình dưới đây mô tả mối quan hệ trên<br><img src="viewthread_thread,8917_files/clip_image001_002.jpg" border="0"> <br>Một
đối tượng Screen không phải là một cái gì đó hiện ra trên thiết bị, mà
lớp Screen này sẽ được thừa kế bởi các thành phần hiển thị ở mức cao,
chính các thành phần này sẽ được hiển thị ra trên màn hình. Hình dưới
đây sẽ mô tả mối quan hệ của lớp Screen và các thành phần thể hiện ở
mức cao. <br><img src="viewthread_thread,8917_files/clip_image002_002.jpg" border="0"> <br>Tóm lại, phần này chỉ giới thiệu hệ thống phân cấp đối tượng dùng để thể hiện giao diện người dùng trong MIDP.<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [21:43:09 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41561"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41561">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041561%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41562"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41562);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41562"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41562&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41562">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>2.Thành phần Form và Items</b> <br>Trong
phần này sẽ giới thiệu các thành phần được hiển thị ra trên một Form.
Một Form chỉ đơn giản là một khung chứa các thành phần, mà mỗi thành
phần được thừa kế từ lớp Item. Chúng ta sẽ xem qua các thành phần hiển
thị trên thiết bị trên: <br>•DateField<br>•Gauge<br>•StringItem<br>•TextField<br>•ChoiceGroup<br>•Spacer<br>•CustomItem<br>•Image and ImageItem<br><br><b>a)DateField</b><br>Thành
phần DateField cung cấp một phương tiện trực quan để thao tác đối tượng
Date được định nghĩa trong java.util.Date. Khi tạo một đối tượng
DateField, bạn cần chỉ rõ là người dùng chỉ có thể chỉnh sửa ngày,
chỉnh sửa giờ hay đồng thời cả hai. Các phương thức dựng của lớp
DateField gồm:<br><br>DateField(String label, int mode)<br>DateField(String label, int mode, TimeZone timeZone)<br><br>Các mode tương ứng của lớp DateField gồm:  <br><b>DateField.DATE_TIME</b>: cho phép thay đổi ngày giờ<br><b>DateField.TIME</b>: chỉ cho phép thay đổi giờ<br><b>DateField.DATE</b>: chỉ cho phép thay đổi ngày<br><br>Ví dụ: <br>private DateField dfAlarm;<br>// <i><b>Tạo một đổi tượng DateField với nhãn, cho phép thay đổi cả ngày và giờ </b> </i> dfAlarm = new DateField("Set Alarm Time", <div class="divcode"><code class="prettyprint"><span class="typ">DateField</span><span class="pun">.</span><span class="pln">DATE_TIME</span><span class="pun">);</span><span class="pln"><br>dfAlarm</span><span class="pun">.</span><span class="pln">setDate</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span><span class="pun">());</span></code></div><br><br>Dưới đây là đoạn chương trình mẫu thử nghiệm đổi tượng DateField<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Timer</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">TimerTask</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DateFieldTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">ItemStateListener</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Reference to display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Exit MIDlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DateField</span><span class="pln"> dfAlarm</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// DateField component</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DateFieldTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// The main form</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"DateField Test"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// DateField with todays date as a default</span><span class="pln"><br>&nbsp; &nbsp; dfAlarm </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DateField</span><span class="pun">(</span><span class="str">"Set Alarm Time"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">DateField</span><span class="pun">.</span><span class="pln">DATE_TIME</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; dfAlarm</span><span class="pun">.</span><span class="pln">setDate</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// All the commands/buttons</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Add to form and listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">dfAlarm</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp </span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Date field changed."</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>b)Gauge</b><br>Một
thành phần Gauge là một kiểu giao diện thường được dùng để mô tả mức độ
hoàn thành một công việc. Có 2 loại Gauge là loại tương tác và loại
không tương tác. Loại đầu cho phép người dùng có thể thay đổi Gauge,
loại 2 thì đòi hỏi người phát triển phải cập nhật Gauge<br>Dười đây là hàm dựng của lớp Gauge:<br>Gauge(String label, boolean interactive, int maxValue, int initialValue)<br>Ví dụ:<br><div class="divcode"><code class="prettyprint"><span class="kwd">private</span><span class="pln"> </span><span class="typ">Gauge</span><span class="pln"> gaVolume</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Điều chỉnh âm lượng</span><span class="pln"><br>gaVolume </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Gauge</span><span class="pun">(</span><span class="str">"Sound Level"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span></code></div><br><br>Dưới đây là đoạn chương trình mẫu minh họa cách sử dụng lớp Gauge<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">InteractiveGauge</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Reference to display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// The main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Exit the form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Gauge</span><span class="pln"> gaVolume</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Volume adjustment</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">InteractiveGauge</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create the gauge and exit command</span><span class="pln"><br>&nbsp; &nbsp; gaVolume </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Gauge</span><span class="pun">(</span><span class="str">"Sound Level"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="lit">50</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create form, add commands, listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">gaVolume</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Called by application manager to start the MIDlet.</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>c)StringItem</b><br>Một
thành phần StringItem được dùng để hiển thị một nhãn hay chuỗi văn bản.
Người dùng không thể thay đổi nhãn hay chuỗi văn bản khi chương trình
đang chạy. StringItem không nhận ra sự kiện<br>Phương thức dựng của lớp StringItem<br>StringItem(String label, String text)<br><br>Dưới đây là đoạn mã minh họa việc sử dụng đối tượng StringItem<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">StringItemTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pln"> siMsg</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// StringItem</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmChange</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Change the label and message</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// Exit the MIDlet</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">StringItemTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create text message and commands</span><span class="pln"><br>&nbsp; &nbsp; siMsg </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pun">(</span><span class="str">"Website: "</span><span class="pun">,</span><span class="pln"> </span><span class="str">"www.IBM.com"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmChange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Change"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create Form, add Command and StringItem, listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"StringItem Test"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmChange</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">siMsg</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Called by application manager to start the MIDlet.</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmChange</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Change label</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; siMsg</span><span class="pun">.</span><span class="pln">setLabel</span><span class="pun">(</span><span class="str">"Section: "</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Change text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; siMsg</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="str">"developerWorks"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Remove the command</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">removeCommand</span><span class="pun">(</span><span class="pln">cmChange</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>d)TextField</b><br>Một
thành phần TextField thì tương tự như bất kỳ các đối tượng nhập văn bản
tiêu biểu nào. Bạn có thể chỉ định một nhãn, số ký tự tối đa được phép
nhập, và loại dữ liệu được phép nhập. Ngoài ra TextField còn cho phép
bạn nhập vào mật khẩu với các ký tự nhập vào sẽ được che bởi các ký tự
mặt nạ <br>Phương thức dựng của lớp TextField<br>TextField(String label, String text, int maxSize, int constraints)<br>Thành
phần thứ 3 constraints là thành phần mà chúng ta quan tâm, vì nó là
phương tiện để xác định loại dữ liệu nào được phép nhập vào TextField<br>MIDP định nghĩa các tham số ràng buộc sau cho thành phần TextField:<br>•<b>ANY</b>: cho phép nhập bất kỳ ký tự nào<br>•<b>EMAILADDR</b>: chỉ cho phép nhâp vào các địa chỉ email hợp lệ<br>•<b>NUMERIC</b>: chỉ cho phép nhập số<br>•<b>PHONENUMBER</b>: Chỉ cho phép nhập số điện thoại<br>•<b>URL</b>: Chỉ cho phép nhập các ký tự hợp lệ bên trong URL<br>•<b>PASSWORD</b>: che tất cả các ký tự nhập vào<br><br>Dưới đây là đoạn mã minh họa việc sử dụng thành phần TextField<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TextFieldTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmTest</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// Get contents of textfield</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TextField</span><span class="pln"> tfText</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Textfield</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">TextFieldTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create commands</span><span class="pln"><br>&nbsp; &nbsp; cmTest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Get Contents"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Textfield for phone number</span><span class="pln"><br>&nbsp; &nbsp; tfText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">(</span><span class="str">"Phone:"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">PHONENUMBER</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create Form, add Commands and textfield, listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Phone Number"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmTest</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">tfText</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Called by application manager to start the MIDlet.</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmTest</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"TextField contains: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tfText</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Đoạn mã trên chỉ mới áp dụng một ràng buộc trên đối tượng TextField. Chúng ta có thể thêm một ràng buộc thứ 2 bằng cách:<br><b>tfText = new TextField("Phone:", "", 10, TextField.PHONENUMBER | TextField.PASSWORD);</b><br><br><b>e)ChoiceGroup</b><br>Thành phần ChoiceGroup cho phép người dùng chọn từ một danh sách đầu vào đã được định nghĩa trước. ChoiceGroup có 2 loại: <br>•<b>multi-selection</b>(cho phép chọn nhiều mục): nhóm này có liên quan đến các checkbox  	<br>•<b>exclusive-selection</b>(chỉ được chọn một mục): nhóm này liên quan đến nhóm các radio button<br><br>Dưới đây là đoạn mã minh họa cho việc sử dụng ChoiceGroup:<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ChoiceGroupTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">ItemStateListener</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Reference to display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// A Command to exit the MIDlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmView</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// View the choice selected</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> selectAllIndex</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Index of the "Select All" option</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pln"> cgPrefs</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Choice Group of preferences</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> choiceGroupIndex</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Index of choice group on form</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ChoiceGroupTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create a multiple choice group</span><span class="pln"><br>&nbsp; &nbsp; cgPrefs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pun">(</span><span class="str">"Preferences"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">MULTIPLE</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Append options, with no associated images</span><span class="pln"><br>&nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Replace tabs with spaces"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Save bookmarks"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Detect file type"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; selectAllIndex </span><span class="pun">=</span><span class="pln"> cgPrefs</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Select All"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmView </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"View"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create Form, add components, listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; choiceGroupIndex </span><span class="pun">=</span><span class="pln"> fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">cgPrefs</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmView</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmView</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pln"> selected</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">[</span><span class="pln">cgPrefs</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()];</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Fill array indicating whether each element is checked</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">getSelectedFlags</span><span class="pun">(</span><span class="pln">selected</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> cgPrefs</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">cgPrefs</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; </span><span class="pun">(</span><span class="pln">selected</span><span class="pun">&lt;</span><span class="pln">i</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">": selected"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">": not selected"</span><span class="pun">));</span><span class="pln"> <br></span><span class="com">//Ở đây mình ghi ký hiệu là &lt;&gt; thay vì [], do nó là tag định dạng</span><span class="pln"><br></span><span class="com">//nên sẽ không xuất hiện trên bài viết. Các bạn thay &lt;&gt; bằng [] </span><span class="pln"><br></span><span class="com">//khi gõ vào trong chương trình</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> cgPrefs</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Is "Select all" option checked ?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cgPrefs</span><span class="pun">.</span><span class="pln">isSelected</span><span class="pun">(</span><span class="pln">selectAllIndex</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Set all checkboxes to true</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> cgPrefs</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">setSelectedIndex</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Remove the check by "Select All"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; cgPrefs</span><span class="pun">.</span><span class="pln">setSelectedIndex</span><span class="pun">(</span><span class="pln">selectAllIndex</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>f)Spacer</b><br>Spacer
là thành phần không nhìn thấy, được dùng để định vị trí cho các đối
tượng khác trên màn hình hiển thị. Bạn có thể dùng Spacer để chỉ rõ
khoãng trắng theo chiều dọc và chiều ngang giữa các thành phần, đơn
giản bằng cách chỉ ra chiều dài và chiều rộng cho từng cái. Vì Spacer
là thành phần không nhìn thấy nên nó không có sự kiện<br><br><b>b.CustomItem</b><br>Thành
phần CustomItem cho phép bạn tạo ra những thành phần Item của chính
bạn. Những thành phần này cũng giống như những Item khác là cũng có thể
được đặt vào trong Form và có thể nhận biết và xử lý sự kiện<br>CustomItem
được vẽ lên màn hình hiển thị bằng phương thức paint(). Vì thế nó sẽ
tùy thuộc vào đoạn mã được bạn hiện thực bên trong phương thức paint().
Quá trình tạo ra một đối tượng CustomItem cũng không khác các đối tượng
có sẵn trên nền Java. Đoạn mã dưới đây minh họa sườn của việc tạo ra
một đối tượng CustomItem<br><div class="divcode"><code class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">NewItem</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">CustomItem</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">NewItem</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> label</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">(</span><span class="pln">label</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> height</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getMinContentHeight</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getMinContentWidth</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getPrefContentHeight</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> width</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getPrefContentWidth</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> height</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br></span><span class="pun">...</span><span class="pln"><br><br></span><span class="pun">}</span></code></div><br><br><b>g)Image and ImageItem</b><br>Hai
lớp được dùng để hiển thị hình ảnh là: Image và ImageItem. Image được
dùng để tạo ra một đối tượng hình ảnh và giữ thông tin như là chiều cao
và chiều rộng, và dù ảnh có biến đổi hay không. Lớp ImageItem mô tả một
tấm ảnh sẽ được hiển thị như thế nào, ví dụ tấm ảnh sẽ được đặt ở trung
tâm, hay đặt về phía bên trái, hay bên trên của màn hình<br>MIDP đưa ra
2 loại hình ảnh là loại ảnh không biến đổi và ảnh biến đổi. Một tấm ảnh
không biến đổi thì không thể bị thay đổi kể từ lúc nó được tạo ra. Đặc
trưng của loại ảnh này là được đọc từ một tập tin. Một tấm ảnh biến đổi
về cơ bản là một vùng nhớ. Điều này tùy thuộc vào việc bạn tạo nội dung
của tấm ảnh bằng cách ghi nó lên vùng nhớ. Chúng ta sẽ làm việc với
những tấm ảnh không biến đổi trong bảng sau.<br>Các phương thức dựng cho lớp Image và ImageItem <br>•Image createImage(String name)<br>•Image createImage(Image source)<br>•Image createImage(byte[] imageDate, int imageOffset, int imageLength)<br>•Image createImage(int width, int height)<br>•Image createImage(Image image, int x, int y, int width,<br>int height, int transform)<br>•Image createImage(InputStream stream)<br>•Image createRGBImage(int[] rgb, int width, int height,<br>boolean processAlpha)<br>•ImageItem(String label, Image img, int layout, String altText)<br><br>Đoạn
mã dưới đây mô tả làm thế nào tạo một tấm ảnh từ một tập tin, và gắn nó
với một đối tượng ImageItem và thêm một bức ảnh vào một Form<br><div class="divcode"><code class="prettyprint"><span class="typ">Form</span><span class="pln"> fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Images"</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br></span><span class="com">// Create an image</span><span class="pln"><br></span><span class="typ">Image</span><span class="pln"> img </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="str">"/house.png"</span><span class="pun">);</span><span class="pln"><br></span><span class="com">// Append to a form</span><span class="pln"><br>fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ImageItem</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> img</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ImageItem</span><span class="pun">.</span><span class="pln">LAYOUT_CENTER</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">));</span></code></div><br><br>Chú ý: PNG là loại ảnh duy nhất được hỗ trợ bởi bất kỳ thiết bị MIDP nào		<br>Đoạn mã dưới đây mô tả việc sử dụng đối tượng Image và đối tượng ImageItem<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ImageTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> &nbsp;</span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// The main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ImageTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Read the appropriate image based on color support</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">Image</span><span class="pln"> im </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">((</span><span class="pln">display</span><span class="pun">.</span><span class="pln">isColor</span><span class="pun">())</span><span class="pln"> </span><span class="pun">?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="str">"/image_color.png"</span><span class="pun">:</span><span class="str">"/image_bw.png"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ImageItem</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> im</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ImageItem</span><span class="pun">.</span><span class="pln">LAYOUT_CENTER</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.</span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Unable to locate or read .png file"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 2 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 22:17:54 10-07-2005]
      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [21:53:00 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41562"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41562">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041562%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="41565"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(41565);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41565"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=41565&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_41565">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>3.Thành phần List, Textbox, Alert, và Ticker</b><br>Trong
phần này chúng ta sẽ xem xét các đối tượng ListBox, TextBox, Alert, và
Ticker trong các thành phần giao diện cấp cao của ứng dụng MIDP. Chúng
ta hãy cũng xem lại cây phân cấp các thành phần trình bày trên thiết bị
hoàn chỉnh hơn<br><img src="viewthread_thread,8917_files/clip_image003_002.jpg" border="0"> <br><br><b>a)List</b><br>Một
List chứa một dãy các lựa chọn được thể hiện một trong ba dạng. Chúng
ta đã thấy loại cho phép nhiều lựa chọn và loại chỉ được phép chọn một
khi làm việc với ChoiceGroup. Dạng thứ 3 là là dạng không tường minh.
Các List không tường minh đuợc dùng để thể hiện một thực đơn các chọn
lựa<br><br>Đoạn mã dưới đây minh họa việc sử dụng một danh sách không tường minh<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ImplicitList</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pln"> lsDocument</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Main list</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// Command to exit</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ImplicitList</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create the Commands</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Create array of image objects</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">Image</span><span class="pln"> images</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="str">"/next.png"</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="str">"/previous.png"</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="str">"/new.png"</span><span class="pun">)};</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Create array of corresponding string objects</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> options</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"Next"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Previous"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"New"</span><span class="pun">};</span><span class="pln"><br><br>&nbsp; &nbsp;</span><span class="com">// Create list using arrays, add commands, listen for events</span><span class="pln"><br>&nbsp; &nbsp;lsDocument </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">List</span><span class="pun">(</span><span class="str">"Document Option:"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">List</span><span class="pun">.</span><span class="pln">IMPLICIT</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp;</span><span class="com">// If you have no images, use this line to create the list</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// &nbsp; &nbsp; &nbsp;lsDocument = new List("Document Option:", List.IMPLICIT, options, null);</span><span class="pln"><br><br>&nbsp; &nbsp;lsDocument</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp;lsDocument</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp;</span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.</span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Unable to locate or read .png file"</span><span class="pun">);</span><span class="pln"><br>&nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">lsDocument</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// If an implicit list generated the event</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> </span><span class="typ">List</span><span class="pun">.</span><span class="pln">SELECT_COMMAND</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">lsDocument</span><span class="pun">.</span><span class="pln">getSelectedIndex</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Next selected"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Previous selected"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"New selected"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>b)TextBox</b><br>TextBox
được dùng để cho phép nhập nhiều dòng. Thành phần TextBox và TextField
có những ràng buộc giống nhau trong việc chỉ định loại nội dung được
phép nhâp vào. Ví dụ ANY, EMAIL, URI… Dưới đây là phương thức dựng của
một TextBox:<br>TextBox(String title, String text, int maxSize, int constraints)<br><br>Dưới đây là đoạn mã minh họa cho việc sử dụng TextBox:<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TextBoxTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TextBox</span><span class="pln"> tbClip</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// Main textbox</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// Command to exit</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">TextBoxTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create the Commands. Notice the priorities assigned</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; tbClip </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextBox</span><span class="pun">(</span><span class="str">"Textbox Test"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Contents go here.."</span><span class="pun">,</span><span class="lit">125</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">ANY</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; tbClip</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; tbClip</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">tbClip</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>c)Alert và AlertType</b><br>Một Alert đơn giản là một hộp thoại rất nhỏ. Có 2 loại Alert: <br>•<b>Modal</b>: là loại hộp thoại thông báo được trình bày cho đến khi người dùng ấn nút đồng ý <br>•<b>Non-modal</b>: là loại hộp thoại thông báo chỉ được trình bày trong một số giây nhất định<br>Các phương thức dựng của Alert:<br>Alert(String title)<br>Alert(String title, String alertText, Image alertImage, AlertType alertType)<br>Thành
phần AlertType sử dụng âm thanh để thông báo cho người dùng biết có một
sự kiện xảy ra. Ví dụ bạn có thể sử dụng AlertType để mở một đoạn âm
thanh nào đó báo hiệu cho người dùng biết khi có lỗi xảy ra<br>Thành phần AlertType bao gồm 5 loại âm thanh định sẵn là: thông báo, xác nhận, báo lỗi, thông báo và cảnh báo<br>Ta thấy các phương thức dựng của Alert cho biết là Alert có thể bao gồm 1 tham chiếu đến một đối tượng AlertType. <br><br>Dưới đây là đoạn mã minh họa việc sử dụng Alert và AlertType<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AlertTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">ItemStateListener</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Reference to display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Main form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pln"> cgSound</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Choice group</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">AlertTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create an exclusive (radio) choice group</span><span class="pln"><br>&nbsp; &nbsp; cgSound </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pun">(</span><span class="str">"Choose a sound"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">EXCLUSIVE</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Append options, with no associated images</span><span class="pln"><br>&nbsp; &nbsp; cgSound</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Info"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSound</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Confirmation"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSound</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Warning"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSound</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Alarm"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSound</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Error"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create Form, add components, listen for events</span><span class="pln"><br>&nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">cgSound</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Alert</span><span class="pln"> al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cgSound</span><span class="pun">.</span><span class="pln">getSelectedIndex</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Alert</span><span class="pun">(</span><span class="str">"Alert sound"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Info sound"</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">AlertType</span><span class="pun">.</span><span class="pln">INFO</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Alert</span><span class="pun">(</span><span class="str">"Alert sound"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Confirmation sound"</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">AlertType</span><span class="pun">.</span><span class="pln">INFO</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Alert</span><span class="pun">(</span><span class="str">"Alert sound"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Warning sound"</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">AlertType</span><span class="pun">.</span><span class="pln">INFO</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">3</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Alert</span><span class="pun">(</span><span class="str">"Alert sound"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Alarm sound"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">AlertType</span><span class="pun">.</span><span class="pln">INFO</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">4</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; al </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Alert</span><span class="pun">(</span><span class="str">"Alert sound"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Error sound"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="typ">AlertType</span><span class="pun">.</span><span class="pln">INFO</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">al </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Wait for user to acknowledge the alert</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; al</span><span class="pun">.</span><span class="pln">setTimeout</span><span class="pun">(</span><span class="typ">Alert</span><span class="pun">.</span><span class="pln">FOREVER</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Display alert, show main form when done</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">al</span><span class="pun">,</span><span class="pln"> fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>d)Ticker</b><br>Thành
phần Ticker đuợc dùng để thể hiện một đoạn chuỗi chạy theo chiều ngang.
Tham số duy nhất của thành phần Ticker là đoạn văn bản được trình bày.
Tốc độ và chiều cuốn được xác định bởi việc cài đặt trên thiết bị nào.<br>Phương thức dựng của Ticker <br>Ticker(String str)<br>Từ
cây phân cấp các thành phần thể hiện trên thiết bị, ta thấy là thành
phần Ticker không là lớp con của lớp Screen mà Ticker là một biến của
lớp Screen. Điều này có nghĩa là một Ticker có thể được gắn vào bất cứ
lớp con của lớp Screen bao gồm cả Alert<br><br>Dưới đây là đoạn mã minh họa việc sử dụng một Ticker<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TickerTest</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">List</span><span class="pln"> lsProducts</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Products</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Ticker</span><span class="pln"> tkSale</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Ticker</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">TickerTest</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; tkSale </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Ticker</span><span class="pun">(</span><span class="str">"Sale: Real Imitation Cuban Cigars...10 for $10"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; lsProducts </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">List</span><span class="pun">(</span><span class="str">"Products"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">IMPLICIT</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lsProducts</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Wicker Chair"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lsProducts</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Coffee Table"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lsProducts</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lsProducts</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lsProducts</span><span class="pun">.</span><span class="pln">setTicker</span><span class="pun">(</span><span class="pln">tkSale</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">lsProducts</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> </span><span class="typ">List</span><span class="pun">.</span><span class="pln">SELECT_COMMAND</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">lsProducts</span><span class="pun">.</span><span class="pln">getSelectedIndex</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Chair selected"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Table selected"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 22:24:31 10-07-2005]
      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [22:22:59 10-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,41565"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#41565">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2041565%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="43149"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=mrmoi" class="memberName">mrmoi</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>07-05-2005</b><br>
        
             
        Tổng số bài đã viết: <b>3</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(43149);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=43149"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=43149&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0"> 
            

            
            <span id="posttopic_43149">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Quả thật bài viết của bạn rất hay : ngắn gọn và súc tích! Kìa bạn, sao
lại không post tiếp nữa điiiiiiiiiiiiiiiiiiiiiii !!!<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [14:39:33 31-07-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,43149"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=mrmoi"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=mrmoi"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:moibelgal@gmail.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="moibelgal@gmail.com" title="moibelgal@gmail.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#43149">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2043149%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="44789"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=tuan_cnth" class="memberName">tuan_cnth</a>
        <br>
        Thành viên mới
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_004.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Viet Nam<br>
        
              
        Tham gia: <b>14-07-2005</b><br>
        
             
        Tổng số bài đã viết: <b>6</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(44789);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=44789"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=44789&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/applause.gif" alt="applause" title="applause" border="0"> 
            

            
            <span id="posttopic_44789">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <img src="viewthread_thread,8917_files/wink.gif" alt="wink" title="wink" border="0">
Tôi thấy bài viết của bạn rất hay. Tuy nhiên để thuận tiện cho các bạn
khác tham khảo thì tôi nghĩ bạn nên viết ra file .doc hoặc .pdf để các
bạn khác dễ download về đọc. Chúc bạn có nhiều bài viết hay hơn nữa!<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [12:05:00 18-08-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,44789"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=tuan_cnth"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=tuan_cnth"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:tuan_cnth@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="tuan_cnth@yahoo.com" title="tuan_cnth@yahoo.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=tuan_cnth&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="tuan_cnth" title="tuan_cnth" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="aim:goim?screenname=tuannv&amp;message=Hello+Are+you+there?"><img src="viewthread_thread,8917_files/aim.gif" alt="tuannv" title="tuannv" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://wwp.icq.com/scripts/search.dll?to=191622716"><img src="viewthread_thread,8917_files/icq.gif" alt="191622716" title="191622716" border="0"></a>
            
          </td>
          <td nowrap="nowrap">
            <a href="#44789">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2044789%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="45910"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=italy_java" class="memberName">italy_java</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>07-05-2005</b><br>
        
             
        Tổng số bài đã viết: <b>11</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(45910);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=45910"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=45910&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_45910">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Các bác có thể download J2ME tại trang blog của anh Khánh, mail cho anh
Khánh để lấy key. Theo tui thấy thì đây là 1 tài liệu đáng giá nhất về
J2ME bằng tiếng Việt!<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [16:29:27 30-08-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,45910"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=italy_java"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=italy_java"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#45910">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2045910%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="46667"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(46667);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=46667"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=46667&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_46667">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>III.Các thành phần giao diện ở mức thấp của ứng dụng MIDP</b><br><b>1.Các hàm API ở mức thấp</b><br>Mặc
dù các hàm API cấp cao cung cấp một tập đầy đủ các thành phần để xây
dựng giao diện ứng dụng người dùng. Tuy nhiên các thành phần cấp cao
không cung cấp phương tiện để vẽ trực tiếp lên thiết bị thể hiện. Vì
thiếu khả năng này nên các ứng dụng được tạo ra sẽ gặp nhiều giới hạn.
Ví dụ hầu hết các nhà phát triển game di động dựa trên khả năng vẽ các
đường thẳng và các hình dạng như là một phần tích hợp quá trình phát
triển<br>Nếu các hàm API cấp cao cho phép chúng ta tạo ra giao diện cho
các ứng dụng theo chuẩn, thì các hàm API cấp thấp cho phép chúng ta có
thể thể hiện các ý tưởng của mình<br>Canvas và Graphics là 2 lớp trái
tim của các hàm API cấp thấp. Bạn sẽ làm tất cả các công việc bằng tay.
Canvas là một khung vẽ cho phép người phát triển có khả năng vẽ lên
thiết bị trình bày cũng như là việc xử lý sự kiện. Còn lớp Graphics
cung cấp các công cụ thật sự để vẽ như drawRoundRect() và drawString()<br><br><b>2.Lớp Canvas</b><br>Lớp
Canvas cung cấp một khung vẽ cho phép tạo ra giao diện tùy biến người
dùng. Một số lượng lớn các phương thức trong lớp này được dùng để xử lý
sự kiện, vẽ ảnh và chuỗi lên thiết bị hiển thị. Trong phần này sẽ bao
gồm các mục<br>•Hệ thống tọa độ<br>•Tạo đối tượng Canvas<br>•Vẽ lên trên đối tượng Canvas<br>•Xử lý các sự kiện hành động<br>•Xử lý các sự kiện phím nhấn<br>•Xử lý sự kiện hành động của Game<br>•Xử lý sự kiện con trỏ<br><br>Chúng
ta sẽ tạo ra 2 ứng dụng MIDlet để minh họa khả năng của lớp Canvas. Ứng
dụng đầu tiên là KeyMapping sẽ minh họa làm thế nào để chụp, nhận ra và
xử lý mã phím nhấn và các sự kiện có liên quan đến Game. Ứng dụng còn
lại là ScratchPad sẽ minh họa làm thế nào để thao tác các sự kiện con
trỏ để tạo ra một chương trình vẽ đường thẳng đơn giản<br><br><b>a)Hệ thống trục tọa độ</b><br>Mục
tiêu đầu tiên của chúng ta là làm quen với hệ thống trục tọa độ để làm
việc với thiết bị thể hiện. Hệ thống tọa độ cho lớp Canvas có tâm tọa
độ là điểm trái trên của thiết bị trình bày. Giá trị x tăng dần về phía
phải, giá trị y tăng dần khi đi xuống phía dưới. Khi vẽ độ dày bút vẽ
là một điểm ảnh <br><img src="viewthread_thread,8917_files/clip_image001.gif" border="0"> <br><br>Các phương thức sau đây sẽ giúp xác định chiều rộng và chiều cao của canvas:<br>•	int getWidth(): xác định chiều rộng của canvas<br>•	int getHeight (): xác định chiều cao của canvas<br>Chiều
rộng và chiều cao của Canvas cũng đại diện cho toàn bộ diện tích khung
vẽ có thể trên thiết bị trình bày. Nói cách khác, bạn không thể chỉ
định kích thước cho canvas, mà phần mềm trên một thiết bị MIDP sẽ trả
về diện tích lớn nhất có thể có đối với một thiết bị cho trước<br><br><b>b)Tạo một đối tượng Canvas</b><br>Bước đầu tiên để làm việc với một lớp Canvas là tạo ra một lớp thừa kế từ lớp Canvas<br>class TestCanvas extends Canvas implements CommandListener<br>{<br>  private Command cmdExit;<br>  ...<br><br>   display = Display.getDisplay(this);<br>   cmdExit = new Command("Exit", Command.EXIT, 1);<br>   addCommand(cmdExit);<br>   setCommandListener(this);<br>   ...<br><br>   protected void paint(Graphics g)<br>   {<br>     // Draw onto the canvas<br>     ...<br>   }<br>}<br><br>TestCanvas canvas = new TestCanvas(this);<br><br><b>c)Vẽ trên đối tượng Canvas</b><br>Phương
thức paint của lớp Canvas cho phép bạn vẽ các hình dạng, vẽ ảnh, xuất
chuỗi. Đoạn mã sau minh họa việc xóa màn hình thể hiện bằng một màu
trắng<br>protected void paint(Graphics g)<br>{<br>  // Set background color to white<br>   g.setColor(255, 255, 255);<br><br>   // Fill the entire canvas<br>  g.fillRect(0, 0, getWidth(), getHeight());<br>}<br>Chúng
ta có thể sử dụng một tham chiếu đến một đối tuợng Graphics bên trong
thân phương thức paint() để thực hiện công việc vẽ thực sự<br><br><br><b>d)Sự kiện hành động</b><br>Cũng
như các thành phần Form, List, và TextBox, một Canvas có thể xử lý các
sự Command. Chúng ta có thể xử lý các sự kiện Command trên thành phần
Canvas cung cách như các thành phần khác<br>Đoạn mã sau minh họa việc xử lý sự kiện Command trên thành phần Canvas<br>class TestCanvas extends Canvas implements CommandListener<br>{<br>  private Command cmdExit;<br>  ...<br><br>  display = Display.getDisplay(this);<br>  cmdExit = new Command("Exit", Command.EXIT, 1);<br>  addCommand(cmdExit);<br>  setCommandListener(this);<br>  ...<br><br>  protected void paint(Graphics g)<br>  {<br>    // Draw onto the canvas<br>    ...<br>  }<br><br>  public void commandAction(Command c, Displayable d)<br>  {<br>    if (c == cmdExit)<br>      ...<br>  }<br>}<br><br><b>e)Mã phím</b><br>Trong
trường hợp xử lý các hành động của các phím mềm, một Canvas có thể truy
cập đến 12 mã phím. Những mã này được đảm bảo luôn luôn có trên bất kỳ
các thiết bị MIDP nào<br>KEY_NUM0<br>KEY_NUM1<br>KEY_NUM2<br>KEY_NUM3<br>KEY_NUM4<br>KEY_NUM5<br>KEY_NUM6<br>KEY_NUM7<br>KEY_NUM8<br>KEY_NUM9<br>KEY_STAR<br>KEY_POUND<br>Năm phương thức để xử lý các mã phím là:<br>void keyPressed(int keyCode)<br>void keyReleased(int keyCode)<br>void keyRepeated(int keyCode)<br>boolean hasRepeatEvents()<br>String getKeyName(int keyCode)<br><br><b>f)Các hành động trong xử lý các trò chơi</b><br>MIDP
thường được sử dụng để tạo các trò chơi trên nền Java. Các hằng số sau
đã được định nghĩa để xử lý các sự kiện có liên quan đến trò chơi trong
MIDP<br>UP<br>DOWN<br>LEFT<br>RIGHT<br>FIRE<br>GAME_A<br>GAME_B<br>GAME_C<br>GAME_D<br>Nói
một cách đơn giản thì các giá trị này được ánh xạ thành các phím mũi
tên chỉ hướng của thiết bị, nhưng không phải tất cả các thiết bị di
động đều có những giá trị này. Nếu một thiết bị di động thiếu các phím
mũi tên thì các hành động của trò chơi sẽ được ánh xạ vào các nút bấm,
ví dụ phím trái được ánh xạ vào phím số 2, phím phải được ánh xạ vào
phím số 5, và cứ tiếp tục như thế. Hình dưới đây cho thấy các hành động
của trò chơi sẽ được ánh xạ lên một thiết bị di động dựa trên khả năng
của các phím chỉ hướng<br><img src="viewthread_thread,8917_files/clip_image002.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [09:00:59 07-09-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,46667"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#46667">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2046667%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="47035"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(47035);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=47035"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=47035&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_47035">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>g)Xác định các hành động của trò chơi</b><br>Đoạn
mã sau đây mô tả một cách xác định các hành động của trò chơi để từ đó
gọi các phương thức thích hợp dựa trên các hành động xảy ra<br><div class="divcode"><code class="prettyprint"><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> keyPressed</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> keyCode</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getGameAction</span><span class="pun">(</span><span class="pln">keyCode</span><span class="pun">))</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pun">.</span><span class="pln">FIRE</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; shoot</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pun">.</span><span class="pln">RIGHT</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; goRight</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">...</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Một lựa chọn nữa là có thể tạo một tham chiếu cho mỗi hành động của trò chơi thông qua quá trình khởi tạo giá trị cho các biến<br><div class="divcode"><code class="prettyprint"><span class="com">// Initialization</span><span class="pln"><br>keyFire </span><span class="pun">=</span><span class="pln"> &nbsp;getKeyCode</span><span class="pun">(</span><span class="pln">FIRE</span><span class="pun">);</span><span class="pln"><br>keyRight </span><span class="pun">=</span><span class="pln"> getKeyCode</span><span class="pun">(</span><span class="pln">RIGHT</span><span class="pun">);</span><span class="pln"><br>keyLeft </span><span class="pun">=</span><span class="pln"> getKeyCode</span><span class="pun">(</span><span class="pln">LEFT</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br><br></span><span class="com">// Runtime</span><span class="pln"><br></span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> keyPressed</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> keyCode</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">keyCode </span><span class="pun">==</span><span class="pln"> keyFire</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; shoot</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">keyCode </span><span class="pun">==</span><span class="pln"> keyRight</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; goRight</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Đoạn mã dưới đây minh họa một số chức năng của Canvas và cách xử lý phím<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">KeyMapping</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> &nbsp;display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="com">// The display</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">KeyCodeCanvas</span><span class="pln"> canvas</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Canvas</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">KeyMapping</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; canvas &nbsp;</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">KeyCodeCanvas</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln"> canvas </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> exitMIDlet</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* Class KeyCodeCanvas<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">KeyCodeCanvas</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Exit midlet</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> keyText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Key code text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">KeyCodes</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; * Constructor<br>&nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">KeyCodeCanvas</span><span class="pun">(</span><span class="typ">KeyCodes</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create exit command and listen for events</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; * Paint the text representing the key code<br>&nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Clear the background (to white)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">fillRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">(),</span><span class="pln"> getHeight</span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Set color and draw text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">keyText </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Draw with black pen</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Center text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">drawString</span><span class="pun">(</span><span class="pln">keyText</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">()/</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> getHeight</span><span class="pun">()/</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">TOP </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">HCENTER</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; * Command event handling<br>&nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> d</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">exitMIDlet</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; * Key code event handling<br>&nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> keyPressed</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> keyCode</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; keyText </span><span class="pun">=</span><span class="pln"> getKeyName</span><span class="pun">(</span><span class="pln">keyCode</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; repaint</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>h)Sự kiện con trỏ</b><br>Trong
phần này chúng ta sẽ quản lý sự kiện con trỏ trong một Canvas. Những sự
kiện này được thiết kế để làm thuận tiện cho việc tương tác với các
thiết bị có dạng con trỏ. Một số phương thức được cung cấp nhằm hỗ trợ
cho việc xử lý sự kiện con trỏ:<br><b>boolean hasPointerEvents()<br>boolean hasPointerMotionEvents()<br>void pointerPressed(int x, int y)<br>void pointerReleased(int x, int y)<br>void pointerDragged(int x, int y)</b><br><br>Các
phương thức trên có thể tự giải thích chức năng thông qua tên của chính
mình. Phương thức hasPointerMotionEvents() trả về một giá trị có kiểu
boolean nhằm chỉ rõ răng thiết bị di động có hỗ trợ khái niệm “nhấp
chuột và rê” hay không<br>Đoạn chương trình dưới đây minh họa việc sử dụng các sự kiện con trỏ để thực hiện một chương trình vẽ đơn giản<br><br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ScratchPad</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> &nbsp;display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Display object</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ScratchPadCanvas</span><span class="pln"> canvas</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Canvas</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ScratchPad</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; canvas &nbsp;</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ScratchPadCanvas</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln"> canvas </span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> exitMIDlet</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* Class ScratchPadCanvas<br>*<br>* Pointer event handling<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ScratchPadCanvas</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Exit midlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmClear</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Clear display</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> startx </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="com">// Where pointer was clicked</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; starty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentx </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="com">// Current location</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currenty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ScratchPad</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> clearDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Constructor<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ScratchPadCanvas</span><span class="pun">(</span><span class="typ">ScratchPad</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create exit command and listen for events</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmClear </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Clear"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmClear</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Draw line based on start and ending points<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Clear the background (to white)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">clearDisplay</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">fillRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">(),</span><span class="pln"> getHeight</span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; clearDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; startx </span><span class="pun">=</span><span class="pln"> currentx </span><span class="pun">=</span><span class="pln"> starty </span><span class="pun">=</span><span class="pln"> currenty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Draw with black pen</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Draw line</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">drawLine</span><span class="pun">(</span><span class="pln">startx</span><span class="pun">,</span><span class="pln"> starty</span><span class="pun">,</span><span class="pln"> currentx</span><span class="pun">,</span><span class="pln"> currenty</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// New starting point is the current position</span><span class="pln"><br>&nbsp; &nbsp; startx </span><span class="pun">=</span><span class="pln"> currentx</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; starty </span><span class="pun">=</span><span class="pln"> currenty</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Command event handling<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> d</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">exitMIDlet</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmClear</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; clearDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; repaint</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Pointer pressed<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pointerPressed</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; startx </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; starty </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Pointer moved<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pointerDragged</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; currentx </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; currenty </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; repaint</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [13:57:47 10-09-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,47035"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#47035">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2047035%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="48303"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gogoale84" class="memberName">gogoale84</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        Viet Nam<br>
        
              
        Tham gia: <b>18-09-2005</b><br>
        
             
        Tổng số bài đã viết: <b>9</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(48303);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48303"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48303&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_48303">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Bạn ơi cho mình hỏi anh Khánh là ai zậy. Mail của anh ấy là ?<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [20:43:42 24-09-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,48303"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gogoale84"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=gogoale84"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#48303">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2048303%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="48589"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=seacob79" class="memberName">seacob79</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>15-03-2005</b><br>
        
             
        Tổng số bài đã viết: <b>3</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(48589);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48589"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48589&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_48589">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Cảm ơn MinhKiller rất nhiều.<br><br>Đúng lúc mình đang đi tìm tài liệu về lập trình cho ĐT thì đọc được bài của bạn.<br><br>1 tài liệu bằng tiếng Việt hoàn chỉnh và rất hay đối với những Beginer như mình.<br><br>Thanks<br>どうもありがとうございます。<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [11:56:39 27-09-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,48589"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=seacob79"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=seacob79"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#48589">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2048589%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="48951"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=longxe" class="memberName">longxe</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>17-05-2005</b><br>
        
             
        Tổng số bài đã viết: <b>7</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(48951);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48951"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=48951&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_48951">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      bài viết thật xúc tích, mình ghé nhiều thread J2ME rồi tìm mãi mới được cái mình cần, thanks nhiều bro <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0">  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0">  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [16:55:28 30-09-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,48951"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=longxe"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=longxe"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:baolong_t@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="baolong_t@yahoo.com" title="baolong_t@yahoo.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#48951">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2048951%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="49384"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=naricheng" class="memberName">naricheng</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>21-09-2005</b><br>
        
             
        Tổng số bài đã viết: <b>2</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(49384);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=49384"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=49384&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/applause.gif" alt="applause" title="applause" border="0"> 
            

            
            <span id="posttopic_49384">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Bài viết của bạn MinhKiller rất hay,<img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0"> <br>Do
mình mới bắt đầu học Java nên vẫn không hiểu về cách sử dụng hai đối
tượng form và command như thế nào !Mong bạn chỉ dẫn lại <img src="viewthread_thread,8917_files/confused.gif" alt="confused" title="confused" border="0">  <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [10:45:20 06-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,49384"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=naricheng"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=naricheng"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:tatungcheng@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="tatungcheng@yahoo.com" title="tatungcheng@yahoo.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#49384">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2049384%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="49392"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=step2" class="memberName">step2</a>
        <br>
        Thành viên ban quản trị JavaVietnam
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>25-04-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1301</b><br>
        

        
          Trạng thái:
          
            
              <font color="#008000">Trực tuyến</font>
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(49392);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=49392"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=49392&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_49392">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <div class="quote">Bạn ơi cho mình hỏi anh Khánh là ai zậy. Mail của anh ấy là ?</div><br>Xin chào, mình là anh Khánh đây <img src="viewthread_thread,8917_files/smile.gif" alt="smile" title="smile" border="0"> <br>Cám ơn Minh về bài viết rất tốt. Nếu muốn tìm hiểu thêm về JavaME (tên gọi mới của J2ME) các bạn có thể vào:<br>- <a href="http://www23.brinkster.com/lenqkhanh/%5Fbackup/resources/index.htm" target="_blank">Trang tài nguyên của Step2</a> <br>- <a href="http://www.benhui.net/" target="_blank">http://www.benhui.net</a><br>- <a href="http://java.sun.com/j2me" target="_blank">http://java.sun.com/j2me</a><br>- <a href="http://www.forum.nokia.com/" target="_blank">http://www.forum.nokia.com</a><br>- <a href="http://www-128.ibm.com/developerworks/views/wireless/libraryview.jsp?type_by=Tutorials" target="_blank">IBM Developerworks</a> <br>Chúc thành công :)<br>
    
      
      
            ----------------------------------------<br>
            My blog: <a href="http://blog.khanhlnq.com/" target="_blank">http://blog.khanhlnq.com</a><br>JVNMobileGIS project: <a href="http://code.google.com/p/jvnmobilegis/" target="_blank">http://code.google.com/p/jvnmobilegis/</a><br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [11:28:07 06-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,49392"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=step2"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=step2"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://blog.khanhlnq.com/"><img src="viewthread_thread,8917_files/www.gif" alt="http://blog.khanhlnq.com" title="http://blog.khanhlnq.com" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#49392">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2049392%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="50128"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(50128);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50128"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50128&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_50128">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Hi các bạn, trong thời gian qua mình khá bận với công việc ở công ty
nên không thể post bài được. Hôm nay mình xin được post phần tiếp theo<br><br><b>3.Lớp Graphics </b> <br>Chúng ta sử dụng đối tượng Graphics để vẽ lên một Canvas. <br><b>a)Hỗ trợ màu</b><br>Một
ứng dụng MIDP chỉ có một đối tượng Display. Đối tượng này đuợc dùng để
lấy thông tin của màn hình hiển thị hiện tại, ví dụ như số màu hỗ trợ
và các phương thức để yêu cầu các đối tượng được hiển thị. Đối tượng
Display đơn giản là một bộ quản lý sự hiển thị của thiết bị và điều
khiển những gì sẽ được hiển thị ra trên thiết bị. <br><br><i><b>boolean isColor()<br>int numColors()</b></i><br><br>Phương
thức đầu tiên cho biết thiết bị có hỗ trợ hiển thị màu hay không. Nếu
có thì phương thức thứ 2 sẽ được gọi để xác định số màu được hỗ trợ.
Các phương thức tiếp theo dưới đây để lấy về màu và thiết lập màu ưa
thích của bạn.<br><br><i><b>void setColor(int RGB)<br>void setColor(int red, int green, int blue)<br>int getColor()<br>int getBlueComponent()<br>int getGreenComponent()<br>int getRedComponent()<br>void setGrayScale(int value)<br>int getGrayScale()</b></i><br><br>Chú
ý bạn có thể xác định màu bằng 2 cách. Cách 1: bạn có thể xác định một
số nguyên đại diện cho 3 giá trị của màu là đỏ, xanh lá cây và xanh
dương với 8 bit cho mỗi màu. Hay cách 2 là bạn có thể dùng từng tham số
riêng biệt để xác định mỗi màu. Khi sử dụng một giá trị để lưu giữ màu,
thì màu đỏ sẽ chiếm 8 bit đầu kể từ bên trái, tiếp theo là 8 bit dành
cho màu xanh lá cây, sau cùng là màu xanh dương.<br>Dưới đây sẽ hướng dẫn bạn cách thiết lập màu chỉ sử dụng một số nguyên:<br>int red   = 0,<br>    green = 128,<br>    blue  = 255;<br><br>...<br><br>g.setColor((red &lt;&lt; 16) | (green &lt;&lt; 8) | blue);<br>Và bạn có thể xác định màu bằng cách thiết lập giá trị cho 3 tham số:<br>g.setColor(red, green, blue);<br><br><b>b)Loại nét vẽ</b><br>Bạn
có thể chọn nét khi vẽ đường thẳng, cung và hình chữ nhật trên thiết bị
hiển thị. Dưới đây là các phương thức dùng để thiết lập loại nét vẽ<br><br><i><b>int getStrokeStyle()<br>void setStrokeStyle(int style)</b></i><br><br>Hai kiểu nét vẽ được định nghĩa trong lớp Graphics là nét chấm, và nét liền<br>g.setStrokeStyle(Graphics.DOTTED);<br>hay<br>g.setStrokeStyle(Graphics.SOLID);<br><br><b>c)Vẽ cung</b><br>Khi
vẽ một cung, bạn có thể vẽ nó chỉ có đường bao xung quanh hay yêu cầu
nó được tô bên trong. Bạn có thể bắt đầu bằng cách chỉ định chiều bao
quanh bên ngoài của một hình hộp chữ nhật tưởng tượng. Góc bắt đầu xác
định vị trí bắt đầu vẽ khung, với giá trị 0 được xác định tại thời điểm
3 giờ. Giá trị dương tính theo ngược chiều kim đồng hồ. Góc của cung
chỉ ra rằng có bao nhiêu độ được vẽ tính từ góc ban đầu, đi theo ngược
chiều kim đồng hồ. Để hiểu rõ những phần này chúng ta hãy cùng xem1 ví
dụ sau:<br>g.drawArc(10, 10, 100, 100, 0, 150);<br>Đoạn mã trên yêu cầu
vẽ một cung, cung này được bao bởi một hình chữ nhật có tọa độ điểm
trái trên là (10, 10), chiều rộng và chiều dài là 100, góc bắt đầu là
0, góc kết thúc là 150<br><br><img src="viewthread_thread,8917_files/clip_image003_004.jpg" border="0"> <br><br>Một số các phương thức dùng để vẽ cung<br>void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)<br>void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle)<br>Dưới đây là đoạn mã minh họa viêc sử dụng các hàm trên để vẽ một cung<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DrawShapes</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> &nbsp;display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// The display</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ShapesCanvas</span><span class="pln"> canvas</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Canvas</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DrawShapes</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; canvas &nbsp;</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ShapesCanvas</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln"> canvas </span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> exitMIDlet</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* Class ShapesCanvas<br>*<br>* Draw arcs<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ShapesCanvas</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Exit midlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DrawShapes</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ShapesCanvas</span><span class="pun">(</span><span class="typ">DrawShapes</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create exit command and listen for events</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Draw shapes<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Clear background to white</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">fillRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">(),</span><span class="pln"> getHeight</span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Black pen</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Start at 3 o'clock and rotate 150 degrees</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">drawArc</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">150</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Fill the arc</span><span class="pln"><br></span><span class="com">// &nbsp; &nbsp;g.fillArc(10, 10, 100, 100, 0, 150);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Start at 12 o'clock and rotate 150 degrees</span><span class="pln"><br></span><span class="com">// &nbsp; &nbsp;g.drawArc(10, 10, 100, 100, 90, 150);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Change the size of the bounding box</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Start at 12 o'clock and rotate 150 degrees</span><span class="pln"><br></span><span class="com">// &nbsp; &nbsp;g.drawArc(15, 45, 30, 70, 90, 150);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> d</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">exitMIDlet</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>d)Vẽ hình chữ nhật</b><br>Cũng
giống như cung thì hình chữ nhật có thể chỉ được vẽ viền bao quanh hoặc
tô bên trong. Bên cạnh đó bạn có thể vẽ hình chữ nhật đó có 4 góc là
tròn hoặc là vuông. Dưới đây là một số phương thức để vẽ hình chữ nhật:<br><br><b>void drawRect(int x, int y, int width, int height)<br>void drawRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight)<br>void fillRect(int x, int y, int width, int height)<br>void fillRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight)</b><br><br>Khi
vẽ hình chữ nhật có 4 góc là tròn thì bạn phải xác định đường kính theo
chiều ngang(arcWidth) và đường kính theo chiều dọc(arcHeight). Những
tham số này được định nghĩa độ sắc nét của cung theo mỗi chiều. Giá trị
càng lớn thể hiện một cung tăng dần, ngược lại là một đường cong hẹp<br><br><b>e)Font chữ</b><br>Phần
sau đây cũng quan trọng không kém là cách sử dụng font chữ được hỗ trợ
bởi giao diện cấp thấp của ứng dụng MIDP. Sau đây là một số các phương
thức dựng của lớp Font<br><br><i><b>Font getFont(int face, int style, int size)<br>Font getFont(int fontSpecifier)<br>Font getDefaultFont()</b></i><br><br>Một số thuộc tính của lớp Font <br><b>FACE_SYSTEM<br>FACE_MONOSPACE<br>FACE_PROPORTIONAL<br><br>STYLE_PLAIN<br>STYLE_BOLD<br>STYLE_ITALIC<br>STYLE_UNDERLINED<br><br>SIZE_SMALL<br>SIZE_MEDIUM<br>SIZE_LARGE</b><br>Các tham số kiểu dáng có thể được kết hợp thông qua toán tử hay. Ví dụ<br>Font font = Font.getFont(Font.FACE_PROPORTIONAL, <br>Font.STYLE_BOLD | Font.STYLE_ITALIC, Font.SIZE_MEDIUM);<br>Sau khi bạn có một tham chiếu đến một đối tượng Font, bạn có thể truy vấn nó để xác định thông tin của các thuộc tich của nó. <br><br><i><b>int getFace()<br>int getStyle()<br>int getSize()<br>boolean isPlain()<br>boolean isBold()<br>boolean isItalic()<br>boolean isUnderlined()</b></i><br><br>Kích
thước của các font chữ được xác định bởi chiều cao của font chữ, bề dài
tính bằng điểm ảnh của một chuỗi ký tự trong một font xác định. Một số
các phương thức sau hỗ trợ khi tương tác với một đối tương font<br>int getHeight()<br>int getBaselinePosition()<br>int charWidth(char ch)<br>int charsWidth(char[] ch, int offset, int length)<br>int stringWidth(String str)<br>int substringWidth(String str, int offset, int length)<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [23:03:01 15-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,50128"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#50128">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2050128%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="50130"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(50130);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50130"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50130&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_50130">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>f)Điểm neo</b><br>Để
xác định tọa độ x, y của chuỗi ký tự được hiển thị, thì điểm neo cho
phép bạn chỉ ra vị trí muốn đặt tọa độ x, y trên hình chữ nhật bao
quanh chuỗi ký tự<br><br><img src="viewthread_thread,8917_files/clip_image004.jpg" border="0"> <br><br>Có
6 điểm neo được định nghĩa trước, 3 theo chiều dọc và 3 theo chiều
thẳng đứng, Khi xác định điểm neo để vẽ chuỗi (các điểm neo thường được
sử dụng thành từng cặp), bạn phải chọn một điểm hoành độ và một điểm
tung độ. Các điểm neo được định nghĩa như ở dưới đây<br><br>Chiều ngang<br><i><b>LEFT (Bên trái)<br>HCENTER (Chính giữa của chiều ngang)<br>RIGHT (Bên phải)</b></i><br><br>Chiều dọc<br><i><b>TOP (Ở trên)<br>BASELINE (Đường thẳng cơ sở)<br>BOTTOM (Ở dưới)</b></i><br><br>Khi sử dụng điểm neo thì bạn cần phải chỉ ra tọa độ x, y của hình chữ nhật bao quanh. Ví dụ<br><div class="divcode"><code class="prettyprint"><span class="pln">g</span><span class="pun">.</span><span class="pln">drawString</span><span class="pun">(</span><span class="str">"developerWorks"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">TOP </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">LEFT</span><span class="pun">);</span></code></div><br><br>Hình dưới đây mô tả kết quả của hàm trên<br><br><img src="viewthread_thread,8917_files/clip_image005_003.jpg" border="0"> <br><br>Bằng
cách thay đổi điểm neo, chúng ta có thể thay đổi vị trí hiển thị của
chuỗi ký tự trên thiết bị di động. Ví dụ tiếp theo chúng ta sẽ minh họa
tiếp khi thay đổi điểm neo thì vị trí của chuỗi ký tự cũng thay đổi
theo:<br><br><img src="viewthread_thread,8917_files/clip_image006_002.jpg" border="0"> <br><br><b>g)Vẽ các chuỗi ký tự</b><br>Sau khi tìm hiểu về font và các điểm neo, bạn đã có thể vẽ chuỗi ký tự ra màn hình thông qua một số các phương thức sau:<br><br><i><b>void drawChar(char character, int x, int y, int anchor)<br>void drawChars(char[] data, int offset, int length, int x, int y, int anchor)<br>void drawString(String str, int x, int y, int anchor)<br>void drawSubstring(String str, int offset, int len, int x, int y, int anchor)</b></i><br>Ví dụ:<br><div class="divcode"><code class="prettyprint"><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// Get center of display</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> xcenter </span><span class="pun">=</span><span class="pln"> getWidth</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; ycenter </span><span class="pun">=</span><span class="pln"> getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Choose a font</span><span class="pln"><br>&nbsp; g</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="typ">Font</span><span class="pun">.</span><span class="pln">getFont</span><span class="pun">(</span><span class="typ">Font</span><span class="pun">.</span><span class="pln">FACE_SYSTEM</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">STYLE_ITALICS</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">SIZE_MEDIUM</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Specify the center of the text (bounding box) using the anchor point</span><span class="pln"><br>&nbsp; g</span><span class="pun">.</span><span class="pln">drawString</span><span class="pun">(</span><span class="str">"developerWorks"</span><span class="pun">,</span><span class="pln"> xcenter</span><span class="pun">,</span><span class="pln"> ycenter</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">BASELINE </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">HCENTER</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Tiếp theo là ví dụ minh họa việc sử dung font và xuất chuỗi ra thiểt bị hiển thị<br><br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FontViewer</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> &nbsp;display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// The display</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">PrefsForm</span><span class="pln"> fmPrefs</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Form to choose font prefs</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">FontCanvas</span><span class="pln"> cvFont</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Canvas to display text (in preferred font)</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">FontViewer</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cvFont </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">FontCanvas</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; fmPrefs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PrefsForm</span><span class="pun">(</span><span class="str">"Preferences"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; showCanvas</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> showCanvas</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">cvFont</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> exitMIDlet</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* FontCanvas.java<br>*<br>* Draw text using specified Font<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FontCanvas</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> face</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Font face</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; style</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// &nbsp; &nbsp; &nbsp;style</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// &nbsp; &nbsp; &nbsp;size</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> </span><span class="str">"developerWorks"</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Text to display in preferred font</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Exit midlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmPrefs</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Call the preferences form</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">FontViewer</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Reference to the main midlet</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">FontCanvas</span><span class="pun">(</span><span class="typ">FontViewer</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create commands &nbsp;and listen for events</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmPrefs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Prefs"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmPrefs</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Draw text<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Clear the display</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// White pen</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">fillRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">(),</span><span class="pln"> getHeight</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Black pen</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Use the user selected font preferences</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="typ">Font</span><span class="pun">.</span><span class="pln">getFont</span><span class="pun">(</span><span class="pln">face</span><span class="pun">,</span><span class="pln"> style</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Draw text at center of display</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">drawString</span><span class="pun">(</span><span class="pln">text</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">BASELINE </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">HCENTER</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setFace</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> face</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">face </span><span class="pun">=</span><span class="pln"> face</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setStyle</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> style</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">style </span><span class="pun">=</span><span class="pln"> style</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setSize</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> size</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">size </span><span class="pun">=</span><span class="pln"> size</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setText</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> text</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">text </span><span class="pun">=</span><span class="pln"> text</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getFace</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> face</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getStyle</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> style</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getSize</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> size</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> d</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">exitMIDlet</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmPrefs</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">midlet</span><span class="pun">.</span><span class="pln">fmPrefs</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* PrefsForm.java<br>*<br>* Form that allows user to select font preferences<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PrefsForm</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"><br></span><span class="typ">CommandListener</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ItemStateListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">FontViewer</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="com">// Main midlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmBack</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Back to canvas</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmSave</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Save new font prefs</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pln"> cgFace</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="com">// Font face</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cgStyle</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// style</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cgSize</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// size</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">TextField</span><span class="pln"> tfText</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Text string to display on canvas</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// (with the requested font prefs)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> face </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Values for font attributes</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; style </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// that are obtained from the choicegroups</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Value for text string from the textfield</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">PrefsForm</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> title</span><span class="pun">,</span><span class="pln"> </span><span class="typ">FontViewer</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Call the form constructor</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">(</span><span class="pln">title</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Save reference to MIDlet so we can</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// access the display manager class</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Commands</span><span class="pln"><br>&nbsp; &nbsp; cmSave </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Save"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cmBack </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Back"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">BACK</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Exclusive choice group for font face</span><span class="pln"><br>&nbsp; &nbsp; cgFace </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pun">(</span><span class="str">"Face Options"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">EXCLUSIVE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgFace</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"System"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgFace</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Monospace"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgFace</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Proportional"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Multiple choice group for font style</span><span class="pln"><br>&nbsp; &nbsp; cgStyle </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pun">(</span><span class="str">"Style Options"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">MULTIPLE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgStyle</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Plain"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgStyle</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Bold"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgStyle</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Italic"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgStyle</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Underlined"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Exclusive choice group for font size</span><span class="pln"><br>&nbsp; &nbsp; cgSize </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ChoiceGroup</span><span class="pun">(</span><span class="str">"Size Options"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Choice</span><span class="pun">.</span><span class="pln">EXCLUSIVE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSize</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Small"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSize</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Medium"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; cgSize</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="str">"Large"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Textfield for text to display on canvas</span><span class="pln"><br>&nbsp; &nbsp; tfText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">(</span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">"developerWorks"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">ANY</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create form contents and listen for events</span><span class="pln"><br>&nbsp; &nbsp; append</span><span class="pun">(</span><span class="pln">cgFace</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; append</span><span class="pun">(</span><span class="pln">cgStyle</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; append</span><span class="pun">(</span><span class="pln">cgSize</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; append</span><span class="pun">(</span><span class="pln">tfText</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmSave</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmBack</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Command event handling<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmSave</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Set the values in canvas class to those selected here</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">cvFont</span><span class="pun">.</span><span class="pln">setFace</span><span class="pun">(</span><span class="pln">face</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">cvFont</span><span class="pun">.</span><span class="pln">setStyle</span><span class="pun">(</span><span class="pln">style</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">cvFont</span><span class="pun">.</span><span class="pln">setSize</span><span class="pun">(</span><span class="pln">size</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Make sure we aren't passing a null value</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">cvFont</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="pln">tfText</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> tfText</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">"developerWorks"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// No specific check needed for "Back" command</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Always return to the canvas at this point</span><span class="pln"><br>&nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">showCanvas</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> cgFace</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cgFace</span><span class="pun">.</span><span class="pln">getSelectedIndex</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; face </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">FACE_SYSTEM</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; face </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">FACE_MONOSPACE</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; face </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">FACE_PROPORTIONAL</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> cgStyle</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">[</span><span class="lit">4</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; cgStyle</span><span class="pun">.</span><span class="pln">getSelectedFlags</span><span class="pun">(</span><span class="pln">b</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; style </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// STYLE_PLAIN has a value of 0</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// &nbsp; No need to check for b[0]</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// If bold selected</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; style </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">STYLE_BOLD</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// If italic selected</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">[</span><span class="lit">2</span><span class="pun">])</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; style </span><span class="pun">|=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">STYLE_ITALIC</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// If underlined selected</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">[</span><span class="lit">3</span><span class="pun">])</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; style </span><span class="pun">|=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">STYLE_UNDERLINED</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> cgSize</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cgSize</span><span class="pun">.</span><span class="pln">getSelectedIndex</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">SIZE_SMALL</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">SIZE_MEDIUM</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; size </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">SIZE_LARGE</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> tfText</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; text </span><span class="pun">=</span><span class="pln"> tfText</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>h)Vẽ ảnh</b><br>Lớp Graphics cung cấp 1 phương thức dùng để vẽ ảnh:<br><br><i><b>drawImage(Image img, int x, int y, int anchor)</b></i><br><br>Chúng
ta cũng áp dụng từng bước khi vẽ ảnh cũng giống như khi xuất chuỗi ra
màn hình. Đối với cả 2 thì chúng ta đều phải bắt đầu bằng việc thiết
lập tọa độ x, y cũng như điểm neo. Danh sách các điểm neo cho việc hiển
thị ảnh cũng không khác mấy so với việc xuất chuỗi, tuy nhiên không
giống với việc xuất chuỗi thì một bức ảnh có một điểm trung tâm. Ví thế
VCENTER được thay thế cho gia trị BASELINE khi làm việc với ảnh<br><br>Chiều ngang<br><i><b>LEFT (Bên trái)<br>HCENTER (Điểm chính giữa theo chiều ngang)<br>RIGHT (Bên phải)</b></i><br><br>Chiều dọc<br><i><b>TOP (Điểm trên)<br>VCENTER (Điểm chính giữa theo chiều dọc)<br>BOTTOM (Bên dưới)</b></i><br><br><img src="viewthread_thread,8917_files/clip_image007_003.jpg" border="0"> <br><br>Trong
các phần trước, chúng ta đã tạo ra các ứng dụng MIDP cho việc trình bày
một tấm ảnh đọc từ một nguồn tài nguyên là một tập tin. Loại ảnh này
không cho phép thay đổi, và vì vậy còn được biết với tên là “ảnh không
thể thay đổi”. Đối với ví dụ sau đây, chúng ta sẽ tạo ra một tấm ảnh từ
những đống tạp nham, chúng ta sẽ cấp phát bộ nhớ cho tấm ảnh, để lấy
tham chiếu đến một đối tượng Graphics, và chúng ta sẽ tự vẽ nội dung
tấm ảnh. Loại ảnh này còn được biết với một cái tên là “ảnh có thể biến
đổi được”<br><br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DrawImage</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> &nbsp;display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// The display</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ImageCanvas</span><span class="pln"> canvas</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// Canvas</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DrawImage</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; canvas &nbsp;</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ImageCanvas</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln"> canvas </span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> exitMIDlet</span><span class="pun">()</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">/*--------------------------------------------------<br>* Class ImageCanvas<br>*<br>* Draw mutable image<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ImageCanvas</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Canvas</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp;</span><span class="com">// Exit midlet</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DrawImage</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Image</span><span class="pln"> im </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> </span><span class="str">"developerWorks"</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ImageCanvas</span><span class="pun">(</span><span class="typ">DrawImage</span><span class="pln"> midlet</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">midlet </span><span class="pun">=</span><span class="pln"> midlet</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Create exit command and listen for events</span><span class="pln"><br>&nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Create mutable image</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; im </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Get graphics object to draw onto the image</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">Graphics</span><span class="pln"> graphics </span><span class="pun">=</span><span class="pln"> im</span><span class="pun">.</span><span class="pln">getGraphics</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Specify a font face, style and size</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">Font</span><span class="pln"> font </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">getFont</span><span class="pun">(</span><span class="typ">Font</span><span class="pun">.</span><span class="pln">FACE_SYSTEM</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">STYLE_PLAIN</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Font</span><span class="pun">.</span><span class="pln">SIZE_MEDIUM</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; graphics</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="pln">font</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Draw a filled (blue) rectangle, with rounded corners</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; graphics</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; graphics</span><span class="pun">.</span><span class="pln">fillRoundRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> im</span><span class="pun">.</span><span class="pln">getWidth</span><span class="pun">()-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> im</span><span class="pun">.</span><span class="pln">getHeight</span><span class="pun">()-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Center text horizontally in the image. Draw text in white</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; graphics</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; graphics</span><span class="pun">.</span><span class="pln">drawString</span><span class="pun">(</span><span class="pln">message</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">(</span><span class="pln">im</span><span class="pun">.</span><span class="pln">getWidth</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">font</span><span class="pun">.</span><span class="pln">stringWidth</span><span class="pun">(</span><span class="pln">message</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">),</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">(</span><span class="pln">im</span><span class="pun">.</span><span class="pln">getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">font</span><span class="pun">.</span><span class="pln">getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">TOP </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">LEFT</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Error during image creation"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; * Draw mutable image<br>&nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> paint</span><span class="pun">(</span><span class="typ">Graphics</span><span class="pln"> g</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// Clear the display</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">setColor</span><span class="pun">(</span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">fillRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">(),</span><span class="pln"> getHeight</span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Center the image on the display</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">im </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; g</span><span class="pun">.</span><span class="pln">drawImage</span><span class="pun">(</span><span class="pln">im</span><span class="pun">,</span><span class="pln"> getWidth</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">VCENTER </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Graphics</span><span class="pun">.</span><span class="pln">HCENTER</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> d</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; midlet</span><span class="pun">.</span><span class="pln">exitMIDlet</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [23:10:40 15-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,50130"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#50130">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2050130%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="50686"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/female.gif" alt="Nữ" title="Nữ" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=jolee" class="memberName">jolee</a>
        <br>
        Thành viên đang quan tâm đến Java
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>02-04-2005</b><br>
        
             
        Tổng số bài đã viết: <b>30</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(50686);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50686"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50686&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/smile.gif" alt="smile" title="smile" border="0"> 
            

            
            <span id="posttopic_50686">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <div class="quote">Bạn
có tài liệu nào về J2ME không? Nếu có, bạn chỉ cho mình địa chỉ trang
web đó nghe, hay là có cuốn sách nào thì chop mình biết vói. cảm ơn
trước!!!!!!!!!!!!!!!!</div><br><br>Ngoài ebooks và những bài viết trên mạng, mình thấy quyển <b>JAVA tập 3</b>
của Phương Lan và Trần Tiến Dũng (NXB Lao Động Xã Hội) cũng được đó...
nhưng giá hơi mắc... khoảng 80 nghìn... Quyển sách này hơi cũ và cũng
có nhiều ý kiến khen chê khác nhau... nhưng theo mình thì nó khá hữu
ích cho người mới học đó...<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [09:33:24 21-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,50686"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=jolee"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=jolee"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#50686">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2050686%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="50943"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hard" class="memberName">hard</a>
        <br>
        Thành viên mới
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/drummer.gif" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>23-05-2005</b><br>
        
             
        Tổng số bài đã viết: <b>16</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(50943);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50943"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=50943&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_50943">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
không biết là cần phải có bao nhiêu thời gian để bắt đầu từ đầu đi cho
tới khi có thể viết được một cái game mà có đủ tự tin để tham gia vào
cuộc thi viết game cho di động.<br> Ai làm ơn giúp em những vấn đề trên với có được không em xin cảm ơn trước<br>
    
      
      
            ----------------------------------------<br>
            =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-<br><img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"> Cố gắng hết sức và kì tích sẽ đến <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0">        =-<br>=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [19:25:34 24-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,50943"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hard"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hard"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:kid_17vn@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="kid_17vn@yahoo.com" title="kid_17vn@yahoo.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#50943">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2050943%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="51186"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=tai1217" class="memberName">tai1217</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>27-10-2005</b><br>
        
             
        Tổng số bài đã viết: <b>1</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(51186);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51186"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51186&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_51186">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      bai huong dan that hay .Anh co du dinh huong dan cac bai khac nua <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0">  hay khong  <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0">  <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0">  <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0">  <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [15:59:28 27-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,51186"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=tai1217"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=tai1217"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:namsontrungtai@yahoo.com.au"><img src="viewthread_thread,8917_files/button_email.gif" alt="namsontrungtai@yahoo.com.au" title="namsontrungtai@yahoo.com.au" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#51186">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2051186%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="51354"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(51354);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51354"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51354&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_51354">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>i)Một số các phương thức khác của lớp Graphics</b><br>clip()
và translate() là 2 phương thức của lớp Graphics. Một vùng hiển thị
được cắt xén được định nghĩa là khu vực hiển thị của thiết bị di động,
vùng này sẽ được cập nhật trong suốt thao tác vẽ lại. Dưới đây là một
số phương thức hỗ trợ cho việc xén một vùng hiển thị<br><b>void setClip(int x, int y, int width, int height)<br>void clipRect(int x, int y, int width, int height)<br>int getClipX()<br>int getClipY()<br>int getClipWidth()<br>int getClipHeight()</b><br>translate()
là một phương thức được sử dụng có liên quan đến hệ thống trục tọa độ.
Chúng ta có thể tịnh tiến hệ trục tọa độ đến một điểm x, y khác. Một số
phương thức hỗ trợ cho việc tịnh tiến hệ trục tọa độ<br><b>void translate(int x, int y)<br>int getTranslateX()<br>int getTranslateY()</b><br><br><br><b>4.Các hàm API dùng để lập trình Game</b><br>Các
hàm API dành để lập trình Game được giới thiệu trong bản MIDP 2.0,
những hàm này là phương tiện để phát triển game với nhiều phần đồ họa.
Các hàm API dành cho Game là một phần của gói <i>javax.microedition.lcdui.game</i><br>Lớp <b>GameCanvas</b>
gần như giống lớp Canvas, GameCanvas cung cấp nền tảng để tạo giao diện
người dùng, nhưng trong trường hợp này chỉ cho việc tạo games.
GameCanvas chứa một vùng nhớ tách rời với vùng nhớ màn hình cho mỗi thể
hiện và cung cấp các phương tiện tích hợp để xác định tình trạng các
phím trò chơi. Dưới đây là lớp GameCanvas:<br>public abstract class GameCanvas extends Canvas<br>Layer
là một lớp trừu tượng được sử dụng để thể hiện một đối tượng trực quan
trong một trò chơi. Sprite là một lớp con của lớp Layer, lớp này được
cung cấp để thể hiện cho một bức ảnh. Ngoài ra Sprite còn có thể bao
gồm một dãy các khung ảnh. Để thực hiện khả năng chuyển động, các khung
ảnh được thể hiện theo một thứ tự để tạo hiệu ứng di chuyển ảnh. Các
phép biến đổi như là phép quay và phép lật ảnh có thể được áp dụng đối
với một đối tượng Sprite. Dưới đây là mô tả cho 2 lớp Layer và Sprite<br><i><b>public abstract class Layer extends Object<br>public class Sprite extends Layer</b></i><br>TiledLayer
là một lớp tương tự như một bảng tính, với mỗi ô đại diện cho một tấm
ảnh. Một TiledLayer đơn giản được dùng để thể hiện các phần tử trực
quan có kích thước lớn, như là nền của một trò chơi.<br><i><b>public class TiledLayer extends Layer</b></i><br>Để
đơn giản xử lý cho việc vẽ nhiều lớp trong một trò chơi, các hàm API
dành cho việc lập trình trò chơi lại có thê lớp LayoutManager. Lớp
LayoutManager này chứa một danh sách có thứ tự các đối tượng Layers và
xác định khu vực nào cần được vẽ lại và thể hiện theo đúng trật tự. Lớp
LayoutManager được thể hiện như dưới đây:<br><i><b>public class LayerManager extends Object</b></i><br><br><b>IV.Xử lý sự kiện</b><br><b>1.Đối tượng Command </b> <br>Khi
một đối tượng xảy ra trên thiết bị di động, một đối tượng Command giữ
thông tin về sự kiện đó. Thông tin này bao gồm loại hành động thực thi,
nhãn của mệnh lệnh và độ ưu tiên của chính nó. Trong J2ME, các hành
động nói chung được thể hiện dưới dạng các nút trên thiết bị<br>Nếu có quá nhiều hành động được hiển thị trên thiết bị, thiết bị sẽ tạo ra một thực đơn để chứa các hành động<br>Chỉ có các thành phần MIDP sau đây mới có thể chứa các đối tượng Command là: Form, TextBox, List và Canvas. <br>Các bước cơ bản để xử lý các sự kiện với một đối tượng Command:<br>•Tạo một đối tượng Command<br>•Đặt đối tượng Command lên trên một đối tượng Form, TextBox, List, hay Canvas<br>•Tạo một bộ lắng nghe<br>Khi
có một sự kiện xảy ra, bộ lắng nghe sẽ phát sinh một lời gọi đến phương
thức commandAction(). Trong thân phương thức này bạn có thể xác định
đối tượng nào phát sinh ra sự kiện và tạo ra các xử lý tương ứng<br>Dưới đây là đoạn mã minh họa việc tạo ra sự kiện Command và xử lý sự kiện:<br><div class="divcode"><code class="prettyprint"><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Form</span><span class="pln"><br></span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br>fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Core J2ME"</span><span class="pun">);</span><span class="pln"> &nbsp; </span><span class="com">// Create Form and give it a title</span><span class="pln"><br><br></span><span class="com">// Create Command object, with label, type and priority</span><span class="pln"><br>cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br>fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Add Command to Form</span><span class="pln"><br>fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> &nbsp;</span><span class="com">// Listen for Form events</span><span class="pln"><br><br></span><span class="pun">...</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;destroyApp</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><br><b>2.Đối tượng Item</b> <br>Ngoài
việc xử lý sự kiện bằng đối tượng Command ta có thể xử lý sự kiện bằng
đối tượng Item. Nhiều đối tượng trong MIDP đã được định nghĩa trước cho
việc xử lý các sự kiện cụ thể nào đó. Ví dụ đối tượng DateField cho
phép người sử dụng chọn lựa ngày và giờ trên màn hình, đối tượng
TextField cho phép người dùng nhập vào một chuỗi các ký tự, số và các
ký tự đặc biệt<br>Tương tự như việc xử lý sự kiện bằng đối tượng
Command, thì khi có một thay đổi xảy ra đối với bất kỳ thành phần Item
nào thì phương thức itemStateChanged() sẽ được gọi. Và chúng ta sẽ thực
hiện các xử lý bên trong phương thức này <br>Dưới đây là đoạn mã minh họa việc tạo ra sự kiện Command và xử lý sự kiện:<br><div class="divcode"><code class="prettyprint"><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Form</span><span class="pln"><br></span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DateField</span><span class="pln"> dfToday</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// DateField item</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br>fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Core J2ME"</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create Form object</span><span class="pln"><br>dfToday </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DateField</span><span class="pun">(</span><span class="str">"Today:"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">DateField</span><span class="pun">.</span><span class="pln">DATE</span><span class="pun">);</span><span class="pln"> &nbsp;</span><span class="com">// Create DateField</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br>fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">dfToday</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Add DateField to Form</span><span class="pln"><br>fmMain</span><span class="pun">.</span><span class="pln">setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> &nbsp;</span><span class="com">// Listen for Form events</span><span class="pln"><br><br></span><span class="pun">...</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// If the datefield initiated this event</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="pun">==</span><span class="pln"> dfToday</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br><b>3.Ví dụ</b><br>Dưới đây là đoạn mã minh họa việc tạo ra và xử lý các sự kiện Command, Item<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">EventProcessing</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"><br></span><span class="typ">ItemStateListener</span><span class="pun">,</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// Reference to Display object for this MIDlet</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Main Form</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Command to exit the MIDlet</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TextField</span><span class="pln"> tfText</span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">// TextField component (item)</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">EventProcessing</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Create the date and populate with current date</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;tfText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">(</span><span class="str">"First Name:"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">ANY</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp;cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// Create the Form, add Command and DateField</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// listen for events from Command and DateField</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Event Processing Example"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">tfText</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// Capture Command events (cmExit)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;fmMain</span><span class="pun">.</span><span class="pln">setItemStateListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> &nbsp; </span><span class="com">// Capture Item events (dfDate)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="com">// Called by application manager to start the MIDlet.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="kwd">boolean</span><span class="pln"> unconditional</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Inside commandAction()"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> itemStateChanged</span><span class="pun">(</span><span class="typ">Item</span><span class="pln"> item</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Inside itemStateChanged()"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Chúng
ta vừa chấm dứt xong phần lập trình giao diện của J2ME. Tuy phần lập
trình giao diện sẽ giúp cho ứng dụng của bạn bắt mắt với người sử dụng,
nhưng một số phần khác như cách lưu trữ trên điện thoại di động và lập
trình mạng cũng không kém thú vị và góp phần quan trọng trong những ứng
dụng cũng như game của các bạn<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 15:35:11 30-10-2005]
      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [15:28:34 30-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,51354"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#51354">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2051354%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="51356"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(51356);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51356"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51356&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_51356">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>V.Record Management System</b><br>MIDP
không sử dụng hệ thống file để lưu trữ dữ liệu. Thay vào đó MIDP lưu
toàn bộ thông tin vào non-volatile memory bằng hệ thống lưu trữ gọi là
Record Management System (RMS). <br><br><b>1.Persistent Storage Through the Record Store</b><br>RMS
là hệ thống được tổ chức và quản lý dưới dạng các record (bản ghi). Mỗi
bản ghi (sau này gọi là Record) có thể chứa bất kỳ loại dữ liệu nào,
chúng có thể là kiểu số nguyên, chuỗi ký tự hay có thể là một ảnh và
kết quả là một Record là một chuỗi (mảng) các byte. Nếu bạn mã hoá dữ
liệu của bạn dưới dạng nhị phân (binary), bạn có thể lưu trữ dữ liệu
bằng Record sau đó đọc dữ liệu từ Record và khôi phục lại dữ liệu ban
đầu. Tất nhiên kích thước dữ liệu của bạn không được vuợt quá giới hạn
qui định của thiết bị di động. RMS lưu dữ liệu gần như một cơ sở dữ
liệu, bao gồm nhiều dòng, mỗi dòng lại có một số định danh duy nhất:<br><br>A record store database<br>Record ID	Data<br>1	Array of bytes<br>2	Array of bytes<br>3	Array of bytes<br>…	<br><br>Một
tập các bản ghi (sau này gọi là RecordStore) là tập hợp các Record được
sắp xếp có thứ tự. Mỗi Record không thể đứng độc lập mà nó phải thuộc
vào một RecordStore nào đó, các thao tác trên Record phải thông qua
RecordStore chứa nó. Khi tạo ra một Record trong RecordStore, Record
được gán một số định danh kiểu số nguyên gọi là Record ID. Record đầu
tiên được tạo ra sẽ được gán Record ID là 1 và sẽ tăng thêm 1 cho các
Record tiếp theo. Cần chú rằng Record ID không phải là chỉ mục (index),
các thao tác xóa Record trong RecordStore sẽ không gây nên việc tính
toán lại các Record ID của các Record hiện có cũng như không làm thay
đổi Record ID của các Record được tạo mới, ví dụ: khi ta xóa record id
3 khi thêm một record mới sẽ có id là 4. Data là một dãy các byte đại
diện cho dữ liệu cần lưu.<br>Tên được dung để phân biệt các RecordStore
trong bộ các MIDlet (MIDlet suite). Cần chú ý khái niệm MIDlet suite là
tập các MIDlet có chung không gian tên (name space), có thể chia sẽ
cùng tài nguyên (như RecordStore), các biến tĩnh (static variable)
trong các lớp và các MIDlet này sẽ được đóng gói trong cùng một file
.jar khi triển khai. Nếu ứng dụng của bạn chỉ có một MIDlet thì các
RecordStore được sử dụng cũng phân biệt lẫn nhau bằng các tên. Tên của
RecordStore có thể dài đến 32 ký tự Unicode và là duy nhất trong một
MIDlet suite.<br><img src="viewthread_thread,8917_files/clip_image001_003.jpg" border="0"> <br><br>Đường liền thể hiện việc truy xuất Record store do MIDlet đó tạo ra, đường nét đứt là Record store do MIDlet khác tạo ra.<br>Trong
MIDLET Suite One, MIDlet #1 và MIDlet #2 cùng có thể truy xuất 4 Record
store. MIDLET Suite One không thể truy xuất Record store trong Suite
Two. Trong MIDlet Suite One tên của các Record store là duy nhấy, tuy
nhiên Record store trong các MIDlet Suite khác nhau có thể dùng chung
một tên. <br>Record Store còn có 2 thuộc tính là Version Number và
Date/time Stamp, các giá trị này thay đổi khi thực hiện thêm, thay thế
hay xóa một record, ngoài ra còn có thể dùng cơ chế event handler
(Listener) để phát hiện mỗi khi Record store bị thay đổi.<br>Version number là một số integer, để biết giá trị khởi đầu bạn cần gọi hàm getVersion() sau khi tạo một Record store.<br>Date/time
Stamp là số long integer, là số miliseconds kể từ ngày 1 tháng 1 năm
1970, bạn có thể biết được giá trị này thông qua hàm getLastModified().<br><br><b>2.Các vấn đề liên quan đến RMS</b><br><b>a)Hạn chế về khả năng lưu trữ của thiết bị di động</b><br>Dung
lượng vùng nhớ (non-volatile memory) dành riêng cho việc lưu trữ dữ
liệu trong RMS thay đổi tùy theo thiết bị di động. Đặc tả MIDP yêu cầu
rằng các nhà sản xuất thiết bị di động phải dành ra vùng nhớ có kích
thước ít nhất 8K cho việc lưu trữ dữ liệu trong RMS. Đặc tả không nêu
giới hạn trên cho mỗi Record. RMS cung cấp các API để xác định kích
thước của mỗi Record, tổng dung lượng của RecordStore và kích thước còn
lại của vùng nhớ này. Do đó trong quá trình phát triển các ứng dụng
J2ME bạn phải cân nhắc<br>trong việc sử dụng vùng nhớ này.<br><br><b>b)Tốc độ truy xuất dữ liệu</b><br>Các
thao tác trên vùng nhớ này (non-volatile memory) tất nhiên sẽ chậm hơn
nhiều khi bạn truy xuất dữ liệu trên bộ nhớ RAM (volatile memory). Nó
sẽ giống như tốc độ đọc ổ cứng và tốc độ đọc từ RAM của máy tính bạn.
Vì vậy trong kỹ thuật lập trình bạn phải thường xuyên cache dữ liệu và
các thao tác liên quan đến RMS chỉ thực hiện tập trung một lần (lúc
khởi động hay đóng ứng dụng). <br><br><b>c)Cơ chế luồng an toàn</b><br>Nếu
RecordStore của bạn chỉ được sử dụng bởi một MIDlet, bạn không phải lo
lắng về vấn đề này vì RMS sẽ dành riêng một Thread để thực hiện các
thao tác trên RecordStore. Tuy nhiên nếu có nhiều MIDlet và Thread cùng
chia sẻ một RecordStore thì phải chú ý đến kỹ thuật lập trình Thread để
đảm bảo không có sự xung đột dữ liệu.<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [15:49:25 30-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,51356"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#51356">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2051356%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="51458"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(51458);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51458"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=51458&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_51458">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>3.Các hàm API trong RMS</b><br>RecordStore không có hàm khởi tạo.<br>RecordStore Class: javax.microedition.rms.RecordStore<br><br><i>static RecordStore openRecordStore(String recordStoreName, boolean createIfNecessary)</i> : Mở một Recordstore, có tham số tạo Record store nếu nó chưa tồn tại.<br><i>void closeRecordStore()</i> : Đóng RecordStore.<br><i>static void deleteRecordStore(String recordStoreName)</i> : Xóa RecordStore.<br><i>static String[] listRecordStores()</i> : Danh sách các RecordStore trong MIDlet suite.<br><i>int addRecord(byte[] data, int offset, int numBytes)</i> : Thêm một record vào RecordStore.<br><i>void setRecord(int recordId, byte[] newData, int offset, int numBytes)</i> : Đặt hoặc thay thế một record trong RecordStore.<br><i>void deleteRecord(int recordId)</i> : Xóa một record trong RecordStore.<br><i>byte[] getRecord(int recordId)</i> : Lấy dãy byte chứa record.<br><i>int getRecord(int recordId, byte[] buffer, int offset)</i> : Lấy nội dung của record vào dãy byte.<br><i>int getRecordSize(int recordId)</i> : Kích thước record.<br><i>int getNextRecordID()</i> : Lấy record id của record mới .<br><i>int getNumRecords()</i> : Số lượng các record.<br><i>long getLastModified()</i> : Thời gian thay đồi gần nhất.<br><i>int getVersion()</i> : Version của RecordStore.<br><i>String getName()</i> : Tên của RecordStore.<br>int getSize() : Kích thước của RecordStore.<br><i>int getSizeAvailable()</i> : Số byte trống cho RecordStore.<br><i>RecordEnumeration enumerateRecords( RecordFilter filter, RecordComparator comparator, boolean keepUpdated)</i> : Xây dựng enumeration dùng để duyệt recordstore<br><i>void addRecordListener (RecordListener listener)</i> : Add a listener to detect record store<br><i>void removeRecordListener (RecordListener listener)</i> : Remove listener.<br><br>Chúng ta hãy cùng xem qua 2 ví dụ đơn giản của việc đọc ghi record trong RecordStore.<br>Ví dụ 1: đọc và ghi đối tượng string (ReadWrite.java)<br><br><div class="divcode"><code class="prettyprint"><span class="com">/*--------------------------------------------------<br>* ReadWrite.java<br>*<br>* Read and write to the record store.<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ReadWrite</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_1"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ReadWrite</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write a few records and read them back</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"J2ME and MIDP"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"Wireless Technology"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; readRecords</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Remove the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// There is no user interface, go ahead and shutdown</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeRecord</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"> &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> rec</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> readRecords</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="lit">50</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; len </span><span class="pun">=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getRecord</span><span class="pun">(</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record #"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="str">": "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"------------------------------"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Đây là output của ví dụ 1:<br><img src="viewthread_thread,8917_files/clip_image002_003.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [23:24:30 31-10-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,51458"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#51458">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2051458%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="52669"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=diemxua" class="memberName">diemxua</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        VietNam<br>
        
              
        Tham gia: <b>26-10-2005</b><br>
        
             
        Tổng số bài đã viết: <b>3</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(52669);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=52669"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=52669&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_52669">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Trời ơi! khi nào em mới viết được game cho di động đây trời.<br>Cám ơn Bác Minh nhiều lắm nghen. Em đang cố gắng học tập bác Minh đây.<br>Nhờ bác giúp đỡ em nhé<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [19:42:38 16-11-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,52669"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=diemxua"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=diemxua"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:ho_anh_trucbt@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="ho_anh_trucbt@yahoo.com" title="ho_anh_trucbt@yahoo.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#52669">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2052669%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="52830"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=only4u2" class="memberName">only4u2</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>04-11-2005</b><br>
        
             
        Tổng số bài đã viết: <b>3</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(52830);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=52830"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=52830&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_52830">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Khá hay....hehe.. để ku Minh uống thêm vài ly nữa rồi sẽ giúp anh em. <br>À
sẵn tiện help mấy em mới làm quen với J2ME.. Lập trình cho J2ME có 2
loại cơ bản viết ứng dụng (High-Level User Interface) và viết game
(Low-Level User Interface). Có thể search trên mạng file "J2ME in a
Nutshell". Đây là tài liệu cũng khá hay. Còn ToolKit thì tuỳ loại điện
thoại mà lên trang web của hãng down về. Chịu khó đọc tài liệu tiếng
Anh, sẽ tốt hơn.<br>Nếu cần thì email tớ, tớ gửi tài liệu cả anh lẫn Việt..hix..ở đây hong biết attach chỗ nào.<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [16:39:07 18-11-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,52830"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=only4u2"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=only4u2"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:pdluat@tma.com.vn"><img src="viewthread_thread,8917_files/button_email.gif" alt="pdluat@tma.com.vn" title="pdluat@tma.com.vn" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#52830">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2052830%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="53389"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gogoale84" class="memberName">gogoale84</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        Viet Nam<br>
        
              
        Tham gia: <b>18-09-2005</b><br>
        
             
        Tổng số bài đã viết: <b>9</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(53389);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=53389"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=53389&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_53389">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Bác Minh ơi, làm thêm một bài về lập trình Streaming với di động đi. Phần này em đọc tài liệu tiếng anh không hiểu lắm.<br> <img src="viewthread_thread,8917_files/cool.gif" alt="cool" title="cool" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [20:43:18 27-11-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,53389"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gogoale84"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=gogoale84"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#53389">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2053389%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55377"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55377);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55377"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55377&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_55377">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Hàm để mở một recordstore<br><div class="divcode"><code class="prettyprint"><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span></code></div><br><br>Với tham số true, hàm sẽ tạo một RecordStore nếu nó chưa tồn tại.<br>Trong hàm WriteRecord, trước khi lưu vào RecordStore, cần phải chuyển đổi kiểu string thành dãy byte:<br><br>byte[] rec = str.getBytes();<br>...<br>rs.addRecord(rec, 0, rec.length);<br><br>Trong hàm ReadRecord, chúng ta cũng cần đọc một dãy byte:<br>byte[] recData = new byte[50];<br>...<br>len = rs.getRecord( i, recData, 0 );<br><br>Cần
lưu ý là trong ví dụ trên do biết trước kích thước của string nên khai
báo dãy byte vừa đủ, trong thực tế ta nên kiểm tra kích thước của
record để khai báo dãy byte cần thiết để tránh phát sinh lỗi, do đó hàm
ReadRecord có thể sửa lại như sau:<br><br><div class="divcode"><code class="prettyprint"><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getRecordSize</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> recData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"><br>recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getRecordSize</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)];</span><span class="pln"><br>len </span><span class="pun">=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getRecord</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record #"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="str">": "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br></span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">));</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"------------------------------"</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Nếu
chỉ cần đọc ghi những đoạn text vào record, thì ví dụ trên là quá đủ.
Tuy nhiên, thực tế là ta cần lưu những giá trị khác: String, int,
boolean, v.v… Trong ví dụ 2 này, chương trình sẽ sử dụng stream để đọc
và ghi record. Việc sử dụng stream giúp chúng ta linh động và nâng cao
hiệu quả của việc đọc và ghi dữ liệu vào RecordStore.<br><br>Ví dụ 2: đọc và ghi sử dụng stream (ReadWriteStreams.java)<br>/*--------------------------------------------------<br>* ReadWriteStreams.java<br>*<br>* Use streams to read and write Java data types<br>* to the record store.<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/<br><div class="divcode"><code class="prettyprint"><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ReadWriteStreams</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_1"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Name of record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ReadWriteStreams</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeTestData</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Write a series of records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; readStream</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Read back the records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Remove the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// There is no user interface, go ahead and shutdown</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Create three arrays to write to record store<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeTestData</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> strings </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"Text 1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Text 2"</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> booleans </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> integers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeStream</span><span class="pun">(</span><span class="pln">strings</span><span class="pun">,</span><span class="pln"> booleans</span><span class="pun">,</span><span class="pln"> integers</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Write to record store using streams.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeStream</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> sData</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> bData</span><span class="pun">,</span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> iData</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write data into an internal byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayOutputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayOutputStream</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types into the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataOutputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataOutputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> record</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeUTF</span><span class="pun">(</span><span class="pln">sData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeBoolean</span><span class="pun">(</span><span class="pln">bData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="pln">iData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Clear any buffered data</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Get stream data into byte array and write record</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; record </span><span class="pun">=</span><span class="pln"> strmBytes</span><span class="pun">.</span><span class="pln">toByteArray</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">record</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> record</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Toss any data in the internal array so writes</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// starts at beginning (of the internal array)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Read from the record store using streams<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> readStream</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Careful: Make sure this is big enough!</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Better yet, test and reallocate if necessary</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="lit">50</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read from the specified byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">recData</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Get data into the byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">getRecord</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read back the data types</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record #"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"UTF: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Boolean: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">readBoolean</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Int: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readInt</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"--------------------"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Reset so read starts at beginning of array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></i></i></i></code></div><i><i><i><br><br>Output của ví dụ 2:<br><img src="viewthread_thread,8917_files/clip_image003.jpg" border="0"> <br><br>Dữ liệu ghi vào record trong ví dụ 2 gồm:<br></i></i></i><div class="divcode"><code class="prettyprint"><i><i><i><span class="typ">String</span><span class="pun">[]</span><span class="pln"> strings </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"Text 1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Text 2"</span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> booleans </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> integers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">};</span><span class="pln"><br>H</span><span class="pun">à</span><span class="pln">m </span><span class="typ">WriteStream</span><span class="pln"> s</span><span class="pun">ẽ</span><span class="pln"> ghi d</span><span class="pun">ữ</span><span class="pln"> li</span><span class="pun">ệ</span><span class="pln">u v</span><span class="pun">à</span><span class="pln">o </span><span class="typ">RecordStore</span><span class="pln"><br></span><span class="com">// Write data into an internal byte array</span><span class="pln"><br></span><span class="typ">ByteArrayOutputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayOutputStream</span><span class="pun">();</span><span class="pln"><br></span><span class="com">// Write Java data types into the above byte array</span><span class="pln"><br></span><span class="typ">DataOutputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataOutputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> record</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="com">// Write Java data types</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeUTF</span><span class="pun">(</span><span class="pln">sData</span><i><span class="pun">);</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeBoolean</span><span class="pun">(</span><span class="pln">bData</span><i><span class="pun">);</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="pln">iData</span><i><span class="pun">);</span><span class="pln"><br></span><span class="com">// Clear any buffered data</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"><br></span><span class="com">// Get stream data into byte array and write record</span><span class="pln"><br>record </span><span class="pun">=</span><span class="pln"> strmBytes</span><span class="pun">.</span><span class="pln">toByteArray</span><span class="pun">();</span><span class="pln"><br>rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">record</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> record</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br></span><span class="com">// Toss any data in the internal array so writes</span><span class="pln"><br></span><span class="com">// starts at beginning (of the internal array)</span><span class="pln"><br>strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></i></i></i></i></i></i></code></div><i><i><i><i><i><i><br><br>Hàm
đã sử dụng hai stream là strmBytes là một mảng byte sẽ ghi vào
RecordSotre và strmDataType để chứa dữ liệu. Như vậy quá trình ghi dữ
liệu vào RecordStore được thực hiện thông qua các bước:<br>•	Cấp phát stream.<br>•	Ghi dữ liệu vào stream.<br>•	Flush stream.<br>•	Chuyển đổi stream data thành mảng byte.<br>•	Ghi mảng byte vào RecordStore.<br>•	Đóng stream.<br><br>Việc đọc các dữ liệu từ record đơn giản chỉ cần thay OutStream thành InputStream:<br></i></i></i></i></i></i><div class="divcode"><code class="prettyprint"><i><i><i><i><i><i><span class="pln"><br></span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="lit">50</span><span class="pun">];</span><span class="pln"><br></span><span class="com">// Read from the specified byte array</span><span class="pln"><br></span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"><br></span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">recData</span><span class="pun">);</span><span class="pln"><br></span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br></span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="com">// Get data into the byte array</span><span class="pln"><br>rs</span><span class="pun">.</span><span class="pln">getRecord</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br></span><span class="com">// Read back the data types</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record #"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">);</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"UTF: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">());</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Boolean: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readBoolean</span><span class="pun">());</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Int: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readInt</span><span class="pun">());</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"--------------------"</span><span class="pun">);</span><span class="pln"><br></span><span class="com">// Reset so read starts at beginning of array</span><span class="pln"><br>strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></i></i></i></i></i></i></code></div><i><i><i><i><i><i><br><br>Ở đây, chúng ta khai báo một mảng byte recData (giống với strmBytes), sau khi gọi hàm<br>rs.getRecord(i, recData, 0);<br>Chúng ta đã có mảng byte lúc đầu chương trình ghi vào record, sau đó dùng InputStream strmDataType để đọc đúng kiểu dữ liệu:<br></i></i></i></i></i></i><div class="divcode"><code class="prettyprint"><i><i><i><i><i><i><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"UTF: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">());</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Boolean: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readBoolean</span><span class="pun">());</span><span class="pln"><br></span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Int: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readInt</span><span class="pun">());</span><span class="pln"><br></span></i></i></i></i></i></i></code></div><i><i><i><i><i><i><br>Lưu
ý: khi sử dụng DataOutputStream và DataInputStream, cần phải đọc và ghi
theo đúng thứ tự, nếu không sẽ không ra kết quả mong muốn.<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 20:53:23 29-12-2005]
      
      
      
      
    </i></i></i></i></i></i></td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [20:50:13 29-12-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55377"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55377">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055377%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55379"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55379);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55379"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55379&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_55379">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>4.Duyệt Record với RecordEnumeration</b><br>Trong các ví dụ trước để duyệt các record ta đã sử dụng vòng lặp:<br>for (int i = 1; i &lt;= rs.getNumRecords(); i++)<br>{<br>rs.getRecord(i, recData, 0);<br>...<br>}<br>Ngoài
ra còn một cách khác để duyệt RecordStore là sử dung RecordEnumeration.
Lớp này cung cấp các phương thức để duyệt các record trong RecordStore
một cách nhanh chóng. Dưới đây là đoạn code duyệt toàn bộ RecordStore:<br>RecordEnumeration re = rs.enumerateRecords(null,null,false);<br>while (re.hasNextElement())<br>{<br>// Get the next record into a String<br>String str = new String(re.nextRecord());<br>... do something ...<br>}<br>Trong
đoạn code trên đã sử dụng nextRecord() để duyệt đến record sau đó,
ngoài ra còn có previousRecord() giúp duyệt về record trước đó. Nếu
muốn bắt đầu tại vị trí cuối cùng của recordstore ta chỉ cần gọi hàm
previousRecord() ngay khi mở recordstore, nó sẽ trả về dòng cuối cùng.<br>RecordEnumeration
có duy trì một index của các record. Khi recordstore có sự thay đổi thì
RecordEnumeration có thể hoạt dộng không chính xác, do đó chúng ta cần
phải gọi hàm reindex() mỗi khi recordstore có sự thay đổi.<br><br>RecordEnumeration API<br>RecordEnumeration Interface: javax.microedition.rms.RecordEnumeration<br>Method	                                                        Description<br>int numRecords() 	                                   Số lượng record trong enumeration<br>byte[] nextRecord() 	                                  Record tiếp theo<br>int nextRecordId() 	                                   Record ID của record tiếp theo<br>byte[] previousRecord() 	                       Record trước đó<br>int previousRecordId() 	                                Record ID của record trước đó<br>boolean hasNextElement()                           Kiểm tra enumeration có record kế tiếp<br>boolean hasPreviousElement() 	                 Kiểm tra enumeration có record trước đó<br>void keepUpdated(boolean keepUpdated)	Đặt enumeration reindex sau khi co sự thay đổi<br>boolean isKeptUpdated() 	                     Kiểm tra enumeration có tự động reindex()<br>void rebuild() 	                                              Tạo lại index<br>void reset() 	                                               Đưa enumeration về record đầu tiên<br>void destroy() 	                                             Giải phóng tài nguyên được sử dụng bởi enumeration<br><br><b>5.Sắp xếp các record với interface RecordComparator</b><br>Interface
này giúp người lập trình so sánh hai Record theo một tiêu chí nào đó.
Interface này định nghĩa phương thức compare với trị đầu vào là hai
mảng các byte thể hiện hai Record cần so sánh. Phương thức này trả về
các trị sau được định nghĩa trong interface:<br>•EQUIVALENT: Nếu hai Record bằng nhau<br>•FOLLOWS: Nếu Record thứ 1 đứng sau Record thứ 2<br>•PRECEDES: Nếu Record thứ 1 đứng trước Record thứ 2<br>Do RecordComparator là một interface nên khi sử dụng cần phải implements nó:<br><div class="divcode"><code class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Comparator</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> compare</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec2</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="typ">String</span><span class="pln"> str1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">rec1</span><span class="pun">),</span><span class="pln"> str2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">rec2</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">int</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> str1</span><span class="pun">.</span><span class="pln">compareTo</span><span class="pun">(</span><span class="pln">str2</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">EQUIVALENT</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">PRECEDES</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">else</span><span class="pln"><br></span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">FOLLOWS</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></div><br><br>Sau đó ta sử dụng lớp Comparator bằng cách gắn kết nó với RecordEnumeration:<br>// Create a new comparator for sorting<br>Comparator comp = new Comparator();<br>// Reference the comparator when creating the result set<br>RecordEnumeration re = rs.enumerateRecords(null,comp,false);<br>// Iterate through the sorted results<br>while (re.hasNextElement())<br>{<br>String str = new String(re.nextRecord());<br>.	<br><br>Enumeration sẽ sử dụng hàm compare trong class Comparator để sắp xếp các record trong RecordStore.<br><br>RecordComparator Interface: javax.microedition.rms.RecordComparator<br>Method	Description<br>int compare(byte[] rec1, byte[] rec2)	So sánh để quyết định thứ tự sắp xếp<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [21:00:21 29-12-2005]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55379"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55379">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055379%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55700"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=laudrup" class="memberName">laudrup</a>
        <br>
        Thành viên mới
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/humor.gif" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Vietnam<br>
        
              
        Tham gia: <b>18-01-2005</b><br>
        
             
        Tổng số bài đã viết: <b>19</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55700);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55700"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55700&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_55700">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
xin loi moi nguoi truoc vi dang o truong, may ko co vietkey lan unikey.
Nhung du gi di nua, phai cong nhan bai viet cua anh Minh tuyet cu meo.
Mong anh Minh tiep tuc.<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [13:28:01 05-01-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55700"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=laudrup"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=laudrup"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55700">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055700%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55764"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=n2t" class="memberName">n2t</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>04-01-2006</b><br>
        
             
        Tổng số bài đã viết: <b>12</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55764);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55764"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55764&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/smile.gif" alt="smile" title="smile" border="0"> 
            

            
            <span id="posttopic_55764">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      chú mày được đấy, cố lên.  <img src="viewthread_thread,8917_files/smile.gif" alt="smile" title="smile" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [19:39:31 05-01-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55764"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=n2t"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=n2t"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55764">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055764%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55783"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/female.gif" alt="Nữ" title="Nữ" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=notsimple" class="memberName">notsimple</a>
        <br>
        Thành viên củ chuối nhất diễn đàn
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_002.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>14-03-2005</b><br>
        
             
        Tổng số bài đã viết: <b>433</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55783);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55783"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55783&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_55783">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <div class="quote">chú mày được đấy, cố lên.  <img src="viewthread_thread,8917_files/smile.gif" alt="smile" title="smile" border="0"></div><br>Chú mày láo quá đấy<br>
    
      
      
            ----------------------------------------<br>
            while(true) {<br>    tryMyBest();<br>}<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [10:31:50 06-01-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55783"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=notsimple"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=notsimple"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:ngocgiaodang@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="ngocgiaodang@yahoo.com" title="ngocgiaodang@yahoo.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=ngocgiaodang&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="ngocgiaodang" title="ngocgiaodang" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55783">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055783%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="55788"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=n2t" class="memberName">n2t</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>04-01-2006</b><br>
        
             
        Tổng số bài đã viết: <b>12</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(55788);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55788"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=55788&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_55788">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      chú mày cũng được đấy, cố lên<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [12:15:30 06-01-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,55788"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=n2t"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=n2t"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#55788">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2055788%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="58032"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hiendien" class="memberName">hiendien</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>16-02-2006</b><br>
        
             
        Tổng số bài đã viết: <b>3</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(58032);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=58032"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=58032&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_58032">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Bây giờ mình có 1 file text data.txt, với nội dung như sau: <br><br>string1#string2#string3<br>string1#string2#string3<br>..........<br><br>vd : <br>ten#diachi#sodienthoai<br>ten#diachi#sodienthoai<br><br>Mình
muốn duyệt, đọc, xuất dữ liệu ra màn hình, vậy khi minh xử lý dữ liệu
như thế nào cho nhanh và tiện. (cho mình xin các hàm liên quan)<br><br>Cam on.<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [12:08:49 24-02-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,58032"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hiendien"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hiendien"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:nguyenthanhhien@inbox.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="nguyenthanhhien@inbox.com" title="nguyenthanhhien@inbox.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#58032">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2058032%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62324"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62324);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62324"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62324&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_62324">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Ví dụ 3: chương trình sắp xếp cơ bản<br>/*--------------------------------------------------<br>* SimpleSort.java<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/<br><div class="divcode"><code class="prettyprint"><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SimpleSort</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_1"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SimpleSort</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write a few records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"Sand Wedge"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"One Wood"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"Putter"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"Five Iron"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read back with enumerator, sorting the results</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; readRecords</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Remove the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// There is no user interface, go ahead and shutdown</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeRecord</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> rec</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> readRecords</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Comparator</span><span class="pln"> comp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Comparator</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordEnumeration</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">enumerateRecords</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln">comp</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">hasNextElement</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">nextRecord</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">str</span><span class="pun">);</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"------------------------------"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; | Comparator.java<br>&nbsp; &nbsp; &nbsp; &nbsp; |<br>&nbsp; &nbsp; &nbsp; &nbsp; | Compares two records to determine sort order<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Comparator</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> compare</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec2</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> str1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">rec1</span><span class="pun">),</span><span class="pln"> str2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">rec2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> str1</span><span class="pun">.</span><span class="pln">compareTo</span><span class="pun">(</span><span class="pln">str2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">EQUIVALENT</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">PRECEDES</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">FOLLOWS</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Trong đoạn code trên trong hàm readRecord(), khi tạo Enumeration ta đã tham chiếu đến đối tượng comp của lớp Comparator<br><div class="divcode"><code class="prettyprint"><span class="typ">Comparator</span><span class="pln"> comp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Comparator</span><span class="pun">();</span><span class="pln"><br></span><span class="typ">RecordEnumeration</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">enumerateRecords</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"><br>comp</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">hasNextElement</span><span class="pun">())</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="pun">...</span><span class="pln"><br></span><span class="pun">}</span></code></div><br>Khi enumerator tạo index cho RecordStore nó sẽ sử dụng hàm compare() ở trên để sắp xếp các record.<br><br>Output của vi dụ 3:<br><img src="viewthread_thread,8917_files/clip_image003.jpg" border="0"><br><br>Ví
dụ trên đúng trong trường hợp dữ liệu lưu vào record là dạng text, nếu
quay lại ví dụ 2 ta đã ghi nhiều kiểu dữ liệu vào trong một record:<br><div class="divcode"><code class="prettyprint"><span class="com">// Write Java data types to stream</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeUTF</span><span class="pun">(</span><span class="str">"Text 1"</span><span class="pun">);</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeBoolean</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>strmDataType</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br></span></code></div>Các
kiểu dữ liệu trên sẽ được lưu vào một stream ở dạng binary. Sau đó các
stream này sẽ được chuyển thành mảng và đưa vào recordstore:<br>// Get stream data into an array<br>record = strmBytes.toByteArray();<br>// Write the array to a record<br>rs.addRecord(record, 0, record.length);<br>Đoạn
code trong ví dụ 3 sẽ chạy sai khi áp dụng với kiểu dữ liệu binary. Để
giải quyết, ta cần phải viết lại hàm compare() thự c hiện chức năng
chuyển đổi chuỗi byte và sắp xếp đúng kiểu dữ liệu. <br>Trong thực tế,
chúng ta cần phải lưu nhiều trường dữ liệu trong một record như trong
ví dụ 2 (lưu dữ liệu kiểu String, boolean, integer). Trong trường hợp
này sẽ có nhiều lựa chọn để sắp xếp các record, và việc lựa chọn này
tùy thuộc vào ứng dụng của bạn.<br>Trong 2 ví dụ sau đây sẽ thực thi
interface RecordComparator để sắp xếp record chứa nhiều kiểu dữ liệu.
Những ví dụ này sẽ sử dụng cùng dữ liệu đầu vào, tuy nhiên ví dụ 4 sẽ
sắp xếp dựa vào kiểu String, trong khi ví dụ 5 sẽ sắp xếp dựa vào kiểu
integer. Đây là dữ liệu sẽ lưu vào recordstore:<br><div class="divcode"><code class="prettyprint"><span class="typ">String</span><span class="pun">[]</span><span class="pln"> pets </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"duke"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tiger"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"spike"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"beauregard"</span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> dog </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> rank </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">};</span><span class="pln"><br></span></code></div>Khi lưu vào recordstore sẽ có dạng như sau:<br>Record #1<br>"duke" true 3<br><br>Record #2<br>"tiger" false 0<br><br>Record #3 <br>"spike" true 1<br><br>Record #4<br>"beauregard" true 2<br><br>Đây
là lý do ví dụ 3 không đáp ứng được yêu cầu, do dữ liệu lưu vào không
còn là dạng text, và hàm String.CompareTo() trên nội dung của record
không thể sắp xếp dữ liệu theo mong muốn. Do đó, bạn cần phải lấy ra từ
mỗi record trường dữ liệu mà bạn muốn sắp xếp. Trong ví dụ 4 sẽ lấy
kiểu String ở đầu mỗi record, ví dụ 5 sẽ lấy kiểu integer ở cuối mỗi
record.<br><br>Ví dụ 4: StringSort.java<br><br><div class="divcode"><code class="prettyprint"><span class="com">/*--------------------------------------------------<br>* StringSort.java<br>*<br>* Sort records that contain multiple Java<br>* data types. Sort using String type.<br>*<br>* Uses: Streams, Enumeration, RecordComparator<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">StringSort</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_3"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Name of record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">StringSort</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeTestData</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Write a series of records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; readStream</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Read back the records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Remove the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// There is no user interface, go ahead and shutdown</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Create three arrays to write to record store<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeTestData</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> pets </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"duke"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"tiger"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"spike"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"beauregard"</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> dog </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> rank </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeStream</span><span class="pun">(</span><span class="pln">pets</span><span class="pun">,</span><span class="pln"> dog</span><span class="pun">,</span><span class="pln"> rank</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Write to record store using streams.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeStream</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> sData</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> bData</span><span class="pun">,</span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> iData</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write data into an internal byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayOutputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayOutputStream</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types into the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataOutputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataOutputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> record</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeUTF</span><span class="pun">(</span><span class="pln">sData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeBoolean</span><span class="pun">(</span><span class="pln">bData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="pln">iData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Clear any buffered data</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Get stream data into byte array and write record</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; record </span><span class="pun">=</span><span class="pln"> strmBytes</span><span class="pun">.</span><span class="pln">toByteArray</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">record</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> record</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Toss any data in the internal array so writes</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// starts at beginning (of the internal array)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Read from the record store using streams<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> readStream</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Careful: Make sure this is big enough!</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Better yet, test and reallocate if necessary</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="lit">50</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read from the specified byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">recData</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ComparatorString</span><span class="pln"> comp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ComparatorString</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordEnumeration</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"> rs</span><span class="pun">.</span><span class="pln">enumerateRecords</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; comp</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">hasNextElement</span><span class="pun">())</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Get data into the byte array</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">getRecord</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">nextRecordId</span><span class="pun">(),</span><span class="pln"> recData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read back the data types</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record #"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">++);</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Name: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Dog: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readBoolean</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Rank: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readInt</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"--------------------"</span><span class="pun">);</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Reset so read starts at beginning of array</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; comp</span><span class="pun">.</span><span class="pln">compareStringClose</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Free enumerator</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; re</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="com">/*--------------------------------------------------<br>| Compares two strings to determine sort order<br>| Each record passed in contains multiple Java data<br>| types - use only the String data for sorting<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ComparatorString</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="lit">10</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read from a specified byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> compareStringClose</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">strmBytes </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">strmDataType </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> compare</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec2</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> str1</span><span class="pun">,</span><span class="pln"> str2</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// If either record is larger than our buffer, reallocate</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> maxsize </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="pln">rec1</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> rec2</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">maxsize </span><span class="pun">&gt;</span><span class="pln"> recData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; recData </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">byte</span><span class="pun">[</span><span class="pln">maxsize</span><span class="pun">];</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read record #1</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Only need one read because the string to</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// sort on is the first "field" in the record</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">rec1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; str1 </span><span class="pun">=</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read record #2</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">rec2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; str2 </span><span class="pun">=</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Compare record #1 and #2</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> str1</span><span class="pun">.</span><span class="pln">compareTo</span><span class="pun">(</span><span class="pln">str2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">EQUIVALENT</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">PRECEDES</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">FOLLOWS</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">RecordComparator</span><span class="pun">.</span><span class="pln">EQUIVALENT</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></i></i></i></code></div><i><i><i><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 16:58:46 08-05-2006]
      
      
      
      
    </i></i></i></td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [16:53:17 08-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62324"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62324">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062324%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62325"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62325);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62325"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62325&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_62325">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Trường dữ liệu đầu tiên trong các record là kiểu string, - dùng làm
tiêu chí sắp xếp. Trước hết ta lấy chuỗi cần so sánh trong dãy byte
bằng hàm readUTF() , rồi dùng compareTo() trong class String để sắp xếp:<br>// Read record #1<br>// Only need one read because the string to<br>// sort on is the first "field" in the record<br>. . . <br>str1 = strmDataType.readUTF();<br>// Read record #2<br>. . .<br>str2 = strmDataType.readUTF();<br>// Compare record #1 and #2<br>int result = str1.compareTo(str2);<br>. . .<br>Output của ví dụ 4:<br><img src="viewthread_thread,8917_files/clip_image004_002.jpg" border="0"><br><br>Ví dụ 5: integer sort<br>/*--------------------------------------------------<br>* IntSort.java<br>*<br>* Sort records that contain multiple Java<br>* data types. Sort using integer type.<br>*<br>* Uses: Streams, Enumeration, RecordComparator<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/<br>import java.io.*;<br>import javax.microedition.midlet.*;<br>import javax.microedition.rms.*;<br>public class IntSort extends MIDlet<br>{<br>	private RecordStore rs = null; // Record store<br>	static final String REC_STORE = "db_4"; // Name of record store<br>	public IntSort()<br>	{<br>	openRecStore(); // Create the record store<br>	writeTestData(); // Write a series of records<br>	readStream(); // Read back the records<br>	closeRecStore(); // Close record store<br>	deleteRecStore(); // Remove the record store<br>	}<br>	public void destroyApp( boolean unconditional )<br>	{<br>	}<br>	public void startApp()<br>	{<br>	// There is no user interface, go ahead and shutdown<br>	destroyApp(false);<br>	notifyDestroyed();<br>	}<br>	public void pauseApp()<br>	{<br>	}<br>	public void openRecStore()<br>	{<br>		try<br>		{<br>		// Create record store if it does not exist<br>			rs = RecordStore.openRecordStore(REC_STORE, true );<br>		}<br>		catch (Exception e)<br>		{<br>			db(e.toString());<br>		}<br>	}<br>	public void closeRecStore()<br>	{<br>		try<br>		{<br>			rs.closeRecordStore();<br>		}<br>		catch (Exception e)<br>		{<br>			db(e.toString());<br>		}<br>	}<br>	public void deleteRecStore()<br>	{<br>		if (RecordStore.listRecordStores() != null)<br>		{<br>			try<br>			{	<br>				RecordStore.deleteRecordStore(REC_STORE);<br>			}<br>			catch (Exception e)<br>			{<br>				db(e.toString());<br>			}<br>		}<br>	}<br>	/*--------------------------------------------------<br>	* Create three arrays to write to record store<br>	*-------------------------------------------------*/<br>	public void writeTestData()<br>	{<br>		String[] pets = {"duke", "tiger", "spike", "beauregard"};<br>		boolean[] dog = {true, false, true, true};<br>		int[] rank = {3, 0, 1, 2};<br>		writeStream(pets, dog, rank);<br>	}<br>	/*--------------------------------------------------<br>	* Write to record store using streams.<br>	*-------------------------------------------------*/<br>	public void writeStream(String[] sData, boolean[] bData,int[] iData)<br>	{<br>		try<br>		{<br>			// Write data into an internal byte array<br>			ByteArrayOutputStream strmBytes =<br>			new ByteArrayOutputStream();<br>			// Write Java data types into the above byte array<br>			DataOutputStream strmDataType =<br>			new DataOutputStream(strmBytes);<br>			byte[] record;<br>			for (int i = 0; i &lt; sData.length; i++)<br>			{<br>				// Write Java data types<br>				strmDataType.writeUTF(sData<i>);<br>				strmDataType.writeBoolean(bData<i>);<br>				strmDataType.writeInt(iData<i>);<br>				// Clear any buffered data<br>				strmDataType.flush();<br>				// Get stream data into byte array and write record<br>				record = strmBytes.toByteArray();<br>				rs.addRecord(record, 0, record.length);<br>				// Toss any data in the internal array so writes<br>				// starts at beginning (of the internal array)<br>				strmBytes.reset();<br>			}<br>			strmBytes.close();<br>			strmDataType.close();<br>		}<br>		catch (Exception e)<br>		{<br>			db(e.toString());<br>		}<br>	}<br>	/*--------------------------------------------------<br>	* Read from the record store using streams<br>	*-------------------------------------------------*/<br>	public void readStream()<br>	{<br>		try<br>		{<br>			// Careful: Make sure this is big enough!<br>			// Better yet, test and reallocate if necessary<br>			byte[] recData = new byte[50];<br>			// Read from the specified byte array<br>			ByteArrayInputStream strmBytes =<br>			new ByteArrayInputStream(recData);<br>			// Read Java data types from the above byte array<br>			DataInputStream strmDataType =<br>			new DataInputStream(strmBytes);<br>			if (rs.getNumRecords() &gt; 0)<br>			{<br>				ComparatorInt comp = new ComparatorInt();<br>				int i = 1;<br>				RecordEnumeration re = rs.enumerateRecords(null,comp, false);<br>				while (re.hasNextElement())<br>				{<br>					// Get data into the byte array<br>					rs.getRecord(re.nextRecordId(), recData, 0);<br>					// Read back the data types<br>					System.out.println("Record #" + i++);<br>					System.out.println("Name: " + strmDataType.readUTF());<br>					System.out.println("Dog: " + strmDataType.readBoolean());<br>					System.out.println("Rank: " + strmDataType.readInt());<br>					System.out.println("--------------------");<br>					// Reset so read starts at beginning of array<br>					strmBytes.reset();<br>				}<br>				comp.compareIntClose();<br>				// Free enumerator<br>				re.destroy();<br>			}<br>			strmBytes.close();<br>			strmDataType.close();<br>		}<br>		catch (Exception e)<br>		{<br>			db(e.toString());<br>		}<br>	}<br>	/*--------------------------------------------------<br>	* Simple message to console for debug/errors<br>	* When used with Exceptions we should handle the<br>	* error in a more appropriate manner.<br>	*-------------------------------------------------*/<br>	private void db(String str)<br>	{<br>		System.err.println("Msg: " + str);<br>	}<br>}<br>/*--------------------------------------------------<br>| Compares two integers to determine sort order<br>| Each record passed in contains multiple Java data<br>| types - use only the integer data for sorting<br>*-------------------------------------------------*/<br>class ComparatorInt implements RecordComparator<br>{<br>	private byte[] recData = new byte[10];<br>	// Read from a specified byte array<br>	private ByteArrayInputStream strmBytes = null;<br>	// Read Java data types from the above byte array<br>	private DataInputStream strmDataType = null;<br>	public void compareIntClose()<br>	{<br>		try<br>		{<br>			if (strmBytes != null)<br>			strmBytes.close();<br>			if (strmDataType != null)<br>			strmDataType.close();<br>		}<br>		catch (Exception e)<br>		{<br>		}<br>	}<br>	public int compare(byte[] rec1, byte[] rec2)<br>	{<br>		int x1, x2;<br>		try<br>		{<br>			// If either record is larger than our buffer, reallocate<br>			int maxsize = Math.max(rec1.length, rec2.length);<br>			if (maxsize &gt; recData.length)<br>			recData = new byte[maxsize];<br>			// Read record #1<br>			// We want the integer from the record, which is<br>			// the last "field" thus we must read the String<br>			// and boolean to get to the integer<br>			strmBytes = new ByteArrayInputStream(rec1);<br>			strmDataType = new DataInputStream(strmBytes);<br>			strmDataType.readUTF();<br>			strmDataType.readBoolean();<br>			x1 = strmDataType.readInt(); // Here's our data<br>			// Read record #2<br>			strmBytes = new ByteArrayInputStream(rec2);<br>			strmDataType = new DataInputStream(strmBytes);<br>			strmDataType.readUTF();<br>			strmDataType.readBoolean();<br>			x2 = strmDataType.readInt(); // Here's our data<br>			// Compare record #1 and #2<br>			if (x1 == x2)<br>			return RecordComparator.EQUIVALENT;<br>			else if (x1 &lt; x2)<br>			return RecordComparator.PRECEDES;<br>			else<br>			return RecordComparator.FOLLOWS;<br>		}<br>		catch (Exception e)<br>		{<br>			return RecordComparator.EQUIVALENT;<br>		}<br>	}<br>}<br><br>Trong
ví dụ này ta vẫn sẽ dùng dữ liệu của ví dụ 4, tiêu chí sắp xếp là theo
kiểu integer, do đó trước hết ta phải lấy dữ liệu trong dãy byte. Tuy
nhiên,,có một lưu ý là do dữ liệu ta cần lấy nằm cuối cùng trong dãy
byte do đó ra cần phải đọc theo thứ tự, tức là phải đọc kiểu String,
boolean rồi mới đến integer:<br>// Read record #1<br>// We want the integer from the record, which is<br>// the last "field" thus we must read the String<br>// and boolean to get to the integer<br>. . .<br>strmDataType.readUTF();<br>strmDataType.readBoolean();<br>x1 = strmDataType.readInt(); // Here's our data<br>// Read record #2<br>. . .<br>strmDataType.readUTF();<br>strmDataType.readBoolean();<br>x2 = strmDataType.readInt(); // Here's our data<br>// Compare record #1 and #2<br>. . . <br><br>Output của ví dụ 5:<br><img src="viewthread_thread,8917_files/clip_image004_002.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 17:01:49 08-05-2006]
      
      
      
      
    </i></i></i></td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [16:56:52 08-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62325"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62325">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062325%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62556"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lequangtrung" class="memberName">lequangtrung</a>
        <br>
        Thành viên yêu thích Java
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/boy1.gif" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>30-03-2006</b><br>
        
             
        Tổng số bài đã viết: <b>67</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62556);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62556"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62556&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"> 
            

            
            <span id="posttopic_62556">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      cảm ơn bác Minh,em sẽ cố gắng học<br>
    
      
      
            ----------------------------------------<br>
            bắt đầu học IT<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [11:46:56 12-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62556"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lequangtrung"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=lequangtrung"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:lequangtrung2007@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="lequangtrung2007@yahoo.com" title="lequangtrung2007@yahoo.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=lequangtrung2007@yahoo.com&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="lequangtrung2007@yahoo.com" title="lequangtrung2007@yahoo.com" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62556">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062556%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62620"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn" class="memberName">hoaipn</a>
        <br>
        Thành viên nghiện Java và JavaVietnam.org
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_003.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>27-06-2005</b><br>
        
             
        Tổng số bài đã viết: <b>108</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62620);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62620"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62620&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0"> 
            

            
            <span id="posttopic_62620">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Anh Minh ơi, em nhìn anh quen quen, không biết đã gặp anh chưa?<br><br>Anh ở HN a`. Khi nào có thời gian ránh anh post tiếp lên nha, mấy tháng nay không thấy bài của anh  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0">  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0">  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0">  <img src="viewthread_thread,8917_files/love.gif" alt="love struck" title="love struck" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [17:36:15 13-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62620"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hoaipn"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:hoaionline@gmail.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="hoaionline@gmail.com" title="hoaionline@gmail.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=hoaionline&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="hoaionline" title="hoaionline" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62620">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062620%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62624"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn" class="memberName">hoaipn</a>
        <br>
        Thành viên nghiện Java và JavaVietnam.org
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_003.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>27-06-2005</b><br>
        
             
        Tổng số bài đã viết: <b>108</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62624);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62624"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62624&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/confused.gif" alt="confused" title="confused" border="0"> 
            

            
            <span id="posttopic_62624">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Tại sao JBuilder 2006 lại không có phần lập trình cho mobile. Em vào
New&gt;Micro, nhưng thấy nó bị mờ đi. hay là JBuilder không hỗ trợ lập
trình cho mobile. cứ phải viết bằng NotePad thì chán chết... <img src="viewthread_thread,8917_files/crying.gif" alt="crying" title="crying" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [02:50:11 14-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62624"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hoaipn"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:hoaionline@gmail.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="hoaionline@gmail.com" title="hoaionline@gmail.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=hoaionline&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="hoaionline" title="hoaionline" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62624">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062624%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62627"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=inymp" class="memberName">inymp</a>
        <br>
        Thành viên yêu thích Java
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>08-10-2005</b><br>
        
             
        Tổng số bài đã viết: <b>64</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62627);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62627"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62627&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_62627">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <div class="quote">Tại
sao JBuilder 2006 lại không có phần lập trình cho mobile. Em vào
New&gt;Micro, nhưng thấy nó bị mờ đi. hay là JBuilder không hỗ trợ lập
trình cho mobile. cứ phải viết bằng NotePad thì chán chết... <img src="viewthread_thread,8917_files/crying.gif" alt="crying" title="crying" border="0"></div><br>Sao bạn không dùng JCreator nhỉ nó hỗ trợ list thả như với java đó.<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [03:20:23 14-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62627"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=inymp"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=inymp"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:i_n_y_m_p@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="i_n_y_m_p@yahoo.com" title="i_n_y_m_p@yahoo.com" border="0"></a>
                
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62627">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062627%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62632"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62632);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62632"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62632&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_62632">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Hi,<br>Theo
mình biết thì JBuilder hỗ trợ rất tốt cho J2ME hay JavaME. Phiên bản
của bạn có thể do không hỗ trợ phần đó. Bạn có thể tìm bản JBuilder
Professional.<br>Nhưng lưu ý với bạn JBuilder là một phần mềm thương
mại. Nên mình expect bạn nên dùng eclipse + j2me pluggins, với các chức
năng không hề thua kém JBuilder.<br>Sau loạt bài này, mình sẽ post bài thêm về cấu hình giữa j2me pluggin và eclipse.<br>Chúc thành công,<br><br>Cheers,<br>Minh<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [04:05:51 14-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62632"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62632">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062632%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62647"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn" class="memberName">hoaipn</a>
        <br>
        Thành viên nghiện Java và JavaVietnam.org
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_003.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>27-06-2005</b><br>
        
             
        Tổng số bài đã viết: <b>108</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62647);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62647"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62647&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/confused.gif" alt="confused" title="confused" border="0"> 
            

            
            <span id="posttopic_62647">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Em download eclipse + J2ME pluggin rồi. nhưng không biết cấu hình như thế nào<br><br>Error Message: "There are no devices defined.<br> Please use device management to create some devices." <img src="viewthread_thread,8917_files/sad.gif" alt="sad" title="sad" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [15:21:02 14-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62647"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hoaipn"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:hoaionline@gmail.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="hoaionline@gmail.com" title="hoaionline@gmail.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=hoaionline&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="hoaionline" title="hoaionline" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62647">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062647%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62687"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lequangtrung" class="memberName">lequangtrung</a>
        <br>
        Thành viên yêu thích Java
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/boy1.gif" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>30-03-2006</b><br>
        
             
        Tổng số bài đã viết: <b>67</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62687);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62687"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62687&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/rose.gif" alt="rose" title="rose" border="0"> 
            

            
            <span id="posttopic_62687">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
có phải file .jad dùng để nạp vào máy di động không?viêt cho mobile em
thấy chỉ cần cài j2me wireless tôl kits là được rồi...sa thấy bác cài
nhiều vậy?<br>
    
      
      
            ----------------------------------------<br>
            bắt đầu học IT<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [12:05:10 15-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62687"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=lequangtrung"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=lequangtrung"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:lequangtrung2007@yahoo.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="lequangtrung2007@yahoo.com" title="lequangtrung2007@yahoo.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=lequangtrung2007@yahoo.com&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="lequangtrung2007@yahoo.com" title="lequangtrung2007@yahoo.com" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62687">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062687%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62703"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn" class="memberName">hoaipn</a>
        <br>
        Thành viên nghiện Java và JavaVietnam.org
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_003.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        viet nam<br>
        
              
        Tham gia: <b>27-06-2005</b><br>
        
             
        Tổng số bài đã viết: <b>108</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62703);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62703"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62703&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_62703">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
Đấy là bác thích viết bằng Notepad. dùng JBuilder, hoặc eclipse sẽ
khoái hơn, dễ nhìn hơn, làm mình viết code thích hơn. Viết bằng notepad
chắc là chỉ copy/paste của anh Minh thôi<br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [15:25:41 15-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62703"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=hoaipn"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=hoaipn"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
                    &nbsp;&nbsp;&nbsp;<a href="mailto:hoaionline@gmail.com"><img src="viewthread_thread,8917_files/button_email.gif" alt="hoaionline@gmail.com" title="hoaionline@gmail.com" border="0"></a>
                
               
              
              &nbsp;&nbsp;&nbsp;<a href="http://edit.yahoo.com/config/send_webmesg?.target=hoaionline&amp;.src=pg"><img src="viewthread_thread,8917_files/yim.gif" alt="hoaionline" title="hoaionline" border="0"></a>
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62703">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062703%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="62904"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gaachamthuocbac" class="memberName">gaachamthuocbac</a>
        <br>
        Thành viên mới
        <br>
        
        <br><br>
        
        <br>
        
        <br>
        
              
        Tham gia: <b>19-05-2006</b><br>
        
             
        Tổng số bài đã viết: <b>5</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(62904);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62904"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=62904&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            
                <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"> 
            

            
            <span id="posttopic_62904">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      Anh Minh tuyệt cú mèo, ngao ngao <img src="viewthread_thread,8917_files/biggrin.gif" alt="biggrin" title="biggrin" border="0"><br>
    
      
      

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [01:49:26 19-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,62904"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=gaachamthuocbac"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=gaachamthuocbac"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#62904">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2062904%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="63344"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(63344);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63344"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63344&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_63344">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>6.Searching with RecordFilter</b><br>Ngoài
việc sắp xếp các record (sử dụng RecordComparator), enumerator còn cung
cấp cơ chế lọc (tìm kiếm các record thỏa mãn một điều kiện nào đó). Khi
sử dụng RecordComparator tất cả các record trong RecordStore đều được
lưu trong một result set. Nhưng khi dùng RecordFilter, chỉ có những
thỏa mãn điều kiện mới có trong enumerator result set.<br><div class="divcode"><code class="prettyprint"><span class="kwd">class</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordFilter</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> searchText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> searchText</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="com">// This is the text to search for</span><span class="pln"><br></span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchText </span><span class="pun">=</span><span class="pln"> searchText</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> matches</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> candidate</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="typ">String</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">candidate</span><span class="pun">).</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br></span><span class="com">// Look for a match</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">searchText </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">searchText</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">else</span><span class="pln"><br></span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></div>Trên
đây là một class đơn giản thực thi interface RecordFilter. Class này sẽ
được gắn với một enumerator, và khi đó enumerator sẽ dùng hàm matches()
duyệt hết recordstore lấy ra những record cần tìm:<br>// Create a new search filter<br>SearchFilter search = new SearchFilter("search text");<br>// Reference the filter when creating the result set<br>RecordEnumeration re =<br>rs.enumerateRecords(search,null,false);<br>// If there is at least one record in result set, a match<br>was found<br>if (re.numRecords() &gt; 0)<br>// Do something<br><br>RecordFilter Interface: javax.microedition.rms.RecordFilter<br>Method	Description<br>boolean matches(byte[] candidate)	Tìm kiếm record thỏa mãn một điều kiện nào đó<br><br>Sau đây ta sẽ xem qua chương trình tìm kiếm đơn giản sử dụng interface RecordFilter:<br>Ví dụ 6:<br><div class="divcode"><code class="prettyprint"><span class="com">/*--------------------------------------------------<br>* SimpleSearch.java<br>*<br>* Display a Form and Textbox for searching records<br>* Each record contains a String object.<br>*<br>* Uses: Enumeration, RecordFilter<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SimpleSearch</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br></span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> </span><span class="com">// The main form</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pln"> siMatch</span><span class="pun">;</span><span class="pln"> </span><span class="com">// The matching text, if any</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmFind</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Command to search record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Command to insert items</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TextField</span><span class="pln"> tfFind</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Search text as requested by user</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_6"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Name of record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SimpleSearch</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Define textfield, stringItem and commands</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tfFind </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">(</span><span class="str">"Find"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">ANY</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; siMatch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmFind </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Find"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create the form, add commands</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Record Search"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmFind</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Append textfield and stringItem</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">tfFind</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">siMatch</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Capture events</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//--------------------------------</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Open and write to record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//--------------------------------</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeTestData</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Write a series of records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Create array of data to write into record store<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeTestData</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> golfClubs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Wedge...good from the sand trap"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Truong dai hoc khoa hoc tu nhien"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Putter...only on the green"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Hoc mon LTUDM rat bo ich!"</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecords</span><span class="pun">(</span><span class="pln">golfClubs</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Write to record store.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeRecords</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> sData</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> record</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Only add the records once</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; record </span><span class="pun">=</span><span class="pln"> sData</span><i><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">record</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> record</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Search using enumerator and record filter<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> searchRecordStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Record store is not empty</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Setup the search filter with the user requested text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">SearchFilter</span><span class="pln"> search </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pun">(</span><span class="pln">tfFind</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordEnumeration</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">enumerateRecords</span><span class="pun">(</span><span class="pln">search</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// A match was found using the filter</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">numRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Show match in the stringItem on the form</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; siMatch</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">nextRecord</span><span class="pun">()));</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; re</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Free enumerator</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmFind</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; searchRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="com">/*--------------------------------------------------<br>* Search for text within a record<br>* Each record passed in contains only text (String)<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordFilter</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> searchText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> searchText</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// This is the text to search for</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchText </span><span class="pun">=</span><span class="pln"> searchText</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> matches</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> candidate</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">candidate</span><span class="pun">).</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Look for a match</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">searchText </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">searchText</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></i></code></div><i><br><br>Sau
khi viết class SearchFilter, ta tạo một instance search, khi khai báo
class RecordEnumeration sẽ tham chiếu đến instance trên. Khi đó chỉ có
những record thỏa mãn điều kiện (trong hàm matches()) mới hiển thị
trong result set:<br>// Setup the search filter with the user requested text<br>SearchFilter search = new SearchFilter(tfFind.getString());<br>RecordEnumeration re =rs.enumerateRecords(search,null,false);<br>// A match was found using the filter<br>if (re.numRecords() &gt; 0)<br>siMatch.setText(new String(re.nextRecord()));<br><br> <br>Output:<br><img src="viewthread_thread,8917_files/clip_image005_002.jpg" border="0"> <br><br>Lưu ý ví dụ trên không phân biệt chữ hoa thường.<br><br>Tiếp theo đây chúng ta lại xét thêm một ví dụ về tìm kiếm record. Ví dụ 7:<br></i><div class="divcode"><code class="prettyprint"><i><span class="com">/*--------------------------------------------------<br>* SearchStreams.java<br>*<br>* Display a Form and Textbox for searching records<br>* Each record contains multiple Java data types -<br>* (String, boolean and integer). Use the String<br>* data for searching<br>*<br>* Uses: Enumeration, RecordFilter<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">lcdui</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SearchStreams</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">CommandListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Display</span><span class="pln"> display</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Reference to Display object</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Form</span><span class="pln"> fmMain</span><span class="pun">;</span><span class="pln"> </span><span class="com">// The main form</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pln"> siMatch</span><span class="pun">;</span><span class="pln"> </span><span class="com">// The matching text, if any</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmFind</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Command to search record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Command</span><span class="pln"> cmExit</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Command to insert items</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TextField</span><span class="pln"> tfFind</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Search text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_7"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Name of record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SearchStreams</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Display</span><span class="pun">.</span><span class="pln">getDisplay</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Define textfield, stringItem and commands</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tfFind </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">(</span><span class="str">"Find"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TextField</span><span class="pun">.</span><span class="pln">ANY</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; siMatch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StringItem</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmExit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">EXIT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cmFind </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">(</span><span class="str">"Find"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Command</span><span class="pun">.</span><span class="pln">SCREEN</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create the form, add commands</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Form</span><span class="pun">(</span><span class="str">"Record Search"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmExit</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">addCommand</span><span class="pun">(</span><span class="pln">cmFind</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Append textfield and stringItem</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">tfFind</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">siMatch</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Capture events</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fmMain</span><span class="pun">.</span><span class="pln">setCommandListener</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//--------------------------------</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Open and write to record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//--------------------------------</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Create the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeTestData</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Write a series of records</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display</span><span class="pun">.</span><span class="pln">setCurrent</span><span class="pun">(</span><span class="pln">fmMain</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Create three arrays to write into record store<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeTestData</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> pets </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"duke - big, goofy golden retriever"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"tiger - we found in a field"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"spike - loves chasing car tires"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"beauregard - barks at everything"</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> dog </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> rank </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeStream</span><span class="pun">(</span><span class="pln">pets</span><span class="pun">,</span><span class="pln"> dog</span><span class="pun">,</span><span class="pln"> rank</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Write to record store using streams.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeStream</span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> sData</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">[]</span><span class="pln"> bData</span><span class="pun">,</span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> iData</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Only add the records once</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write data into an internal byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayOutputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayOutputStream</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types into the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataOutputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataOutputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> record</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Write Java data types</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeUTF</span><span class="pun">(</span><span class="pln">sData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeBoolean</span><span class="pun">(</span><span class="pln">bData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">writeInt</span><span class="pun">(</span><span class="pln">iData</span><i><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Clear any buffered data</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Get stream data into byte array and write record</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; record </span><span class="pun">=</span><span class="pln"> strmBytes</span><span class="pun">.</span><span class="pln">toByteArray</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">record</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> record</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Toss any data in the internal array so writes</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// starts at beginning (of the internal array)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Search using enumerator and record filter<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> searchRecordStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Record store is not empty</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rs</span><span class="pun">.</span><span class="pln">getNumRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Setup the search filter with the user requested text</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">SearchFilter</span><span class="pln"> search </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pun">(</span><span class="pln">tfFind</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordEnumeration</span><span class="pln"> re </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">enumerateRecords</span><span class="pun">(</span><span class="pln">search</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// A match was found using the filter</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">numRecords</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read from the specified byte array</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">re</span><span class="pun">.</span><span class="pln">nextRecord</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Show matching result in stringItem component on form</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; siMatch</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="pln">strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">());</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; search</span><span class="pun">.</span><span class="pln">searchFilterClose</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record filter</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close stream</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close stream</span><span class="pln"><br>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; re</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Free enumerator</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> commandAction</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Displayable</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmFind</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; searchRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">==</span><span class="pln"> cmExit</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="com">/*--------------------------------------------------<br>* Search for text within a record<br>* Each record passed in contains multiple Java data<br>* types (String, boolean and integer)<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordFilter</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> searchText </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read from a specified byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pln"> strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Read Java data types from the above byte array</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pln"> strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">SearchFilter</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> searchText</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// This is the text to search for</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchText </span><span class="pun">=</span><span class="pln"> searchText</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Cleanup</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> searchFilterClose</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">strmBytes </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">strmDataType </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> matches</span><span class="pun">(</span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> candidate</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">String</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmBytes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayInputStream</span><span class="pun">(</span><span class="pln">candidate</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strmDataType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DataInputStream</span><span class="pun">(</span><span class="pln">strmBytes</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Although 3 pieces of data were written to</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// the record (String, boolean and integer)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// we only need one read because the string to</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// search is the first "field" in the record</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; str </span><span class="pun">=</span><span class="pln"> strmDataType</span><span class="pun">.</span><span class="pln">readUTF</span><span class="pun">().</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Look for a match</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">str </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">searchText</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></i></i></i></i></code></div><i><i><i><i><br>Cùng
có chức năng tìm kiếm nhưng ví dụ 7 khác ví dụ 6 ở chỗ dữ liệu lưu vào
record. Ở ví dụ này dữ liệu lưu vào record dưới dạng dãy byte, và trong
dãy byte này ta lại lưu nhiều trường dữ liệu:<br>strmDataType.writeUTF(sData<i>); // Write Strings<br>strmDataType.writeBoolean(bData<i>); // Write booleans<br>strmDataType.writeInt(iData<i>); // Write integers<br><br>Trong
hàm searchRecordStore() ta tạo một bộ tìm kiếm và enumerator. Phương
thức matches() (của class SearchFilter) sẽ được gọi bởi enumerator và
được áp dụng cho mỗi record trong RecordStore. Để đọc được đúng dữ liệu
cần dùng ta cần dùng hai stream – một dùng để đọc dãy byte trong record
và một dùng để đọc đúng kiểu dữ liệu trong dãy byte đó.<br><br>strmBytes = new ByteArrayInputStream(candidate);<br>strmDataType = new DataInputStream(strmBytes);<br>str = strmDataType.readUTF().toLowerCase();<br><br>Sau đó chuỗi này sẽ được so sánh với searchText:<br>if (str != null &amp;&amp; str.indexOf(searchText) != -1)<br>return true;<br>else<br>return false;<br><br>Output:<br><img src="viewthread_thread,8917_files/clip_image006_003.jpg" border="0"><br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
        ----------------------------------------<br>
        [Thay đổi 1 lần,
        thay đổi lần cuối bởi <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a> lúc 16:04:46 26-05-2006]
      
      
      
      
    </i></i></i></i></i></i></i></td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [16:00:42 26-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,63344"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#63344">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2063344%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="63345"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-body">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(63345);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63345"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63345&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_63345">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>7.Notification of Changes with RecordListener</b><br>Để
phát hiện các thay đổi cũng như thêm vào các Record trong RecordStore,
RMS cung cấp giao diện RecordListener. Giao diện này định nghĩa 3
phương thức, các phương thức có 2 trị vào là một đối tượng kiểu
RecordStore và một số int chứa recordID. Các phương thức đó là:<br><br>RecordListener Interface: javax.microedition.rms.RecordListener<br>Method	Description<br>void recordAdded(RecordStore recordStore, int recordId)<br>	Được gọi khi thêm 1 record<br>void recordChanged(RecordStore recordStore, int recordId)<br>	Được gọi khi record bi thay đổi<br>void recordDeleted(RecordStore recordStore, int recordId)<br>	Được gọi khi record bị xóa<br><br>Ví dụ 8: sử dụng RecordListener<br><br><div class="divcode"><code class="prettyprint"><span class="com">/*--------------------------------------------------<br>* RmsListener.java<br>*<br>* Test the RMS listener methods<br>*<br>* No GUI interface, all output is to the console<br>*-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">io</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">midlet</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">rms</span><span class="pun">.*;</span><span class="pln"><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">RmsListener</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">MIDlet</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pln"> rs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> REC_STORE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"db_8"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">RmsListener</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Open record store and add listener</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; openRecStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecordListener</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">TestRecordListener</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Initiate actions that will wake up the listener</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; writeRecord</span><span class="pun">(</span><span class="str">"J2ME and MIDP"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateRecord</span><span class="pun">(</span><span class="str">"MIDP and J2ME"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecord</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closeRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Close record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteRecStore</span><span class="pun">();</span><span class="pln"> </span><span class="com">// Remove the record store</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> destroyApp</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> unconditional </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> startApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// There is no user interface, go ahead and shutdown</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroyApp</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; notifyDestroyed</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> pauseApp</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> openRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create record store if it does not exist</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">openRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> closeRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">closeRecordStore</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecStore</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">listRecordStores</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">RecordStore</span><span class="pun">.</span><span class="pln">deleteRecordStore</span><span class="pun">(</span><span class="pln">REC_STORE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> writeRecord</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> rec </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">addRecord</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> rec</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> updateRecord</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">setRecord</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">getBytes</span><span class="pun">(),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">length</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteRecord</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs</span><span class="pun">.</span><span class="pln">deleteRecord</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db</span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="kwd">toString</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Simple message to console for debug/errors<br>&nbsp; &nbsp; &nbsp; &nbsp; * When used with Exceptions we should handle the<br>&nbsp; &nbsp; &nbsp; &nbsp; * error in a more appropriate manner.<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> db</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> str</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Msg: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/*--------------------------------------------------<br>&nbsp; &nbsp; &nbsp; &nbsp; * Listen for updates to the record store<br>&nbsp; &nbsp; &nbsp; &nbsp; *-------------------------------------------------*/</span><span class="pln"><br></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TestRecordListener</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">RecordListener</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> recordAdded</span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pln"> recordStore</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> recordId</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record with ID#: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> recordId </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"added to RecordStore: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; recordStore</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> recordDeleted</span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pln"> recordStore</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> recordId</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record with ID#: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> recordId </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"deleted from RecordStore: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; recordStore</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> recordChanged</span><span class="pun">(</span><span class="typ">RecordStore</span><span class="pln"> recordStore</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> recordId</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">try</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Record with ID#: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> recordId </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"changed in RecordStore: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; recordStore</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">err</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></code></div><br><br>Output:<br><img src="viewthread_thread,8917_files/clip_image007_002.jpg" border="0"> <br><br><b>8.Exception Handling</b><br>Các
phương thức trong API của RMS ngoài việc phát sinh các ngoại lệ thông
thường đến môi trường chạy (runtime enviroment). RMS còn định nghĩa
thêm các ngoại lệ trong gói javax.microedition.rms như sau:<br>•InvalidRecordIDException: Ngoại lệ này phát sinh ra khi không thể thao tác trên Record vì RecordID không thích hợp.<br>•RecordStoreFullException: Ngoại lệ này phát sinh ra khi không còn đủ vùng nhớ.<br>•RecordStoreNotFoundException: Ngoại lệ này phát sinh ra khi mở một RecordStore không tồn tại.<br>•RecordStoreNotOpenException: Ngoại lệ này phát sinh ra khi thao tác trên một RecordStore đã bị đóng.<br>•RecordStoreException: Đây là lớp cha của 4 lớp trên, ngoại lệ này mô tả lỗi chung<br>•nhất trong quá trình thao tác với RMS.<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-body">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-body">
          <td nowrap="nowrap">
          [16:03:05 26-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,63345"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#63345">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2063345%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>




<a name="63676"></a>

  <a name="lastpost"></a>

<table class="tborder" align="center" cellpadding="5" cellspacing="0" width="95%">
  <tbody><tr class="portlet-section-alternate">
    <td rowspan="2" valign="top" width="155">
      
          
          
          <img src="viewthread_thread,8917_files/male.gif" alt="Nam" title="Nam" border="0">
          
        <a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller" class="memberName">MinhKiller</a>
        <br>
        JavaVietnam SuperMod - Giải nhất Developer of the Year 2006
        <br>
        
        <div align="center"><img src="viewthread_thread,8917_files/getavatar_005.jpeg" alt="Hình đại diện của thành viên" title="Hình đại diện của thành viên" border="0"></div>
        
        <br>
        
        Việt Nam<br>
        
              
        Tham gia: <b>10-09-2003</b><br>
        
             
        Tổng số bài đã viết: <b>1137</b><br>
        

        
          Trạng thái:
          
              Ngoại tuyến
          
        
      
    </td>
    <td valign="top">
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="messageTextBold" valign="top" width="100%">
            
            
            
              <a href="#message" onclick="QuickReply(63676);"><img src="viewthread_thread,8917_files/button_quick_reply.gif" alt="Trả lời nhanh cho bài này" title="Trả lời nhanh cho bài này" border="0"></a>&nbsp;
              
            
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63676"><img src="viewthread_thread,8917_files/button_reply.gif" alt="Trả lời bài viết" title="Trả lời bài viết" border="0"></a>&nbsp;
               <a href="http://www.javavietnam.org/javavn/mvnforum/addpost?parent=63676&amp;quote=yes"><img src="viewthread_thread,8917_files/button_quote.gif" alt="Trả lời với trích dẫn" title="Trả lời với trích dẫn" border="0"></a>&nbsp;
            
              
          </td>
          
        </tr>
        <tr>
          <td colspan="2" class="messageTextBold" align="left" valign="top" width="100%">
            

            
            <span id="posttopic_63676">
              Re: Lập trình trên thiết bị di động với J2ME
            </span>
          </td>
        </tr>   
      </tbody></table>
      <hr size="1" noshade="noshade">
    
      <b>VI.The Generic Connection Framework</b><br>Với
kích thước hơn 200 kb và hơn 100 class và interfaces trong gói java.io,
java.net của J2SE sẽ chiếm hầu hết bộ nhớ vốn dĩ đã nhỏ bé của những
thiết bị đi động. Do đó Sun không thể kế thừa những gói này vào trong
J2ME, mà họ đã xây dựng một chuẩn là Generic Connection Framework
(GCF). GCF sẽ giúp cho các thiết bị di động có thể truy xuất được các
tài nguyên mạng, cũng như các tài nguyên khác mà địa chỉ của chúng được
xác định bằng URL.<br>Generic Connection Framework bao gồm một tập hợp
các interfaces được khai báo trong package javax.microedition.io. Hình
vẽ sau thể hiện mối quan hệ giữa các interfaces:<br><img src="viewthread_thread,8917_files/clip_image00.htm" border="0"><br>Có
một class chính là Connector và 7 interfaces đã được định nghĩa trong
GCF. Từ hình vẽ ta dễ dàng nhận thấy GCF hỗ trợ kết nối dạng
datagram(packet) và stream. Class Connector được dùng để mở kết nối đến
một tài nguyên nào đó thông qua phương thức open được khai báo như sau:<br><b>Connector.Open("protocol:address;parameters");</b> <br><br><b>1.Những protocol được hỗ trợ trong GCF</b><br>GCF
hỗ trỡ nhiều loại protocol khác nhau. Khi có yêu cầu tạo một kết nối,
class Connector sẽ sử dụng phương thức Class.forName() để tìm kiếm một
class phù hợp với protocol đó. Nếu tìm thấy một đối tượng sẽ được trả
về và thực thi interface Connection (hình vẽ). Dưới đây là cách để mở
các kết nối khác nhau:<br>Connector.Open("socket://www.corej2me.com.com:55");<br>Connector.Open("<a href="http://www.corej2me.com%22%29/;" target="_blank">http://www.corej2me.com");</a><br>Connector.Open("datagram://www.corej2me.com:1000");<br>Connector.Open("file://makefile.txt");<br><br><b><i>Mở một kết nối</i></b><br>Để tạo kết nối, GCF đã cung cấp cho ta đến 7 phương thức:<br>Connector  (public class Connector)<br>public static Connection open(String name)<br>public static Connection open(String name)<br>public static Connection open(String name, int mode, boolean timeouts)<br>public static DataInputStream openDataInputStream(String name)<br>public static DataOutputStream openDataOutputStream(String name)<br>public static InputStream openInputStream(String name)<br>public static OutputStream openOutputStream(String name)<br><br>Dưới đây là đoạn code mở kết nối thông qua stream<br>// Create a ContentConnection<br>String url = "<a href="http://www.corej2me.com%22/" target="_blank">http://www.corej2me.com"</a><br>ContentConnection connection = (ContentConnection) Connector.open(url);<br><br>// With the connection, open a stream<br>InputStream iStrm = connection.openInputStream();<br><br>// ContentConnection includes a length method<br>int length = (int) connection.getLength();<br>if (length != -1)<br>{<br>  byte imageData[] = new byte[length];<br><br>  // Read the data into an array<br>  iStrm.read(imageData);<br>}<br><br>Tuy
nhiên, ngoài class ContentConnection, ta cũng có thể mở một kết nối
trực tiếp bằng InputStream. Sau đây là đoạn code cho phép tải về một
bức ảnh và sau đó tạo lại bức ảnh đó:<br><div class="divcode"><code class="prettyprint"><span class="typ">InputStream</span><span class="pln"> iStrm </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">InputStream</span><span class="pun">)</span><span class="pln"> </span><span class="typ">Connector</span><span class="pun">.</span><span class="pln">openInputStream</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln"><br></span><span class="typ">Image</span><span class="pln"> img </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">try</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="typ">ByteArrayOutputStream</span><span class="pln"> bStrm </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ByteArrayOutputStream</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> ch</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">((</span><span class="pln">ch </span><span class="pun">=</span><span class="pln"> iStrm</span><span class="pun">.</span><span class="pln">read</span><span class="pun">())</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; bStrm</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="pln">ch</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Place into image array</span><span class="pln"><br>&nbsp; </span><span class="kwd">byte</span><span class="pln"> imageData</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bStrm</span><span class="pun">.</span><span class="pln">toByteArray</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Create the image from the byte array</span><span class="pln"><br>&nbsp; img </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Image</span><span class="pun">.</span><span class="pln">createImage</span><span class="pun">(</span><span class="pln">imageData</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> imageData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="kwd">finally</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// Clean up</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">iStrm </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; iStrm</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></div><br>Lưu
ý: trong đoạn code trên do không sử dụng class ContentConnection, nên
ta sẽ không biết được kích thước của dữ liệu sẽ tải về. Để khắc phục
vấn đề này, người ta sẽ dùng ByteArrayOutputStream để lưu dữ liệu tải
về.<br>
    
      
      
            ----------------------------------------<br>
            JMinhKiller minhkiller = new JMinhKiller();<br>minhkiller.studyJ2ME();<br>minhkiller.studyJ2SDK();<br>minhkiller.studyJ2EE();<br>minhkiller.useOpenSourceTools();<br>minhkiller.getAcquaintedToEveryBody();<br>
        

      
      
      
      
    </td>
  </tr>
  <tr class="portlet-section-alternate">
    <td>
      <table class="noborder" cellpadding="0" cellspacing="0" width="100%">
        <tbody><tr class="portlet-section-alternate">
          <td nowrap="nowrap">
          [14:37:59 31-05-2006]
          
            <a href="http://www.javavietnam.org/javavn/mvnforum/printpost_post,63676"><img src="viewthread_thread,8917_files/printer.gif" alt="Xem bản để in của bài viết" title="Xem bản để in của bài viết" border="0"></a>
          </td>
          <td width="100%">
            
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/viewmember?member=MinhKiller"><img src="viewthread_thread,8917_files/button_profile.gif" alt="Xem thông tin cá nhân của thành viên" title="Xem thông tin cá nhân của thành viên" border="0"></a>
              &nbsp;&nbsp;&nbsp;<a href="http://www.javavietnam.org/javavn/mvnforum/addmessage?MessageToList=MinhKiller"><img src="viewthread_thread,8917_files/button_pm.gif" alt="Gửi thông điệp cá nhân" title="Gửi thông điệp cá nhân" border="0"></a>
              
               
              &nbsp;&nbsp;&nbsp;<a href="http://www.itgatevn.com.vn/default.aspx"><img src="viewthread_thread,8917_files/www.gif" alt="http://www.itgatevn.com.vn/default.aspx" title="http://www.itgatevn.com.vn/default.aspx" border="0"></a>
              
              
              
            
          </td>
          <td nowrap="nowrap">
            <a href="#63676">[Liên kết của bài]</a>
              
            <a href="http://www.javavietnam.org/javavn/mvnforum/sendmail?ToAdmin=true&amp;Subject=Report%20threatening%20content%20%28ThreadID%20=%208917%20and%20PostID%20=%2063676%29"><img src="viewthread_thread,8917_files/threat.gif" alt="Report threatening content to Admin" title="Report threatening content to Admin" border="0"></a>
              
            &nbsp;<a href="#"><img src="viewthread_thread,8917_files/up.gif" alt="Chuyển về đầu trang" title="Chuyển về đầu trang" border="0"></a>&nbsp;
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>



<table align="center" width="95%">
  <tbody><tr>
    <td>
      


<table cellpadding="0" cellspacing="0">
  <tbody><tr class="pager">
    <td align="right" nowrap="nowrap">
      Số bài viết: 69&nbsp;&nbsp;&nbsp;Số trang: 2&nbsp;&nbsp;&nbsp;[
      
      
        
          <span class="pagerCurrent">1</span>
        
      
        
          <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,8917_offset,50" class="pager">2</a>
        
      
      | <a href="http://www.javavietnam.org/javavn/mvnforum/viewthread_thread,8917_offset,50" class="pager">Trang kế tiếp</a> ]
    </td>
  </tr>
</tbody></table>


    </td>
    <td align="right">
      <a class="command" href="http://www.javavietnam.org/javavn/mvnforum/printthread_thread,8917"><img src="viewthread_thread,8917_files/button_printer_friendly_version.gif" alt="Xem bản để in" title="Xem bản để in" border="0"></a>&nbsp;
    
      <a class="command" href="http://www.javavietnam.org/javavn/mvnforum/addpost?forum=42"><img src="viewthread_thread,8917_files/button_new_thread.gif" alt="Tạo luồng mới" title="Tạo luồng mới" border="0"></a>
    
    </td>
  </tr>
</tbody></table>

<input name="previewUrl" id="previewUrl" value="addpost" type="hidden">

<form action="addpostprocess" method="post" name="mvnform">

  <input name="parent" id="parent" value="82196" type="hidden">
  <input name="PostTopic" value="Re: Lập trình trên thiết bị di động với J2ME" type="hidden">
  <input name="message" value="" type="hidden">
<table align="center" width="95%">
  <tbody><tr> 
    <td>
      <span id="quickreplymessage" class="highlight">Trả lời nhanh cho bài [82196, Re: Lập trình trên thiết bị di động với J2ME]</span>
      <br><textarea name="input" id="input" rows="7" cols="65" onkeyup="initTyper(this);"></textarea>
    </td>
  </tr>     
  
  <tr>
    <td>
      <input name="vnselector" id="TELEX" value="TELEX" onclick="setTypingMode(1);" class="noborder" type="radio"> TELEX&nbsp;&nbsp;&nbsp;&nbsp;
      <input name="vnselector" id="VNI" value="VNI" onclick="setTypingMode(2);" class="noborder" type="radio"> VNI&nbsp;&nbsp;&nbsp;&nbsp;
      <input name="vnselector" id="VIQR" value="VIQR" onclick="setTypingMode(3);" class="noborder" type="radio"> VIQR&nbsp;&nbsp;&nbsp;&nbsp;
      <input name="vnselector" id="NOVN" value="NOVN" onclick="setTypingMode(0);" class="noborder" type="radio"> Không sử dụng
      <script type="text/javascript" language="JavaScript">
      //<![CDATA[
      initVNTyperMode();
      //]]>
      </script>
    </td>
  </tr>
  
  <tr>
    <td colspan="2" class="left">
      <input name="preview" value="" type="hidden">
      <input name="previewbutton" class="portlet-form-button" value="Xem trước" onclick="javascript:PreviewForm()" type="button">
      <input name="submitbutton" value="Trả lời bài viết" onclick="javascript:SubmitForm()" class="portlet-form-button" type="button">
    </td>
  </tr>
</tbody></table>
</form>


<br>
 




<table class="tborder-no_need" align="center" cellpadding="3" cellspacing="0" width="95%">
   <tbody><tr class="portlet-section-body">
   
     <td align="center"><!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="_top">
<table bgcolor="#ffffff" border="0">
<tbody><tr><td align="left" valign="top" height="32" nowrap="nowrap">
<a href="http://www.google.com/">
<img src="viewthread_thread,8917_files/Logo_25wht.gif" alt="Google" align="middle" border="0"></a>
</td>
<td nowrap="nowrap">
<input name="domains" value="www.javavietnam.org" type="hidden">
<label for="sbi" style="display: none;">Enter your search terms</label>
<input name="q" size="31" maxlength="255" value="" id="sbi" type="text">
<label for="sbb" style="display: none;">Submit search form</label>
<input name="sa" value="Search" id="sbb" type="submit">
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<table>
<tbody><tr>
<td>
<input class="noborder" name="sitesearch" value="" checked="checked" id="ss0" type="radio">
<label for="ss0" title="Search the Web"><font color="#000000" size="-1">Web</font></label></td>
<td>
<input class="noborder" name="sitesearch" value="www.javavietnam.org" id="ss1" type="radio">
<label for="ss1" title="Search www.javavietnam.org"><font color="#000000" size="-1">www.javavietnam.org</font></label></td>
</tr>
</tbody></table>
<input name="client" value="pub-4755965374109189" type="hidden">
<input name="forid" value="1" type="hidden">
<input name="channel" value="4062821725" type="hidden">
<input name="ie" value="UTF-8" type="hidden">
<input name="oe" value="UTF-8" type="hidden">
<input name="safe" value="active" type="hidden">
<input name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:140;L:http://www.javavietnam.org/javavn/mvnplugin/mvnforum/images/logo.gif;S:http://;FORID:1" type="hidden">
<input name="hl" value="en" type="hidden">
</td></tr></tbody></table>
</form>
<!-- SiteSearch Google --></td>
   
   </tr>
</tbody></table>
<br>


<hr class="hrfooter">

<table align="center" cellpadding="0" cellspacing="0" width="95%">
  <tbody><tr>
    <td class="pageFooter" align="left">
    
      <a href="http://www.javavietnam.org/javavn/mvnforum/rsssummary" class="topmenu"><img src="viewthread_thread,8917_files/xml.gif" alt="Tổng hợp tin (RSS)" title="Tổng hợp tin (RSS)" align="bottom" border="0" vspace="0" hspace="0"></a>
    
    </td> 
    <td class="pageFooter" align="right">
      Múi giờ hiện tại là +7<br>    
      09:11:01 10-01-2009
    </td>
  </tr>
</tbody></table>

<hr class="hrfooter">
<br>

<div class="pageFooter" align="center">
  <!--
  We request you retain the full copyright notice below including the link to www.mvnForum.com.
  This not only gives respect to the large amount of time given freely by the developers
  but also helps build interest, traffic and use of mvnForum. If you cannot (for good
  reason) retain the full copyright we request you at least leave in place the
  "Powered by mvnForum" line, with mvnForum linked to http://www.mvnForum.com.
  These conditions are parts of the licence this software is released under.
  For detailed information about mvnForum License Agreement, look at the License Notice at
  the top of all jsp, java files, README.txt and the GNU General Public License.

  NOTE: In case you need to remove this "Powered by mvnForum", please contact us at 
  web site www.MyVietnam.net to order a special "Copyright notice Removal" license 
  with a small license fee. After receiving this special license, you can remove 
  the copyright notice in this footer.jsp file.

  MyVietnam.net Group
  -->
  Powered by <a href="http://www.mvnforum.com/" target="_blank">mvnForum Enterprise 1.3-dev</a> (Build: 24 July 2008)<br>
  Copyright © 2002-2008 by <a href="http://www.myvietnam.net/" target="_blank">MyVietnam.net</a>
  <p>&nbsp;</p>
</div>



<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="viewthread_thread,8917_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4030481-2");
pageTracker._initData();
pageTracker._trackPageview();

</script>
<!-- End Google Analytics -->



</body></html>